(function(se,v){typeof exports=="object"&&typeof module<"u"?v(exports,require("react"),require("react-dom"),require("dayjs"),require("framer-motion"),require("@tanstack/react-table")):typeof define=="function"&&define.amd?define(["exports","react","react-dom","dayjs","framer-motion","@tanstack/react-table"],v):(se=typeof globalThis<"u"?globalThis:se||self,v(se.TixiaDesignSystem={},se.React,se.ReactDOM,se.dayjs,se.FramerMotion,se.ReactTable))})(this,function(se,v,sn,ze,Rt,Qr){"use strict";function lv(t){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const n in t)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:()=>t[n]})}}return e.default=t,Object.freeze(e)}const $f=lv(v);var wf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vl={exports:{}},Vo={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sf;function dv(){if(Sf)return Vo;Sf=1;var t=v,e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function i(a,l,d){var c,u={},f=null,p=null;d!==void 0&&(f=""+d),l.key!==void 0&&(f=""+l.key),l.ref!==void 0&&(p=l.ref);for(c in l)r.call(l,c)&&!s.hasOwnProperty(c)&&(u[c]=l[c]);if(a&&a.defaultProps)for(c in l=a.defaultProps,l)u[c]===void 0&&(u[c]=l[c]);return{$$typeof:e,type:a,key:f,ref:p,props:u,_owner:o.current}}return Vo.Fragment=n,Vo.jsx=i,Vo.jsxs=i,Vo}var Wo={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ef;function cv(){return Ef||(Ef=1,process.env.NODE_ENV!=="production"&&function(){var t=v,e=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),h=Symbol.iterator,b="@@iterator";function g(N){if(N===null||typeof N!="object")return null;var Z=h&&N[h]||N[b];return typeof Z=="function"?Z:null}var y=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function x(N){{for(var Z=arguments.length,ie=new Array(Z>1?Z-1:0),ve=1;ve<Z;ve++)ie[ve-1]=arguments[ve];k("error",N,ie)}}function k(N,Z,ie){{var ve=y.ReactDebugCurrentFrame,Ie=ve.getStackAddendum();Ie!==""&&(Z+="%s",ie=ie.concat([Ie]));var He=ie.map(function(Te){return String(Te)});He.unshift("Warning: "+Z),Function.prototype.apply.call(console[N],console,He)}}var E=!1,S=!1,C=!1,M=!1,I=!1,D;D=Symbol.for("react.module.reference");function z(N){return!!(typeof N=="string"||typeof N=="function"||N===r||N===s||I||N===o||N===d||N===c||M||N===p||E||S||C||typeof N=="object"&&N!==null&&(N.$$typeof===f||N.$$typeof===u||N.$$typeof===i||N.$$typeof===a||N.$$typeof===l||N.$$typeof===D||N.getModuleId!==void 0))}function $(N,Z,ie){var ve=N.displayName;if(ve)return ve;var Ie=Z.displayName||Z.name||"";return Ie!==""?ie+"("+Ie+")":ie}function O(N){return N.displayName||"Context"}function T(N){if(N==null)return null;if(typeof N.tag=="number"&&x("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof N=="function")return N.displayName||N.name||null;if(typeof N=="string")return N;switch(N){case r:return"Fragment";case n:return"Portal";case s:return"Profiler";case o:return"StrictMode";case d:return"Suspense";case c:return"SuspenseList"}if(typeof N=="object")switch(N.$$typeof){case a:var Z=N;return O(Z)+".Consumer";case i:var ie=N;return O(ie._context)+".Provider";case l:return $(N,N.render,"ForwardRef");case u:var ve=N.displayName||null;return ve!==null?ve:T(N.type)||"Memo";case f:{var Ie=N,He=Ie._payload,Te=Ie._init;try{return T(Te(He))}catch{return null}}}return null}var A=Object.assign,_=0,w,L,j,B,F,P,V;function Y(){}Y.__reactDisabledLog=!0;function X(){{if(_===0){w=console.log,L=console.info,j=console.warn,B=console.error,F=console.group,P=console.groupCollapsed,V=console.groupEnd;var N={configurable:!0,enumerable:!0,value:Y,writable:!0};Object.defineProperties(console,{info:N,log:N,warn:N,error:N,group:N,groupCollapsed:N,groupEnd:N})}_++}}function oe(){{if(_--,_===0){var N={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:A({},N,{value:w}),info:A({},N,{value:L}),warn:A({},N,{value:j}),error:A({},N,{value:B}),group:A({},N,{value:F}),groupCollapsed:A({},N,{value:P}),groupEnd:A({},N,{value:V})})}_<0&&x("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var W=y.ReactCurrentDispatcher,H;function G(N,Z,ie){{if(H===void 0)try{throw Error()}catch(Ie){var ve=Ie.stack.trim().match(/\n( *(at )?)/);H=ve&&ve[1]||""}return`
`+H+N}}var ce=!1,fe;{var ge=typeof WeakMap=="function"?WeakMap:Map;fe=new ge}function $e(N,Z){if(!N||ce)return"";{var ie=fe.get(N);if(ie!==void 0)return ie}var ve;ce=!0;var Ie=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var He;He=W.current,W.current=null,X();try{if(Z){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(Vt){ve=Vt}Reflect.construct(N,[],Te)}else{try{Te.call()}catch(Vt){ve=Vt}N.call(Te.prototype)}}else{try{throw Error()}catch(Vt){ve=Vt}N()}}catch(Vt){if(Vt&&ve&&typeof Vt.stack=="string"){for(var Ee=Vt.stack.split(`
`),jt=ve.stack.split(`
`),it=Ee.length-1,ut=jt.length-1;it>=1&&ut>=0&&Ee[it]!==jt[ut];)ut--;for(;it>=1&&ut>=0;it--,ut--)if(Ee[it]!==jt[ut]){if(it!==1||ut!==1)do if(it--,ut--,ut<0||Ee[it]!==jt[ut]){var on=`
`+Ee[it].replace(" at new "," at ");return N.displayName&&on.includes("<anonymous>")&&(on=on.replace("<anonymous>",N.displayName)),typeof N=="function"&&fe.set(N,on),on}while(it>=1&&ut>=0);break}}}finally{ce=!1,W.current=He,oe(),Error.prepareStackTrace=Ie}var Bo=N?N.displayName||N.name:"",Zr=Bo?G(Bo):"";return typeof N=="function"&&fe.set(N,Zr),Zr}function Re(N,Z,ie){return $e(N,!1)}function Ne(N){var Z=N.prototype;return!!(Z&&Z.isReactComponent)}function ot(N,Z,ie){if(N==null)return"";if(typeof N=="function")return $e(N,Ne(N));if(typeof N=="string")return G(N);switch(N){case d:return G("Suspense");case c:return G("SuspenseList")}if(typeof N=="object")switch(N.$$typeof){case l:return Re(N.render);case u:return ot(N.type,Z,ie);case f:{var ve=N,Ie=ve._payload,He=ve._init;try{return ot(He(Ie),Z,ie)}catch{}}}return""}var _e=Object.prototype.hasOwnProperty,Je={},Xe=y.ReactDebugCurrentFrame;function q(N){if(N){var Z=N._owner,ie=ot(N.type,N._source,Z?Z.type:null);Xe.setExtraStackFrame(ie)}else Xe.setExtraStackFrame(null)}function Ot(N,Z,ie,ve,Ie){{var He=Function.call.bind(_e);for(var Te in N)if(He(N,Te)){var Ee=void 0;try{if(typeof N[Te]!="function"){var jt=Error((ve||"React class")+": "+ie+" type `"+Te+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof N[Te]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw jt.name="Invariant Violation",jt}Ee=N[Te](Z,Te,ve,ie,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(it){Ee=it}Ee&&!(Ee instanceof Error)&&(q(Ie),x("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",ve||"React class",ie,Te,typeof Ee),q(null)),Ee instanceof Error&&!(Ee.message in Je)&&(Je[Ee.message]=!0,q(Ie),x("Failed %s type: %s",ie,Ee.message),q(null))}}}var Tt=Array.isArray;function st(N){return Tt(N)}function fn(N){{var Z=typeof Symbol=="function"&&Symbol.toStringTag,ie=Z&&N[Symbol.toStringTag]||N.constructor.name||"Object";return ie}}function pn(N){try{return ae(N),!1}catch{return!0}}function ae(N){return""+N}function Me(N){if(pn(N))return x("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",fn(N)),ae(N)}var J=y.ReactCurrentOwner,re={key:!0,ref:!0,__self:!0,__source:!0},R,ee;function ne(N){if(_e.call(N,"ref")){var Z=Object.getOwnPropertyDescriptor(N,"ref").get;if(Z&&Z.isReactWarning)return!1}return N.ref!==void 0}function he(N){if(_e.call(N,"key")){var Z=Object.getOwnPropertyDescriptor(N,"key").get;if(Z&&Z.isReactWarning)return!1}return N.key!==void 0}function Fe(N,Z){typeof N.ref=="string"&&J.current}function ct(N,Z){{var ie=function(){R||(R=!0,x("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Z))};ie.isReactWarning=!0,Object.defineProperty(N,"key",{get:ie,configurable:!0})}}function It(N,Z){{var ie=function(){ee||(ee=!0,x("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Z))};ie.isReactWarning=!0,Object.defineProperty(N,"ref",{get:ie,configurable:!0})}}var Gn=function(N,Z,ie,ve,Ie,He,Te){var Ee={$$typeof:e,type:N,key:Z,ref:ie,props:Te,_owner:He};return Ee._store={},Object.defineProperty(Ee._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(Ee,"_self",{configurable:!1,enumerable:!1,writable:!1,value:ve}),Object.defineProperty(Ee,"_source",{configurable:!1,enumerable:!1,writable:!1,value:Ie}),Object.freeze&&(Object.freeze(Ee.props),Object.freeze(Ee)),Ee};function Fo(N,Z,ie,ve,Ie){{var He,Te={},Ee=null,jt=null;ie!==void 0&&(Me(ie),Ee=""+ie),he(Z)&&(Me(Z.key),Ee=""+Z.key),ne(Z)&&(jt=Z.ref,Fe(Z,Ie));for(He in Z)_e.call(Z,He)&&!re.hasOwnProperty(He)&&(Te[He]=Z[He]);if(N&&N.defaultProps){var it=N.defaultProps;for(He in it)Te[He]===void 0&&(Te[He]=it[He])}if(Ee||jt){var ut=typeof N=="function"?N.displayName||N.name||"Unknown":N;Ee&&ct(Te,ut),jt&&It(Te,ut)}return Gn(N,Ee,jt,Ie,ve,J.current,Te)}}var Xr=y.ReactCurrentOwner,En=y.ReactDebugCurrentFrame;function zo(N){if(N){var Z=N._owner,ie=ot(N.type,N._source,Z?Z.type:null);En.setExtraStackFrame(ie)}else En.setExtraStackFrame(null)}var gf;gf=!1;function bf(N){return typeof N=="object"&&N!==null&&N.$$typeof===e}function Y2(){{if(Xr.current){var N=T(Xr.current.type);if(N)return`

Check the render method of \``+N+"`."}return""}}function AA(N){return""}var J2={};function PA(N){{var Z=Y2();if(!Z){var ie=typeof N=="string"?N:N.displayName||N.name;ie&&(Z=`

Check the top-level render call using <`+ie+">.")}return Z}}function X2(N,Z){{if(!N._store||N._store.validated||N.key!=null)return;N._store.validated=!0;var ie=PA(Z);if(J2[ie])return;J2[ie]=!0;var ve="";N&&N._owner&&N._owner!==Xr.current&&(ve=" It was passed a child from "+T(N._owner.type)+"."),zo(N),x('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',ie,ve),zo(null)}}function Z2(N,Z){{if(typeof N!="object")return;if(st(N))for(var ie=0;ie<N.length;ie++){var ve=N[ie];bf(ve)&&X2(ve,Z)}else if(bf(N))N._store&&(N._store.validated=!0);else if(N){var Ie=g(N);if(typeof Ie=="function"&&Ie!==N.entries)for(var He=Ie.call(N),Te;!(Te=He.next()).done;)bf(Te.value)&&X2(Te.value,Z)}}}function OA(N){{var Z=N.type;if(Z==null||typeof Z=="string")return;var ie;if(typeof Z=="function")ie=Z.propTypes;else if(typeof Z=="object"&&(Z.$$typeof===l||Z.$$typeof===u))ie=Z.propTypes;else return;if(ie){var ve=T(Z);Ot(ie,N.props,"prop",ve,N)}else if(Z.PropTypes!==void 0&&!gf){gf=!0;var Ie=T(Z);x("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",Ie||"Unknown")}typeof Z.getDefaultProps=="function"&&!Z.getDefaultProps.isReactClassApproved&&x("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function IA(N){{for(var Z=Object.keys(N.props),ie=0;ie<Z.length;ie++){var ve=Z[ie];if(ve!=="children"&&ve!=="key"){zo(N),x("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",ve),zo(null);break}}N.ref!==null&&(zo(N),x("Invalid attribute `ref` supplied to `React.Fragment`."),zo(null))}}var Q2={};function ev(N,Z,ie,ve,Ie,He){{var Te=z(N);if(!Te){var Ee="";(N===void 0||typeof N=="object"&&N!==null&&Object.keys(N).length===0)&&(Ee+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var jt=AA();jt?Ee+=jt:Ee+=Y2();var it;N===null?it="null":st(N)?it="array":N!==void 0&&N.$$typeof===e?(it="<"+(T(N.type)||"Unknown")+" />",Ee=" Did you accidentally export a JSX literal instead of a component?"):it=typeof N,x("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",it,Ee)}var ut=Fo(N,Z,ie,Ie,He);if(ut==null)return ut;if(Te){var on=Z.children;if(on!==void 0)if(ve)if(st(on)){for(var Bo=0;Bo<on.length;Bo++)Z2(on[Bo],N);Object.freeze&&Object.freeze(on)}else x("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Z2(on,N)}if(_e.call(Z,"key")){var Zr=T(N),Vt=Object.keys(Z).filter(function(FA){return FA!=="key"}),yf=Vt.length>0?"{key: someKey, "+Vt.join(": ..., ")+": ...}":"{key: someKey}";if(!Q2[Zr+yf]){var _A=Vt.length>0?"{"+Vt.join(": ..., ")+": ...}":"{}";x(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,yf,Zr,_A,Zr),Q2[Zr+yf]=!0}}return N===r?IA(ut):OA(ut),ut}}function LA(N,Z,ie){return ev(N,Z,ie,!0)}function DA(N,Z,ie){return ev(N,Z,ie,!1)}var jA=DA,RA=LA;Wo.Fragment=r,Wo.jsx=jA,Wo.jsxs=RA}()),Wo}process.env.NODE_ENV==="production"?vl.exports=dv():vl.exports=cv();var m=vl.exports;function Cf(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=Cf(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ce(){for(var t,e,n=0,r="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=Cf(t))&&(r&&(r+=" "),r+=e);return r}const xl="-",uv=t=>{const e=pv(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:i=>{const a=i.split(xl);return a[0]===""&&a.length!==1&&a.shift(),Tf(a,e)||fv(i)},getConflictingClassGroupIds:(i,a)=>{const l=n[i]||[];return a&&r[i]?[...l,...r[i]]:l}}},Tf=(t,e)=>{var i;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),o=r?Tf(t.slice(1),r):void 0;if(o)return o;if(e.validators.length===0)return;const s=t.join(xl);return(i=e.validators.find(({validator:a})=>a(s)))==null?void 0:i.classGroupId},Nf=/^\[(.+)\]$/,fv=t=>{if(Nf.test(t)){const e=Nf.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},pv=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return mv(Object.entries(t.classGroups),n).forEach(([s,i])=>{$l(i,r,s,e)}),r},$l=(t,e,n,r)=>{t.forEach(o=>{if(typeof o=="string"){const s=o===""?e:Mf(e,o);s.classGroupId=n;return}if(typeof o=="function"){if(hv(o)){$l(o(r),e,n,r);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([s,i])=>{$l(i,Mf(e,s),n,r)})})},Mf=(t,e)=>{let n=t;return e.split(xl).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},hv=t=>t.isThemeGetter,mv=(t,e)=>e?t.map(([n,r])=>{const o=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([i,a])=>[e+i,a])):s);return[n,o]}):t,gv=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const o=(s,i)=>{n.set(s,i),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let i=n.get(s);if(i!==void 0)return i;if((i=r.get(s))!==void 0)return o(s,i),i},set(s,i){n.has(s)?n.set(s,i):o(s,i)}}},Af="!",bv=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,o=e[0],s=e.length,i=a=>{const l=[];let d=0,c=0,u;for(let g=0;g<a.length;g++){let y=a[g];if(d===0){if(y===o&&(r||a.slice(g,g+s)===e)){l.push(a.slice(c,g)),c=g+s;continue}if(y==="/"){u=g;continue}}y==="["?d++:y==="]"&&d--}const f=l.length===0?a:a.substring(c),p=f.startsWith(Af),h=p?f.substring(1):f,b=u&&u>c?u-c:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:h,maybePostfixModifierPosition:b}};return n?a=>n({className:a,parseClassName:i}):i},yv=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},vv=t=>({cache:gv(t.cacheSize),parseClassName:bv(t),...uv(t)}),xv=/\s+/,$v=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=e,s=[],i=t.trim().split(xv);let a="";for(let l=i.length-1;l>=0;l-=1){const d=i[l],{modifiers:c,hasImportantModifier:u,baseClassName:f,maybePostfixModifierPosition:p}=n(d);let h=!!p,b=r(h?f.substring(0,p):f);if(!b){if(!h){a=d+(a.length>0?" "+a:a);continue}if(b=r(f),!b){a=d+(a.length>0?" "+a:a);continue}h=!1}const g=yv(c).join(":"),y=u?g+Af:g,x=y+b;if(s.includes(x))continue;s.push(x);const k=o(b,h);for(let E=0;E<k.length;++E){const S=k[E];s.push(y+S)}a=d+(a.length>0?" "+a:a)}return a};function wv(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Pf(e))&&(r&&(r+=" "),r+=n);return r}const Pf=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Pf(t[r]))&&(n&&(n+=" "),n+=e);return n};function kv(t,...e){let n,r,o,s=i;function i(l){const d=e.reduce((c,u)=>u(c),t());return n=vv(d),r=n.cache.get,o=n.cache.set,s=a,a(l)}function a(l){const d=r(l);if(d)return d;const c=$v(l,n);return o(l,c),c}return function(){return s(wv.apply(null,arguments))}}const Ge=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Of=/^\[(?:([a-z-]+):)?(.+)\]$/i,Sv=/^\d+\/\d+$/,Ev=new Set(["px","full","screen"]),Cv=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Tv=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Nv=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Mv=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Av=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cn=t=>eo(t)||Ev.has(t)||Sv.test(t),qn=t=>to(t,"length",_v),eo=t=>!!t&&!Number.isNaN(Number(t)),wl=t=>to(t,"number",eo),Uo=t=>!!t&&Number.isInteger(Number(t)),Pv=t=>t.endsWith("%")&&eo(t.slice(0,-1)),we=t=>Of.test(t),Yn=t=>Cv.test(t),Ov=new Set(["length","size","percentage"]),Iv=t=>to(t,Ov,If),Lv=t=>to(t,"position",If),Dv=new Set(["image","url"]),jv=t=>to(t,Dv,zv),Rv=t=>to(t,"",Fv),Go=()=>!0,to=(t,e,n)=>{const r=Of.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},_v=t=>Tv.test(t)&&!Nv.test(t),If=()=>!1,Fv=t=>Mv.test(t),zv=t=>Av.test(t),hn=kv(()=>{const t=Ge("colors"),e=Ge("spacing"),n=Ge("blur"),r=Ge("brightness"),o=Ge("borderColor"),s=Ge("borderRadius"),i=Ge("borderSpacing"),a=Ge("borderWidth"),l=Ge("contrast"),d=Ge("grayscale"),c=Ge("hueRotate"),u=Ge("invert"),f=Ge("gap"),p=Ge("gradientColorStops"),h=Ge("gradientColorStopPositions"),b=Ge("inset"),g=Ge("margin"),y=Ge("opacity"),x=Ge("padding"),k=Ge("saturate"),E=Ge("scale"),S=Ge("sepia"),C=Ge("skew"),M=Ge("space"),I=Ge("translate"),D=()=>["auto","contain","none"],z=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",we,e],O=()=>[we,e],T=()=>["",Cn,qn],A=()=>["auto",eo,we],_=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],w=()=>["solid","dashed","dotted","double","none"],L=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",we],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>[eo,we];return{cacheSize:500,separator:":",theme:{colors:[Go],spacing:[Cn,qn],blur:["none","",Yn,we],brightness:P(),borderColor:[t],borderRadius:["none","","full",Yn,we],borderSpacing:O(),borderWidth:T(),contrast:P(),grayscale:B(),hueRotate:P(),invert:B(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[Pv,qn],inset:$(),margin:$(),opacity:P(),padding:O(),saturate:P(),scale:P(),sepia:B(),skew:P(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",we]}],container:["container"],columns:[{columns:[Yn]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[..._(),we]}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Uo,we]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",we]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",Uo,we]}],"grid-cols":[{"grid-cols":[Go]}],"col-start-end":[{col:["auto",{span:["full",Uo,we]},we]}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":[Go]}],"row-start-end":[{row:["auto",{span:[Uo,we]},we]}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",we]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",we]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",we,e]}],"min-w":[{"min-w":[we,e,"min","max","fit"]}],"max-w":[{"max-w":[we,e,"none","full","min","max","fit","prose",{screen:[Yn]},Yn]}],h:[{h:[we,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[we,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[we,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[we,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Yn,qn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",wl]}],"font-family":[{font:[Go]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",we]}],"line-clamp":[{"line-clamp":["none",eo,wl]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Cn,we]}],"list-image":[{"list-image":["none",we]}],"list-style-type":[{list:["none","disc","decimal",we]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...w(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Cn,qn]}],"underline-offset":[{"underline-offset":["auto",Cn,we]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[..._(),Lv]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Iv]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},jv]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[h]}],"gradient-via-pos":[{via:[h]}],"gradient-to-pos":[{to:[h]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...w(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:w()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...w()]}],"outline-offset":[{"outline-offset":[Cn,we]}],"outline-w":[{outline:[Cn,qn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Cn,qn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Yn,Rv]}],"shadow-color":[{shadow:[Go]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...L(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":L()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Yn,we]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[u]}],saturate:[{saturate:[k]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",we]}],duration:[{duration:P()}],ease:[{ease:["linear","in","out","in-out",we]}],delay:[{delay:P()}],animate:[{animate:["none","spin","ping","pulse","bounce",we]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[Uo,we]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",we]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",we]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",we]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Cn,qn,wl]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function U(...t){return hn(Ce(t))}const Lf=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Df=Ce,ft=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Df(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:s}=e,i=Object.keys(o).map(d=>{const c=n==null?void 0:n[d],u=s==null?void 0:s[d];if(c===null)return null;const f=Lf(c)||Lf(u);return o[d][f]}),a=n&&Object.entries(n).reduce((d,c)=>{let[u,f]=c;return f===void 0||(d[u]=f),d},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,c)=>{let{class:u,className:f,...p}=c;return Object.entries(p).every(h=>{let[b,g]=h;return Array.isArray(g)?g.includes({...s,...a}[b]):{...s,...a}[b]===g})?[...d,u,f]:d},[]);return Df(t,i,l,n==null?void 0:n.class,n==null?void 0:n.className)},xe=({icon:t,className:e,size:n,color:r,rotate:o,flip:s,spin:i,inline:a=!0,mode:l="svg",...d})=>{const[c,u]=v.useState(null),[f,p]=v.useState(!0),[h,b]=v.useState(null);return v.useEffect(()=>{let g=!0;return(async()=>{try{const{Icon:x}=await Promise.resolve().then(()=>NA);g&&(u(()=>x),p(!1))}catch(x){console.error("Failed to load icon:",x),g&&(b(x),p(!1))}})(),()=>{g=!1}},[]),f?m.jsx("span",{style:{width:n,height:n}}):h||!c?null:m.jsx(c,{icon:t,className:U(i&&"animate-spin",e),style:{color:r,transform:`rotate(${o||0}deg)`},height:n,width:n,flip:s,inline:a,mode:l,...d})},Bv=ft("border bg-white px-3 py-2 ring-0 transition-colors placeholder:text-neutral placeholder:text-sm focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",{variants:{variant:{default:"border-neutral-200 hover:border-primary-300 focus:border-primary-300 hover:bg-primary-50",error:"border-danger hover:border-danger-600 focus:border-danger-600 hover:bg-danger-50",success:"border-success hover:border-success-600 focus:border-success-600 hover:bg-success-50",ghost:"border-transparent bg-transparent hover:bg-primary-50 focus:bg-primary-50",underline:"border-0 border-b-2 border-neutral-200 rounded-none bg-transparent hover:border-primary-300 focus:border-primary-300 hover:bg-transparent focus:bg-transparent"},size:{sm:"h-8 px-2 py-1 text-sm",md:"h-10 px-3 py-2 text-base",lg:"h-12 px-4 py-3 text-lg"},rounded:{none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",xl:"rounded-xl","2xl":"rounded-2xl","3xl":"rounded-3xl",full:"rounded-full"},fullWidth:{true:"w-full",false:"w-fit"}},defaultVariants:{variant:"default",size:"md",rounded:"xl",fullWidth:!0}}),mn=v.forwardRef(({className:t,variant:e="default",size:n="md",rounded:r="xl",error:o=!1,errorText:s,helperText:i,label:a,required:l=!1,labelPlacement:d="top",fullWidth:c=!1,leftIcon:u,rightIcon:f,onRightIconClick:p,id:h,...b},g)=>{const y=h||v.useId(),x=`${y}-helper`,k=`${y}-error`,E=m.jsxs("div",{className:U("relative",!c&&"inline-block"),children:[u&&m.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-neutral",children:m.jsx(xe,{icon:u,className:"w-4 h-4"})}),m.jsx("input",{id:y,type:"text",ref:g,className:U(Bv({variant:o?"error":e,size:n,rounded:r,fullWidth:c}),u&&"pl-10",f&&"pr-10",t),"aria-describedby":o?k:i?x:void 0,"aria-invalid":o,"aria-required":l,...b}),f&&m.jsx("div",{className:U("absolute right-3 top-1/2 -translate-y-1/2 text-neutral",p&&"cursor-pointer hover:text-primary-600"),onClick:p,role:p?"button":void 0,tabIndex:p?0:void 0,children:m.jsx(xe,{icon:f,className:"w-4 h-4"})})]}),S=m.jsxs(m.Fragment,{children:[o&&s&&m.jsx("p",{className:"mt-1 text-xs text-danger",id:k,children:s}),!o&&i&&m.jsx("p",{className:"mt-1 text-xs text-neutral",id:x,children:i})]});return d==="left"?m.jsx("div",{className:U(c?"w-full":"inline-block",t),children:m.jsxs("div",{className:"flex items-start gap-4",children:[a&&m.jsxs("label",{htmlFor:y,className:"block text-sm text-neutral-900 pt-2",children:[a,l&&m.jsx("span",{className:"text-danger ml-0.5",children:"*"})]}),m.jsxs("div",{className:U("flex-1",!c&&"inline-block"),children:[E,S]})]})}):m.jsxs("div",{className:U(c?"w-full":"inline-block",t),children:[a&&m.jsxs("label",{htmlFor:y,className:"mb-1.5 block text-sm text-neutral-900",children:[a,l&&m.jsx("span",{className:"text-danger ml-0.5",children:"*"})]}),E,S]})});mn.displayName="Input";const Ko=v.forwardRef(({className:t,children:e,selected:n,disabled:r,...o},s)=>m.jsx("div",{ref:s,className:U("relative flex w-full cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors","hover:bg-primary-50",n&&"bg-primary-50 text-primary-900",r&&"pointer-events-none opacity-50",t),...o,children:e}));Ko.displayName="SelectItem";const jf=typeof window<"u",Tn=()=>jf?window:{innerHeight:0,innerWidth:0,addEventListener:()=>{},removeEventListener:()=>{}},wt=()=>jf?document:{addEventListener:()=>{},removeEventListener:()=>{},dispatchEvent:()=>{}},kl="autocomplete-dropdown-opened",Rf=v.forwardRef(({className:t,options:e,onSelect:n,isOpen:r,loading:o=!1,renderOption:s,variant:i="default",size:a="md",rounded:l="xl",leftIcon:d,rightIcon:c,error:u=!1,errorText:f,helperText:p,label:h,required:b=!1,labelPlacement:g="top",fullWidth:y=!1,value:x,onChange:k,onFocus:E,onBlur:S,showClear:C=!1,onClear:M,searchType:I="include",initialItemsToShow:D,itemsToLoad:z=10,maxDropdownHeight:$=300,noOptionsMessage:O="No options found",scrollMoreMessage:T="",allOptionsShownMessage:A="",resetInvalidOnBlur:_=!1,onInvalidReset:w,...L},j)=>{const[B,F]=v.useState(!1),[P,V]=v.useState(x||""),[Y,X]=v.useState(D||0),oe=v.useRef(null),W=v.useRef(null),H=v.useRef(null),G=v.useRef(null),ce=r!==void 0,ge=`autocomplete-${v.useId().replace(/:/g,"")}`,$e=()=>{if(!B||!W.current||!H.current)return;const{bottom:re,top:R,left:ee,width:ne}=W.current.getBoundingClientRect(),he=H.current,Fe=Tn(),ct=Fe.innerHeight-re,It=R,Gn=Math.min($,300),Fo=ct<Gn,Xr=It>ct,En=Fo&&Xr;Object.assign(he.style,{position:"fixed",left:`${ee}px`,width:`${ne}px`}),En?Object.assign(he.style,{bottom:`${Fe.innerHeight-R+4}px`,top:"auto",maxHeight:`${It-8}px`}):Object.assign(he.style,{top:`${re+4}px`,bottom:"auto",maxHeight:`${ct-8}px`})};v.useEffect(()=>{const re=Tn(),R=wt(),ee=()=>{B&&$e()},ne=()=>{B&&$e()},he=ct=>{ct.detail.id!==ge&&F(!1)},Fe=ct=>{const It=ct.target;oe.current&&!oe.current.contains(It)&&H.current&&!H.current.contains(It)&&F(!1)};return B&&($e(),re.addEventListener("scroll",ee,!0),re.addEventListener("resize",ne)),R.addEventListener(kl,he),R.addEventListener("click",Fe),()=>{re.removeEventListener("scroll",ee,!0),re.removeEventListener("resize",ne),R.removeEventListener(kl,he),R.removeEventListener("click",Fe)}},[B,ge]),v.useEffect(()=>{V(x||"")},[x]);const Re=re=>{const{value:R}=re.target;if(V(R),!R.trim()){F(!1);return}const ee=e.some(({label:ne})=>{const he=R.toLowerCase().trim(),Fe=ne.toLowerCase();return I==="startsWith"?Fe.startsWith(he):Fe.includes(he)});F(ee),k==null||k(re)},Ne=re=>{re.stopPropagation(),V(""),M==null||M();const R=new Event("change");R.target={value:""},k==null||k(R)},ot=re=>{var he;if(!re)return;const{value:R,label:ee}=re;V(ee),F(!1),n==null||n(R);const ne=new CustomEvent("autocomplete-select",{detail:{selectedOption:re}});(he=W.current)==null||he.dispatchEvent(ne)},_e=re=>re.trim()?e.some(({label:R})=>{const ee=re.toLowerCase().trim(),ne=R.toLowerCase();return I==="startsWith"?ne.startsWith(ee):ne.includes(ee)}):!0,Je=re=>{if(_&&P.trim()&&!_e(P)){V(""),w==null||w();const R=new Event("change");R.target={value:""},k==null||k(R)}S==null||S(re)},Xe=e.filter(({label:re})=>{const R=P.toLowerCase().trim(),ee=re.toLowerCase();return I==="startsWith"?ee.startsWith(R):ee.includes(R)}),q=re=>{ce||(wt().dispatchEvent(new CustomEvent(kl,{detail:{id:ge}})),Xe.length>0&&F(!0)),E==null||E(re)},Ot=()=>{if(!G.current||D===void 0||D<=0)return;const{scrollTop:re,scrollHeight:R,clientHeight:ee}=G.current;re+ee>=R-10&&X(he=>Math.min(he+z,Xe.length))};v.useEffect(()=>{D!==void 0&&D>0&&X(D)},[P,D]);const Tt=D!==void 0&&D>0?Xe.slice(0,Y):Xe,st=(re,R)=>re?re.replace(/\{(\w+)\}/g,(ee,ne)=>{var he;return((he=R[ne])==null?void 0:he.toString())||ee}):"",fn=ce?r:B,pn=C&&P&&!L.disabled&&!L.readOnly,ae=pn?"mdi:close":c,Me=re=>{if(!(!fn||Tt.length===0))switch(re.key){case"Enter":re.preventDefault(),Tt.length===1&&ot(Tt[0]);break;case"Tab":Tt.length===1&&(re.preventDefault(),ot(Tt[0]));break;case"Escape":re.preventDefault(),F(!1);break}},J=()=>{if(!fn)return null;const re=wt();if(!("body"in re))return null;const R=m.jsx("div",{ref:H,className:"fixed z-[9999] min-w-[8rem] rounded-md border border-neutral-200 bg-white py-1 shadow-lg overflow-hidden",style:{maxHeight:`${$}px`},onClick:ee=>ee.stopPropagation(),children:m.jsx("div",{ref:G,className:"overflow-auto",style:{maxHeight:`${$}px`},onScroll:Ot,children:o?m.jsx("div",{className:"flex items-center justify-center py-2",children:m.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"})}):Tt.length>0?m.jsxs(m.Fragment,{children:[Tt.map(ee=>m.jsx(Ko,{value:ee.value,selected:ee.label===P,onClick:()=>ot(ee),children:s?s(ee):ee.label},ee.value)),D!==void 0&&D>0&&m.jsxs(m.Fragment,{children:[Y<Xe.length&&T&&m.jsx("div",{className:"px-2 py-2 text-sm text-neutral-500 text-center",children:st(T,{current:Y,total:Xe.length})}),Y>=Xe.length&&Xe.length>0&&A&&m.jsx("div",{className:"px-2 py-2 text-sm text-neutral-500 text-center",children:st(A,{total:Xe.length})})]})]}):m.jsx("div",{className:"px-2 py-2 text-sm text-neutral",children:O})})});return sn.createPortal(R,re.body)};return m.jsxs("div",{ref:oe,className:U("relative",y?"w-full":"inline-block"),children:[m.jsx("div",{ref:W,className:U(!y&&"inline-block"),children:m.jsx(mn,{ref:j,value:P,onChange:Re,onFocus:q,onBlur:Je,onKeyDown:Me,variant:i,size:a,rounded:l,leftIcon:d,rightIcon:ae,error:u,errorText:f,helperText:p,label:h,required:b,labelPlacement:g,fullWidth:y,className:t,...L,onClick:pn?Ne:L.onClick})}),J()]})});Rf.displayName="AutoComplete";const Hv={primary:{hover:"hover:bg-primary-50",active:"bg-primary-50",text:"text-primary-700"},secondary:{hover:"hover:bg-secondary-50",active:"bg-secondary-50",text:"text-secondary-700"},success:{hover:"hover:bg-success-50",active:"bg-success-50",text:"text-success-700"},warning:{hover:"hover:bg-warning-50",active:"bg-warning-50",text:"text-warning-700"},default:{hover:"hover:bg-gray-50",active:"bg-gray-50",text:"text-gray-700"},light:{hover:"hover:bg-light-50",active:"bg-light-50",text:"text-light-900"},dark:{hover:"hover:bg-dark-50",active:"bg-dark-50",text:"text-dark-50"},info:{hover:"hover:bg-info-50",active:"bg-info-50",text:"text-info-700"}},Vv={none:"",sm:"shadow-sm",md:"shadow-md",lg:"shadow-lg",xl:"shadow-xl"},Wv={none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",xl:"rounded-xl","2xl":"rounded-2xl","3xl":"rounded-3xl",full:"rounded-full"},Uv=({items:t,multiple:e=!1,defaultOpenIds:n=[],openIds:r,onOpenChange:o,icon:s="mdi:chevron-down",iconPosition:i="right",className:a,contentClassName:l,variant:d="primary",shadow:c="none",rounded:u="xl"})=>{const[f,p]=v.useState(n),h=r!==void 0?r:f,b=r!==void 0,g=x=>{let k;e?k=h.includes(x)?h.filter(E=>E!==x):[...h,x]:k=h.includes(x)?[]:[x],b?o==null||o(k):p(k)},y=Hv[d];return m.jsx("div",{className:Ce("w-full space-y-2",a),children:t.map(x=>{const k=h.includes(x.id),E=!!x.disabled;return m.jsxs("div",{className:Ce("border overflow-hidden","bg-white","border-gray-200",Vv[c],Wv[u],"transition-shadow duration-200"),children:[m.jsxs("button",{onClick:()=>!E&&g(x.id),disabled:E,className:Ce("w-full flex items-center justify-between p-4","text-left transition-colors",y.hover,k&&y.active,y.text,E&&"opacity-50 cursor-not-allowed"),children:[i==="left"&&m.jsx("div",{className:Ce("mr-3 transition-transform duration-200",k&&"rotate-180"),children:m.jsx(xe,{icon:s,className:"w-5 h-5"})}),m.jsx("div",{className:"flex-1",children:x.title}),i==="right"&&m.jsx("div",{className:Ce("ml-3 transition-transform duration-200",k&&"rotate-180"),children:m.jsx(xe,{icon:s,className:"w-5 h-5"})})]}),m.jsx("div",{className:Ce("grid transition-all duration-200 ease-in-out",k?"grid-rows-[1fr]":"grid-rows-[0fr]"),children:m.jsx("div",{className:"overflow-hidden",children:m.jsx("div",{className:Ce("p-4 border-t border-gray-200",l),children:x.content})})})]},x.id)})})},Gv=({src:t,alt:e="avatar",size:n="medium",shape:r="circle",className:o="",variant:s="cover"})=>{const i={small:"w-8 h-8",medium:"w-12 h-12",large:"w-16 h-16"},a={circle:"rounded-full",square:"rounded-lg"},l=hn("inline-flex items-center justify-center overflow-hidden bg-gray-200",i[n],a[r],o);return m.jsx("div",{className:l,children:t?m.jsx("img",{src:t,alt:e,className:hn("w-full h-full",s==="cover"?"object-cover":"object-contain")}):m.jsx("svg",{className:"w-6 h-6 text-gray",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M12 12C14.21 12 16 10.21 16 8C16 5.79 14.21 4 12 4C9.79 4 8 5.79 8 8C8 10.21 9.79 12 12 12ZM12 14C9.33 14 4 15.34 4 18V20H20V18C20 15.34 14.67 14 12 14Z",fill:"currentColor"})})})},Kv=({children:t,variant:e="primary",size:n="medium",rounded:r="xl",className:o=""})=>{const s={primary:"bg-blue-100 text-blue-800",secondary:"bg-gray-100 text-gray-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",error:"bg-red-100 text-red-800"},i={small:"px-2 py-0.5 text-xs",medium:"px-2.5 py-1 text-sm",large:"px-3 py-1.5 text-base"},a={none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",xl:"rounded-xl","2xl":"rounded-2xl","3xl":"rounded-3xl",full:"rounded-full"},l=hn("inline-flex items-center font-medium",s[e],i[n],a[r],o);return m.jsx("span",{className:l,children:t})},_f=ft("inline-flex items-center justify-center gap-2 font-medium transition-all duration-200 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed",{variants:{variant:{primary:"bg-primary text-white hover:bg-primary-600 active:bg-primary-700 shadow-sm hover:shadow-md active:shadow-none",secondary:"bg-secondary text-white hover:bg-secondary-600 active:bg-secondary-700 shadow-sm hover:shadow-md active:shadow-none",outline:"border border-neutral-300 text-primary hover:bg-primary-50 active:bg-primary-100 hover:border-primary","outline-primary":"border border-primary-600 text-primary-600 hover:bg-primary-50","outline-secondary":"border border-secondary-600 text-secondary-600 hover:bg-secondary-50","outline-success":"border border-success-600 text-success-600 hover:bg-success-50","outline-warning":"border border-warning-600 text-warning-600 hover:bg-warning-50","outline-danger":"border border-danger-600 text-danger-600 hover:bg-danger-50",ghost:"text-primary hover:bg-primary-50 active:bg-primary-100",link:"text-primary hover:underline p-0",success:"bg-success text-white hover:bg-success-600 active:bg-success-700 shadow-sm hover:shadow-md active:shadow-none",warning:"bg-warning text-white hover:bg-warning-600 active:bg-warning-700 shadow-sm hover:shadow-md active:shadow-none",danger:"bg-danger text-white hover:bg-danger-600 active:bg-danger-700 shadow-sm hover:shadow-md active:shadow-none"},size:{xs:"text-xs px-2 py-1",sm:"text-sm px-3 py-1.5",md:"text-base px-4 py-2",lg:"text-lg px-5 py-2.5"},rounded:{none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",xl:"rounded-xl","2xl":"rounded-2xl","3xl":"rounded-3xl",full:"rounded-full"},fullWidth:{true:"w-full"},isIconOnly:{true:"p-2 aspect-square"}},defaultVariants:{variant:"primary",size:"md",rounded:"none",fullWidth:!1,isIconOnly:!1}}),Ae=v.forwardRef(({className:t,variant:e="primary",size:n="md",rounded:r="xl",fullWidth:o=!1,isLoading:s=!1,leftIcon:i,rightIcon:a,isIconOnly:l=!1,children:d,...c},u)=>{const p=l||!!(i||a)&&!d;return m.jsxs("button",{className:U(_f({variant:e,size:n,rounded:p?"full":r,fullWidth:o,isIconOnly:p,className:t})),ref:u,disabled:c.disabled||s,...c,children:[s&&m.jsx("span",{className:"animate-spin inline-block w-4 h-4 border-2 border-current border-r-transparent rounded-full"}),i&&!s&&m.jsx(xe,{icon:i,className:"w-4 h-4",inline:!0}),d&&m.jsx("span",{children:d}),a&&!s&&m.jsx(xe,{icon:a,className:"w-4 h-4",inline:!0})]})});Ae.displayName="Button";const Ff=ft("border bg-card text-card-foreground",{variants:{variant:{default:"border-border shadow-sm",elevated:"border-border shadow-lg",outline:"border-border bg-transparent",ghost:"border-transparent bg-transparent"},padding:{none:"p-0",sm:"p-4",md:"p-6",lg:"p-8"},shadow:{none:"",sm:"shadow-sm",md:"shadow-md",lg:"shadow-lg",xl:"shadow-xl"},rounded:{none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",xl:"rounded-xl","2xl":"rounded-2xl","3xl":"rounded-3xl",full:"rounded-full"}},defaultVariants:{variant:"default",padding:"md",shadow:"sm",rounded:"xl"}}),Sl=v.forwardRef(({className:t,variant:e="default",padding:n="md",shadow:r="none",rounded:o="2xl",asChild:s=!1,...i},a)=>m.jsx("div",{className:U(Ff({variant:e,padding:n,shadow:r,rounded:o,className:t})),ref:a,...i}));Sl.displayName="Card";const no=v.forwardRef(({label:t,error:e,disabled:n=!1,indeterminate:r=!1,variantSize:o="sm",variant:s="square",color:i="primary",className:a="",...l},d)=>{const c={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},u={primary:"checked:bg-primary-600 checked:border-primary-600 hover:border-primary-600",secondary:"checked:bg-secondary-600 checked:border-secondary-600 hover:border-secondary-600",success:"checked:bg-success-600 checked:border-success-600 hover:border-success-600",warning:"checked:bg-warning-600 checked:border-warning-600 hover:border-warning-600",error:"checked:bg-danger-600 checked:border-danger-600 hover:border-danger-600"},f=e?"border-danger-600 hover:border-danger-700":"",h=hn("border-2 transition-colors duration-200","appearance-none cursor-pointer","checked:bg-no-repeat checked:bg-center",s==="circle"?'checked:bg-[url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAxMiAxMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSI2IiBjeT0iNiIgcj0iNCIgZmlsbD0id2hpdGUiLz48L3N2Zz4=")]':'checked:bg-[url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAxMiAxMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTAgM0w0LjUgOC41TDIgNiIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48L3N2Zz4=")]',{square:"rounded",circle:"rounded-full"}[s],c[o],u[i],f,n&&"opacity-50 cursor-not-allowed",a),b=hn("ml-2 text-sm font-medium",n&&"opacity-50 cursor-not-allowed",e&&"text-danger-600");return m.jsxs("div",{className:"items-center",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",className:h,disabled:n,ref:g=>{typeof d=="function"?d(g):d&&(d.current=g),g&&(g.indeterminate=r)},...l}),t&&m.jsx("label",{className:b,children:t})]}),e&&m.jsx("p",{className:"mt-1 text-sm text-danger-600",children:e})]})});no.displayName="Checkbox";const El=ft("flex flex-col",{variants:{layout:{vertical:"flex-col",horizontal:"flex-row flex-wrap",grid:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"},size:{sm:"gap-1",md:"gap-2",lg:"gap-3"}},defaultVariants:{layout:"vertical",size:"md"}}),zf=v.forwardRef(({className:t,options:e=[],value:n,defaultValue:r=[],onChange:o,layout:s="vertical",size:i="md",error:a=!1,errorText:l,helperText:d,label:c,required:u=!1,labelPlacement:f="top",fullWidth:p=!1,disabled:h=!1,variant:b="square",color:g="primary",checkboxSize:y="sm",showSelectAll:x=!1,selectAllText:k="Select All",indeterminateSelectAll:E=!0,gap:S,selectAllGap:C,name:M,id:I,...D},z)=>{const $=I||v.useId(),O=`${$}-helper`,T=`${$}-error`,A=`${$}-group`,[_,w]=v.useState(r),L=n!==void 0?n:_,j=(G,ce)=>{const fe=ce?[...L,G]:L.filter(ge=>ge!==G);n===void 0&&w(fe),o==null||o(fe)},B=G=>{const ce=G?e.map(fe=>fe.value):[];n===void 0&&w(ce),o==null||o(ce)},F=e.length>0&&L.length===e.length,P=L.length>0&&L.length<e.length,V=E&&P,Y=G=>G==="none"?"gap-0":G==="xs"?"gap-1":G==="sm"?"gap-2":G==="md"?"gap-3":G==="lg"?"gap-4":G==="xl"?"gap-6":null,X=Y(S),oe=Y(C),W=m.jsx("div",{className:U("relative",!p&&"inline-block"),children:m.jsxs("fieldset",{ref:z,id:A,name:M,className:U(El({layout:s,size:i}),X,t),"aria-describedby":a?T:d?O:void 0,"aria-invalid":a,"aria-required":u,...D,children:[x&&e.length>0&&m.jsxs("div",{className:U("flex flex-col",oe||X||El({layout:"vertical",size:i})),children:[m.jsx(no,{label:k,checked:F,indeterminate:V,onChange:G=>B(G.target.checked),disabled:h,variant:b,color:a?"error":g,variantSize:y,error:a?" ":void 0}),m.jsx("div",{className:U("flex",s==="vertical"&&"flex-col",s==="horizontal"&&"flex-row flex-wrap",s==="grid"&&"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",X||El({layout:s,size:i})),children:e.map(G=>m.jsx(no,{label:G.label,checked:L.includes(G.value),onChange:ce=>j(G.value,ce.target.checked),disabled:h||G.disabled,indeterminate:G.indeterminate,variant:b,color:a?"error":g,variantSize:y,error:a?" ":void 0},G.value))})]}),!x&&m.jsx(m.Fragment,{children:e.map(G=>m.jsx(no,{label:G.label,checked:L.includes(G.value),onChange:ce=>j(G.value,ce.target.checked),disabled:h||G.disabled,indeterminate:G.indeterminate,variant:b,color:a?"error":g,variantSize:y,error:a?" ":void 0},G.value))})]})}),H=m.jsxs(m.Fragment,{children:[a&&l&&m.jsx("p",{className:"mt-1 text-xs text-danger",id:T,children:l}),!a&&d&&m.jsx("p",{className:"mt-1 text-xs text-neutral",id:O,children:d})]});return f==="left"?m.jsx("div",{className:U(p?"w-full":"inline-block",t),children:m.jsxs("div",{className:"flex items-start gap-4",children:[c&&m.jsxs("label",{htmlFor:A,className:"block text-sm text-neutral-900 pt-2",children:[c,u&&m.jsx("span",{className:"text-danger ml-0.5",children:"*"})]}),m.jsxs("div",{className:U("flex-1",!p&&"inline-block"),children:[W,H]})]})}):m.jsxs("div",{className:U(p?"w-full":"inline-block",t),children:[c&&m.jsxs("label",{htmlFor:A,className:"mb-1.5 block text-sm text-neutral-900",children:[c,u&&m.jsx("span",{className:"text-danger ml-0.5",children:"*"})]}),W,H]})});zf.displayName="CheckBoxGroup";const qv={solid:{primary:"bg-primary text-white",success:"bg-success text-white",warning:"bg-warning text-white",error:"bg-danger text-white",info:"bg-info text-white",danger:"bg-danger text-white",default:"bg-neutral text-white"},outline:{primary:"border border-primary text-primary",success:"border border-success text-success",warning:"border border-warning text-warning",error:"border border-error text-error",info:"border border-info text-info",danger:"border border-danger text-danger",default:"border border-neutral text-neutral"},subtle:{primary:"bg-primary-100 text-primary-700",success:"bg-success-100 text-success-700",warning:"bg-warning-100 text-warning-700",error:"bg-error-100 text-error-700",info:"bg-info-100 text-info-700",danger:"bg-danger-100 text-danger-700",default:"bg-neutral-100 text-neutral-700"},soft:{primary:"bg-primary-50 text-primary-600",success:"bg-success-50 text-success-600",warning:"bg-warning-50 text-warning-600",error:"bg-error-50 text-error-600",info:"bg-info-50 text-info-600",danger:"bg-danger-50 text-danger-600",default:"bg-neutral-50 text-neutral-600"}},Yv={sm:"text-xs px-2 py-0.5",md:"text-sm px-3 py-1",lg:"text-base px-4 py-1.5"},Jv={none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",xl:"rounded-xl","2xl":"rounded-2xl","3xl":"rounded-3xl",full:"rounded-full"},Xv=({children:t,variant:e="solid",color:n="primary",size:r="md",rounded:o="xl",onClose:s,className:i,icon:a})=>m.jsxs("div",{className:U("inline-flex items-center gap-1.5 font-medium",qv[e][n],Yv[r],Jv[o],i),children:[a&&m.jsx("span",{className:"inline-flex items-center",children:m.jsx(xe,{icon:a,className:"w-4 h-4"})}),t,s&&m.jsx("button",{onClick:s,className:"ml-1 rounded-full hover:bg-black/10 p-0.5","aria-label":"Close",children:m.jsx(xe,{icon:"mdi:close",className:"w-3 h-3"})})]});var Bf={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(wf,function(){return function(n,r){r.prototype.isSameOrAfter=function(o,s){return this.isSame(o,s)||this.isAfter(o,s)}}})})(Bf);var Zv=Bf.exports;const Qv=kf(Zv);var Hf={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(wf,function(){return function(n,r){r.prototype.isSameOrBefore=function(o,s){return this.isSame(o,s)||this.isBefore(o,s)}}})})(Hf);var ex=Hf.exports;const tx=kf(ex);ze.extend(Qv),ze.extend(tx);const nx=ft("border bg-white px-3 py-2 ring-0 transition-colors placeholder:text-neutral placeholder:text-sm focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",{variants:{variant:{default:"border-neutral-200 hover:border-primary-300 focus:border-primary-300 hover:bg-primary-50",error:"border-danger hover:border-danger-600 focus:border-danger-600 hover:bg-danger-50",success:"border-success hover:border-success-600 focus:border-success-600 hover:bg-success-50",ghost:"border-transparent bg-transparent hover:bg-primary-50 focus:bg-primary-50",underline:"border-0 border-b-2 border-neutral-200 rounded-none bg-transparent hover:border-primary-300 focus:border-primary-300 hover:bg-transparent focus:bg-transparent"},size:{sm:"h-8 px-2 py-1 text-sm",md:"h-10 px-3 py-2 text-base",lg:"h-12 px-4 py-3 text-lg"},rounded:{none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",xl:"rounded-xl","2xl":"rounded-2xl","3xl":"rounded-3xl",full:"rounded-full"},fullWidth:{true:"w-full",false:"w-fit"}},defaultVariants:{variant:"default",size:"md",rounded:"xl",fullWidth:!0}}),Js=v.forwardRef(({value:t,onChange:e,minDate:n,maxDate:r,variant:o="default",size:s="md",rounded:i="xl",disabled:a=!1,error:l=!1,errorText:d,helperText:c,label:u,required:f=!1,labelPlacement:p="top",fullWidth:h=!1,className:b,placeholder:g="Select date",leftIcon:y,rightIcon:x,monthsToShow:k=1,valueFormatter:E,rangeStart:S,rangeEnd:C,closeOnSelect:M=!0,calendarFooter:I,format:D="DD-MM-YYYY",allowInput:z=!1,...$},O)=>{const[T,A]=v.useState(!1),[_,w]=v.useState(t),[L,j]=v.useState(t||new Date),[B,F]=v.useState(!1),[P,V]=v.useState(""),Y=v.useRef(null),X=v.useRef(null),oe=v.useRef(null),W=v.useRef(null),H=v.useRef(null);v.useImperativeHandle(O,()=>H.current,[]),v.useEffect(()=>{w(t||void 0),V(t?G(t,D):"")},[t,D]),v.useEffect(()=>{V(_?G(_,D):"")},[_,D]);const G=(ae,Me)=>{const J=ae.getDate().toString().padStart(2,"0"),re=(ae.getMonth()+1).toString().padStart(2,"0"),R=ae.getFullYear().toString();switch(Me){case"DD-MM-YYYY":return`${J}-${re}-${R}`;case"YYYY-MM-DD":return`${R}-${re}-${J}`;case"MM-DD-YYYY":return`${re}-${J}-${R}`;default:return`${J}-${re}-${R}`}},ce=(ae,Me)=>{const re=ae.replace(/[^\d-]/g,"").split("-");if(re.length!==3)return null;let R,ee,ne;switch(Me){case"DD-MM-YYYY":[R,ee,ne]=re.map(Number);break;case"YYYY-MM-DD":[ne,ee,R]=re.map(Number);break;case"MM-DD-YYYY":[ee,R,ne]=re.map(Number);break;default:[R,ee,ne]=re.map(Number)}if(isNaN(R)||isNaN(ee)||isNaN(ne)||ee<1||ee>12||R<1||R>31||ne<1900||ne>2099)return null;const he=new Date(ne,ee-1,R);return he.getDate()!==R||he.getMonth()!==ee-1||he.getFullYear()!==ne?null:he};v.useEffect(()=>{if(B&&W.current){const ae=ze(L).year(),Me=W.current.querySelectorAll("[data-year]"),J=Array.from(Me).find(re=>parseInt(re.getAttribute("data-year")||"0")===ae);J&&J.scrollIntoView({behavior:"auto",block:"center",inline:"center"})}},[B,L]);const fe=()=>{if(!T||!X.current||!oe.current)return;const{bottom:ae,left:Me,width:J,top:re}=X.current.getBoundingClientRect(),R=oe.current,ee=Tn(),ne=ee.innerHeight-ae,he=re,ct=ne<(k===2?400:350),It=he>ne,Gn=ct&&It;k===2?(Object.assign(R.style,{position:"fixed",left:`${Me}px`,minWidth:"500px",width:"auto",transform:""}),Gn?Object.assign(R.style,{bottom:`${ee.innerHeight-re+4}px`,top:"auto",maxHeight:`${he-8}px`}):Object.assign(R.style,{top:`${ae+4}px`,bottom:"auto",maxHeight:`${ne-8}px`})):(Object.assign(R.style,{position:"fixed",left:`${Me+J/2}px`,width:"320px",maxWidth:"100vw",transform:"translateX(-50%)"}),Gn?Object.assign(R.style,{bottom:`${ee.innerHeight-re+4}px`,top:"auto",maxHeight:`${he-8}px`}):Object.assign(R.style,{top:`${ae+4}px`,bottom:"auto",maxHeight:`${ne-8}px`}))};v.useEffect(()=>{const ae=Tn(),Me=wt(),J=()=>{T&&fe()},re=()=>{T&&fe()},R=ee=>{ee.key==="Escape"&&T&&(A(!1),F(!1))};return T&&(fe(),ae.addEventListener("scroll",J,!0),ae.addEventListener("resize",re),Me.addEventListener("keydown",R)),()=>{ae.removeEventListener("scroll",J,!0),ae.removeEventListener("resize",re),Me.removeEventListener("keydown",R)}},[T]);const ge=ae=>{if(S!==void 0||C!==void 0)if(S&&C)w(ae),V(G(ae,D)),e==null||e(ae);else if(S){const J=ae;ze(J).isBefore(S),w(J),V(G(J,D)),e==null||e(J),A(!1),F(!1)}else w(ae),V(G(ae,D)),e==null||e(ae);else w(ae),V(G(ae,D)),e==null||e(ae),M&&(A(!1),F(!1))},$e=()=>{j(ze(L).subtract(1,"month").toDate())},Re=()=>{j(ze(L).add(1,"month").toDate())},Ne=ae=>{const Me=ze(ae).startOf("month"),J=ze(ae).endOf("month"),re=[];let R=Me;for(;R.isBefore(J)||R.isSame(J,"day");)re.push(R.toDate()),R=R.add(1,"day");return re},ot=ae=>!!(n&&ze(ae).isBefore(n,"day")||r&&ze(ae).isAfter(r,"day")),_e=ae=>{if(!z)return;const J=ae.target.value.replace(/[^\d-]/g,"");if(J.length<P.length){V(J);return}if(J.replace(/-/g,"").length>8)return;let R=J;D==="DD-MM-YYYY"?(J.length===2&&!J.includes("-")||J.length===5&&J.split("-").length===2)&&(R=J+"-"):D==="YYYY-MM-DD"?(J.length===4&&!J.includes("-")||J.length===7&&J.split("-").length===2)&&(R=J+"-"):D==="MM-DD-YYYY"&&(J.length===2&&!J.includes("-")||J.length===5&&J.split("-").length===2)&&(R=J+"-"),V(R)},Je=()=>{if(!z)return;const ae=ce(P,D);if(ae){if(n&&ae<n){V(G(n,D)),w(n),e==null||e(n);return}if(r&&ae>r){V(G(r,D)),w(r),e==null||e(r);return}w(ae),e==null||e(ae),V(G(ae,D))}else V(_?G(_,D):"")},Xe=()=>{z&&A(!1)},q=ae=>{z&&ae.key==="Enter"&&(ae.preventDefault(),Je())},Ot=ae=>{const Me=ze(L).year(ae).toDate();j(Me),F(!1)},Tt=()=>{if(!B)return null;const ae=ze(L).year(),Me=1900,re=Array.from({length:2099-Me+1},(R,ee)=>Me+ee);return m.jsx("div",{ref:W,className:"grid grid-cols-5 gap-2 p-2 overflow-y-auto max-h-[300px]",children:re.map(R=>m.jsx("div",{"data-year":R,onClick:()=>Ot(R),className:U(R===ae&&"bg-primary-50 text-primary","text-sm cursor-pointer p-2"),children:R},R))})},st=()=>{if(!T)return null;const ae=wt();if(!("body"in ae))return null;const Me=Array.from({length:k}).map((J,re)=>ze(L).add(re,"month").toDate());return sn.createPortal(m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"fixed inset-0 z-[9998]",onClick:()=>{B||A(!1)}}),m.jsxs("div",{ref:oe,className:"fixed z-[9999] bg-white border border-gray-200 rounded-md shadow-lg",onClick:J=>J.stopPropagation(),children:[m.jsxs("div",{className:"flex items-center justify-between p-2 border-b border-gray-200",children:[m.jsx(Ae,{onClick:$e,variant:"ghost",size:"sm",leftIcon:"mdi:chevron-left"}),m.jsx("div",{className:"relative",children:m.jsx("span",{className:"font-medium text-gray-900",children:k===1?m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{children:ze(L).format("MMMM")}),m.jsxs("div",{className:"cursor-pointer flex items-center gap-1",onClick:()=>F(!B),children:[m.jsx("span",{children:ze(L).format("YYYY")}),m.jsx(Ae,{variant:"ghost",size:"sm",leftIcon:B?"mdi:chevron-up":"mdi:chevron-down"})]})]}):`${ze(L).format("MMMM YYYY")} - ${ze(L).add(k-1,"month").format("MMMM YYYY")}`})}),m.jsx(Ae,{onClick:Re,variant:"ghost",size:"sm",rightIcon:"mdi:chevron-right"})]}),B?Tt():m.jsx("div",{className:U(k===2?"flex gap-5 p-2 mx-auto w-fit":"justify-between p-2 mx-auto w-fit"),children:Me.map((J,re)=>{const R=Ne(J),ee=ze(J).startOf("month").day();return m.jsxs("div",{className:"flex flex-col",children:[m.jsxs("div",{className:"grid grid-cols-7 gap-y-1 my-1",children:[["Su","Mo","Tu","We","Th","Fr","Sa"].map((ne,he)=>{const Fe=he===0||he===6;return m.jsx("div",{className:U("text-center text-xs font-medium text-neutral",Fe&&"text-danger"),children:ne},ne)}),Array.from({length:ee}).map((ne,he)=>m.jsx("div",{},`empty-${he}`)),R.map(ne=>{const he=_&&ze(ne).isSame(_,"day"),Fe=ot(ne),ct=ze(ne).isSame(J,"month"),It=S&&C&&ze(ne).isSameOrAfter(S,"day")&&ze(ne).isSameOrBefore(C,"day"),Gn=S&&ze(ne).isSame(S,"day"),Fo=C&&ze(ne).isSame(C,"day"),Xr=ze(ne).day()===0||ze(ne).day()===6,En=S&&C;return m.jsx("div",{className:"flex flex-col items-center justify-center",children:m.jsx("div",{className:U(It&&"rounded-none bg-primary-50",En&&Gn&&"rounded-l-full",En&&Fo&&"rounded-r-full"),children:m.jsx("button",{onClick:()=>!Fe&&ge(ne),disabled:Fe,className:U("p-2 text-sm transition-colors duration-200 w-10 h-10 rounded-full",Xr&&"!text-danger",he&&"bg-primary !text-white hover:bg-primary-600 active:bg-primary-700",he&&!En&&"rounded-full",!he&&!Fe&&"hover:bg-primary-50 active:bg-primary-100",!ct&&"text-neutral-400",Fe&&"opacity-50 cursor-not-allowed",En&&Gn&&"!bg-primary !text-white !rounded-full",En&&Fo&&"!bg-primary !text-white !rounded-full"),children:ze(ne).format("D")},ne.toString())})})})]}),I]},re)})})]})]}),ae.body)},fn=m.jsxs("div",{className:U("relative",!h&&"inline-block"),ref:X,onClick:()=>!a&&!z&&A(!T),children:[y&&m.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-neutral cursor-pointer hover:text-primary transition-colors",onClick:ae=>{ae.stopPropagation(),a||A(!T)},children:m.jsx(xe,{icon:y,className:"w-4 h-4"})}),m.jsx("input",{ref:H,type:"text",value:z?P:E?E():_?G(_,D):"",placeholder:z?D:g,readOnly:!z,maxLength:z?10:void 0,onChange:_e,onBlur:Je,onFocus:Xe,onKeyDown:q,className:U(nx({variant:l?"error":o,size:s,rounded:i,fullWidth:h}),y&&"pl-10",x&&"pr-10",b),disabled:a,...$}),x&&m.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-neutral cursor-pointer hover:text-primary transition-colors",onClick:ae=>{ae.stopPropagation(),a||A(!T)},children:m.jsx(xe,{icon:x,className:"w-4 h-4"})})]}),pn=m.jsxs(m.Fragment,{children:[d&&m.jsx("p",{className:"mt-1 text-xs text-danger",children:d}),!d&&c&&m.jsx("p",{className:"mt-1 text-xs text-neutral",children:c})]});return p==="left"?m.jsxs("div",{className:U(h?"w-full":"inline-block",b),ref:Y,children:[m.jsxs("div",{className:"flex items-start gap-4",children:[u&&m.jsxs("label",{className:"block text-sm text-neutral-900 pt-2",children:[u,f&&m.jsx("span",{className:"text-danger ml-0.5",children:"*"})]}),m.jsxs("div",{className:U("flex-1",!h&&"inline-block"),children:[fn,pn]})]}),st()]}):m.jsxs("div",{className:U(h?"w-full":"inline-block",b),ref:Y,children:[u&&m.jsxs("label",{className:"mb-1.5 block text-sm text-neutral-900",children:[u,f&&m.jsx("span",{className:"text-danger ml-0.5",children:"*"})]}),fn,pn,st()]})});Js.displayName="PrimitiveDatePicker";const Vf=v.forwardRef(({mode:t="single",value:e,onChange:n,monthsToShow:r=1,calendarFooter:o,error:s=!1,errorText:i,format:a="DD-MM-YYYY",allowInput:l=!1,...d},c)=>{const[u,f]=v.useState([void 0,void 0]);if(t==="single"){const p=Array.isArray(e)?e[0]:e;return m.jsx(Js,{ref:c,value:p===null?void 0:p,onChange:h=>n==null?void 0:n(h),monthsToShow:r,calendarFooter:o,error:s,errorText:i,format:a,allowInput:l,...d})}if(t==="range"){let[p,h]=Array.isArray(e)?e:u;const b=y=>{!p||p&&h?(f([y,void 0]),n==null||n([y,void 0])):p&&!h&&(y<p?(f([y,p]),n==null||n([y,p])):(f([p,y]),n==null||n([p,y])))},g=()=>{if(!p)return"";const y=x=>x?x.toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"";return p&&h?`${y(p)} - ${y(h)}`:y(p)};return m.jsx(Js,{ref:c,value:p,onChange:b,monthsToShow:r,placeholder:d.placeholder||"Select date range",valueFormatter:g,rangeStart:p,rangeEnd:h,closeOnSelect:!!h,calendarFooter:o,error:s,errorText:i,format:a,allowInput:l,...d})}return null});Vf.displayName="DatePicker";const Cl=v.forwardRef(({children:t,onClose:e,className:n,...r},o)=>m.jsxs("div",{ref:o,className:U("mb-4 flex items-center justify-between",n),...r,children:[m.jsx("div",{className:"flex-1",children:t}),e&&m.jsx("button",{onClick:e,className:"rounded-full p-1 text-gray hover:bg-gray-100 hover:text-gray-700","aria-label":"Close dialog",children:m.jsx(xe,{icon:"mdi:close",className:"h-5 w-5"})})]})),Wf={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-4xl","2xl":"max-w-5xl","3xl":"max-w-6xl","4xl":"max-w-7xl","5xl":"max-w-[96rem]",fullscreen:"w-full h-full max-w-none max-h-none rounded-none"},rx={sm:"w-64",md:"w-80",lg:"w-96",xl:"w-[32rem]","2xl":"w-[36rem]","3xl":"w-[42rem]","4xl":"w-[48rem]","5xl":"w-[56rem]",fullscreen:"w-full"},ro=v.forwardRef(({isOpen:t,onClose:e,children:n,className:r,backdrop:o="dark",header:s,closeOnBackdropClick:i=!0,size:a="md",sizeClassName:l,rounded:d="xl",position:c="center",scrollBehavior:u="normal",animationDuration:f=300,animationDelay:p=0,...h},b)=>{const[g,y]=v.useState(t),[x,k]=v.useState(!1),E=v.useRef(!1);if(v.useLayoutEffect(()=>{if(t){y(!0),k(!1);const O=wt();"body"in O&&(u!=="outside"?(O.body.style.overflow="hidden",E.current=!0):E.current=!1);const T=requestAnimationFrame(()=>k(!0));return()=>cancelAnimationFrame(T)}k(!1);const $=setTimeout(()=>{y(!1);const O=wt();"body"in O&&E.current&&(O.body.style.overflow="",E.current=!1)},f+p);return()=>clearTimeout($)},[t,u,f,p]),v.useEffect(()=>{const $=O=>{O instanceof KeyboardEvent&&O.key==="Escape"&&e()};return t&&wt().addEventListener("keydown",$),()=>{wt().removeEventListener("keydown",$)}},[t,e]),!g)return null;const S={blur:"backdrop-blur-sm bg-black/30",dark:"bg-black/50",transparent:"bg-transparent"},C=()=>{i&&e()},M=wt();if(!("body"in M))return null;const I=$=>{switch($){case"none":return"rounded-none";case"sm":return"rounded-sm";case"md":return"rounded-md";case"lg":return"rounded-lg";case"xl":return"rounded-xl";case"2xl":return"rounded-2xl";case"3xl":return"rounded-3xl";case"full":return"rounded-full";default:return"rounded-lg"}},D=(()=>{if(u==="inside")return a==="fullscreen"||c==="left"||c==="right"?"overflow-y-auto":"max-h-screen overflow-y-auto"})(),z={transitionDuration:`${f}ms`,transitionDelay:`${p}ms`};return sn.createPortal(m.jsx("div",{className:U("fixed inset-0 z-50 flex transition-opacity",S[o],x?"opacity-100":"opacity-0",c==="center"&&"items-center justify-center",c==="top"&&"items-start justify-center",c==="bottom"&&"items-end justify-center",c==="left"&&"items-stretch justify-start",c==="right"&&"items-stretch justify-end"),style:z,onClick:C,children:m.jsxs("div",{ref:b,className:U("relative transform bg-white p-6 shadow-xl transition-all",a==="fullscreen"?Wf.fullscreen:l??(c==="left"||c==="right"?rx[a]:Wf[a]),c==="center"&&(x?"scale-100 opacity-100":"scale-95 opacity-0"),c==="left"&&(x?"translate-x-0 h-full":"-translate-x-full h-full"),c==="right"&&(x?"translate-x-0 h-full":"translate-x-full h-full"),c==="top"&&(x?"translate-y-0 opacity-100":"-translate-y-full opacity-0"),c==="bottom"&&(x?"translate-y-0 opacity-100":"translate-y-full opacity-0"),r,a==="fullscreen"?"rounded-none":I(d),c==="left"&&"rounded-l-none",c==="right"&&"rounded-r-none",c==="top"&&"rounded-t-none",c==="bottom"&&"rounded-b-none",D),style:z,onClick:$=>$.stopPropagation(),...h,children:[s&&m.jsx(Cl,{onClose:e,children:s}),n]})}),M.body)}),oo=v.forwardRef(({children:t,className:e,...n},r)=>m.jsx("h2",{ref:r,className:U("text-xl font-semibold text-gray-900",e),...n,children:t})),so=v.forwardRef(({children:t,className:e,...n},r)=>m.jsx("div",{ref:r,className:U("text-gray-600",e),...n,children:t})),io=v.forwardRef(({children:t,className:e,...n},r)=>m.jsx("div",{ref:r,className:U("mt-6 flex justify-end gap-3",e),...n,children:t}));ro.displayName="Dialog",oo.displayName="DialogTitle",so.displayName="DialogBody",io.displayName="DialogActions",Cl.displayName="DialogHeader";const Uf=({orientation:t="horizontal",variant:e="solid",color:n="neutral",size:r="sm",className:o=""})=>{const s={horizontal:"w-full border-t-0 border-l-0 border-r-0 border-b",vertical:"h-full border-l border-t-0 border-r-0 border-b-0"},i={solid:"border-solid",dashed:"border-dashed",dotted:"border-dotted"},a={primary:"border-primary-300",secondary:"border-secondary-300",neutral:"border-neutral-300",success:"border-success-300",warning:"border-warning-300",error:"border-error-300"},l={sm:t==="horizontal"?"border-b":"border-l",md:t==="horizontal"?"border-b-2":"border-l-2",lg:t==="horizontal"?"border-b-4":"border-l-4"},d=hn("inline-block",s[t],i[e],a[n],l[r],o);return m.jsx("div",{className:d})},ox={primary:{border:"border-primary-200",hover:"hover:border-primary-300",active:"border-primary-400",text:"text-primary-700",bg:"bg-primary-50"},secondary:{border:"border-secondary-200",hover:"hover:border-secondary-300",active:"border-secondary-400",text:"text-secondary-700",bg:"bg-secondary-50"},success:{border:"border-success-200",hover:"hover:border-success-300",active:"border-success-400",text:"text-success-700",bg:"bg-success-50"},warning:{border:"border-warning-200",hover:"hover:border-warning-300",active:"border-warning-400",text:"text-warning-700",bg:"bg-warning-50"},default:{border:"border-gray-200",hover:"hover:border-gray-300",active:"border-gray-400",text:"text-gray-700",bg:"bg-gray-50"},light:{border:"border-light-200",hover:"hover:border-light-300",active:"border-light-400",text:"text-light-900",bg:"bg-light-50"},dark:{border:"border-dark-200",hover:"hover:border-dark-300",active:"border-dark-400",text:"text-dark-50",bg:"bg-dark-50"},info:{border:"border-info-200",hover:"hover:border-info-300",active:"border-info-400",text:"text-info-700",bg:"bg-info-50"}},sx={none:"",sm:"shadow-sm",md:"shadow-md",lg:"shadow-lg",xl:"shadow-xl"},Gf={none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",xl:"rounded-xl",full:"rounded-full"},Kf=v.forwardRef(({accept:t=["*"],maxSize:e=5*1024*1024,multiple:n=!1,value:r=[],onChange:o,className:s,disabled:i=!1,placeholder:a="Drag and drop files here or click to browse",variant:l="default",shadow:d="none",rounded:c="lg",children:u,showFileList:f=!0,showPlaceholder:p=!0,showMaxSize:h=!0,icon:b="mdi:upload",name:g},y)=>{const[x,k]=v.useState(!1),[E,S]=v.useState(null),C=v.useRef(null),M=v.useRef(null);v.useImperativeHandle(y,()=>C.current||M.current,[]);const I=v.useCallback(w=>{w.preventDefault(),i||k(!0)},[i]),D=v.useCallback(w=>{w.preventDefault(),k(!1)},[]),z=v.useCallback(w=>w.size>e?`File size exceeds ${e/(1024*1024)}MB limit`:t[0]!=="*"&&!t.some(L=>L.startsWith(".")?w.name.toLowerCase().endsWith(L.toLowerCase()):w.type.startsWith(L))?`File type not allowed. Allowed types: ${t.join(", ")}`:null,[t,e]),$=v.useCallback(w=>{if(w.preventDefault(),k(!1),S(null),i)return;const L=Array.from(w.dataTransfer.files),j=[],B=[];if(L.forEach(F=>{const P=z(F);P?B.push(`${F.name}: ${P}`):j.push(F)}),B.length>0&&S(B.join(`
`)),j.length>0){const F=n?[...r,...j]:j;o==null||o(F)}},[i,n,o,z,r]),O=v.useCallback(w=>{if(S(null),i||!w.target.files)return;const L=Array.from(w.target.files),j=[],B=[];if(L.forEach(F=>{const P=z(F);P?B.push(`${F.name}: ${P}`):j.push(F)}),B.length>0&&S(B.join(`
`)),j.length>0){const F=n?[...r,...j]:j;o==null||o(F)}C.current&&(C.current.value="")},[i,n,o,z,r]),T=v.useCallback(w=>{const L=[...r];L.splice(w,1),o==null||o(L)},[o,r]),A=w=>w.type.startsWith("image/")?m.jsx(xe,{icon:"mdi:image",className:"w-5 h-5"}):w.type.startsWith("text/")?m.jsx(xe,{icon:"mdi:file-document",className:"w-5 h-5"}):m.jsx(xe,{icon:"mdi:file",className:"w-5 h-5"}),_=ox[l];return m.jsxs("div",{ref:M,className:Ce("w-full",s),children:[m.jsxs("div",{className:Ce("p-6 text-center transition-colors",!u&&["border-2 border-dashed",_.border,_.bg,x&&_.active,!i&&_.hover],i&&"opacity-50 cursor-not-allowed",sx[d],Gf[c],!u&&"cursor-pointer"),onDragOver:I,onDragLeave:D,onDrop:$,onClick:()=>{var w;return!i&&!u&&((w=C.current)==null?void 0:w.click())},children:[m.jsx("input",{ref:C,type:"file",accept:t.join(","),multiple:n,onChange:O,className:"hidden",disabled:i,name:g}),u?m.jsx("div",{onClick:()=>{var w;return!i&&((w=C.current)==null?void 0:w.click())},children:u}):m.jsxs(m.Fragment,{children:[m.jsx(xe,{icon:b,className:"w-12 h-12 mx-auto mb-4 text-neutral-400"}),p&&m.jsx("p",{className:Ce("text-neutral-600",_.text),children:a}),h&&m.jsxs("p",{className:"text-sm text-neutral mt-2",children:["Max file size: ",e/(1024*1024),"MB"]})]})]}),E&&m.jsx("p",{className:"mt-2 text-sm text-danger",children:E}),f&&r.length>0&&m.jsx("div",{className:"mt-4 space-y-2",children:r.map((w,L)=>m.jsxs("div",{className:Ce("flex items-center justify-between p-2",Gf[c],_.bg),children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[A(w),m.jsx("span",{className:Ce("text-sm",_.text),children:w.name}),m.jsxs("span",{className:"text-xs text-neutral",children:["(",(w.size/1024).toFixed(1)," KB)"]})]}),!i&&m.jsx("button",{onClick:()=>T(L),className:"p-1 text-neutral hover:text-danger",children:m.jsx(xe,{icon:"mdi:close",className:"w-4 h-4"})})]},`${w.name}-${L}`))})]})});Kf.displayName="FileUpload";const ix=ft("flex items-start gap-3 p-4 shadow-sm",{variants:{variant:{default:"bg-white border border-neutral-200",primary:"bg-primary-50 border border-primary-200",success:"bg-success-50 border border-success-200",warning:"bg-warning-50 border border-warning-200",danger:"bg-danger-50 border border-danger-200",info:"bg-info-50 border border-info-200"},rounded:{none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",xl:"rounded-xl","2xl":"rounded-2xl","3xl":"rounded-3xl",full:"rounded-full"}},defaultVariants:{variant:"default",rounded:"xl"}}),ax=({title:t,children:e,icon:n,variant:r="default",rounded:o="xl",showClose:s=!1,onClose:i,className:a})=>{const l=()=>{switch(r){case"primary":return"text-primary-600";case"success":return"text-success-600";case"warning":return"text-warning-600";case"danger":return"text-danger-600";case"info":return"text-info-600";default:return"text-neutral-600"}},d=()=>{if(n)return n;switch(r){case"primary":return"mdi:information";case"success":return"mdi:check-circle";case"warning":return"mdi:alert";case"danger":return"mdi:alert-circle";case"info":return"mdi:information";default:return"mdi:information"}};return m.jsxs("div",{className:U(ix({variant:r,rounded:o}),a),children:[n&&m.jsx(xe,{icon:d(),className:U("h-5 w-5 flex-shrink-0",l())}),m.jsxs("div",{className:"flex-1",children:[t&&m.jsx("h3",{className:"text-sm font-medium text-neutral-900",children:t}),m.jsx("div",{className:"mt-1 text-sm text-neutral",children:e})]}),s&&m.jsx("button",{type:"button",className:"ml-auto flex-shrink-0 text-neutral-400 hover:text-neutral",onClick:i,children:m.jsx(xe,{icon:"mdi:close",className:"h-5 w-5"})})]})},Tl="select-dropdown-opened",lx=ft("rounded-md px-3 py-2 text-sm ring-0 transition-colors placeholder:text-neutral placeholder:text-sm focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",{variants:{variant:{default:"border border-neutral-200 hover:border-primary-300 focus:border-primary-300 hover:bg-primary-50 bg-white",error:"border border-danger hover:border-danger-600 focus:border-danger-600 hover:bg-danger-50 bg-white",success:"border border-success hover:border-success-600 focus:border-success-600 bg-white",ghost:"border-0 hover:bg-neutral-100 focus:bg-neutral-100 bg-transparent",underline:"border-0 border-b-2 border-neutral-200 rounded-none bg-transparent hover:border-primary-300 focus:border-primary-300 hover:bg-transparent focus:bg-transparent"},size:{sm:"h-8 px-2 py-1 text-sm",md:"h-10 px-3 py-2 text-base",lg:"h-12 px-4 py-3 text-lg"},rounded:{none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",xl:"rounded-xl","2xl":"rounded-2xl","3xl":"rounded-3xl",full:"rounded-full"},fullWidth:{true:"w-full",false:"w-fit"}},defaultVariants:{variant:"default",size:"md",fullWidth:!0,rounded:"xl"}}),Nl=v.forwardRef(({className:t,variant:e="default",size:n="md",rounded:r="xl",options:o,label:s,error:i=!1,errorText:a,helperText:l,required:d=!1,placeholder:c,value:u,onChange:f,disabled:p=!1,position:h="bottom",fullWidth:b=!1,children:g,leftIcon:y,rightIcon:x,name:k,...E},S)=>{const[C,M]=v.useState(!1),I=v.useRef(null),D=v.useRef(null),z=v.useRef(null),$=v.useRef(null),T=`select-${v.useId().replace(/:/g,"")}`;v.useImperativeHandle(S,()=>z.current||$.current,[]);const A=()=>{if(C&&I.current&&D.current){const F=I.current.getBoundingClientRect(),P=D.current,V=Tn(),Y=V.innerHeight-F.bottom,X=F.top,W=F.bottom+P.offsetHeight+4>=V.innerHeight,H=X>Y,G=W&&H;h==="bottom"||h==="top"?(P.style.position="fixed",P.style.left=`${F.left}px`,P.style.width=`${F.width}px`,h==="bottom"&&G?(P.style.bottom=`${V.innerHeight-F.top+4}px`,P.style.top="auto",P.style.maxHeight=`${X-8}px`):h==="bottom"?(P.style.top=`${F.bottom+4}px`,P.style.bottom="auto",P.style.maxHeight=`${Y-8}px`):h==="top"&&!G?(P.style.top=`${F.bottom+4}px`,P.style.bottom="auto",P.style.maxHeight=`${Y-8}px`):(P.style.bottom=`${V.innerHeight-F.top+4}px`,P.style.top="auto",P.style.maxHeight=`${X-8}px`)):h==="left"?(P.style.position="fixed",P.style.right=`${V.innerWidth-F.left+4}px`,P.style.top=`${F.top}px`,P.style.maxHeight=`${V.innerHeight-F.top-8}px`):h==="right"&&(P.style.position="fixed",P.style.left=`${F.right+4}px`,P.style.top=`${F.top}px`,P.style.maxHeight=`${V.innerHeight-F.top-8}px`)}};v.useEffect(()=>{const F=Tn(),P=()=>{C&&A()},V=()=>{C&&A()};return C&&(A(),F.addEventListener("scroll",P,!0),F.addEventListener("resize",V)),()=>{F.removeEventListener("scroll",P,!0),F.removeEventListener("resize",V)}},[C,h]),v.useEffect(()=>{z.current&&u!==void 0&&(z.current.value=u)},[u]),v.useEffect(()=>{const F=wt(),P=Y=>{Y.detail.id!==T&&M(!1)},V=Y=>{const X=Y.target,oe=I.current,W=D.current;oe&&W&&!oe.contains(X)&&!W.contains(X)&&M(!1)};return F.addEventListener(Tl,P),F.addEventListener("click",V),()=>{F.removeEventListener(Tl,P),F.removeEventListener("click",V)}},[T]);const _=()=>{if(p)return;if(C){M(!1);return}wt().dispatchEvent(new CustomEvent(Tl,{detail:{id:T}})),M(!0)},w=()=>{if(o){const F=o.find(P=>P.value===u);return F==null?void 0:F.label}if(g){const P=v.Children.toArray(g).find(V=>v.isValidElement(V)&&"value"in V.props&&V.props.value===u);return v.isValidElement(P)?P.props.children:null}return null},L=F=>{if(!p&&(f==null||f(F),M(!1),z.current)){z.current.value=F;const P=new Event("input",{bubbles:!0});z.current.dispatchEvent(P)}},j=()=>o?o.map(F=>m.jsx(Ko,{value:F.value,disabled:F.disabled,selected:F.value===u,onClick:()=>{F.onClick&&F.onClick(F.value),L(F.value)},children:m.jsxs("div",{className:"flex items-center gap-2",children:[F.icon,F.label]})},F.value)):g?v.Children.map(g,F=>v.isValidElement(F)&&"value"in F.props?v.cloneElement(F,{selected:F.props.value===u,onClick:()=>L(F.props.value)}):null):null,B=()=>{if(!C||p)return null;const F=m.jsx("div",{ref:D,className:U("fixed z-[9999] min-w-[8rem] border border-neutral-200 bg-white py-1 shadow-lg rounded-lg",h==="left"||h==="right"?"w-max":"w-full"),onClick:V=>V.stopPropagation(),style:{overflowY:"auto"},children:j()}),P=wt();return"body"in P?sn.createPortal(F,P.body):null};return m.jsxs("div",{ref:$,className:U(b?"w-full":"inline-block"),...E,children:[m.jsx("input",{type:"hidden",ref:z,name:k,value:u||"",onChange:()=>{}}),s&&m.jsxs("label",{htmlFor:T,className:"mb-1.5 block text-sm text-neutral-900",children:[s,d&&m.jsx("span",{className:"text-danger ml-0.5",children:"*"})]}),m.jsxs("div",{className:U("relative",!b&&"inline-block"),onClick:_,children:[m.jsxs("button",{id:T,ref:I,type:"button",className:U(lx({variant:i?"error":e,size:n,rounded:r,fullWidth:b}),"flex items-center justify-between",p&&"cursor-not-allowed opacity-50",y&&"pl-10",x&&"pr-10",t),"aria-haspopup":"listbox","aria-expanded":C,"aria-describedby":i?`${T}-error`:l?`${T}-helper`:void 0,disabled:p,children:[y&&m.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-neutral flex items-center",children:m.jsx(xe,{icon:y,className:"w-4 h-4"})}),m.jsx("span",{className:"flex items-center gap-2 min-w-0 flex-1",children:m.jsx("span",{className:U("truncate text-left",w()?"text-neutral-900":"text-neutral"),children:w()||c})}),x?m.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-neutral flex items-center",children:m.jsx(xe,{icon:x,className:"w-4 h-4"})}):m.jsx(xe,{icon:"mdi:chevron-down",className:U("transition-transform flex-shrink-0 ml-2 w-4 h-4",C&&"rotate-180")})]}),B()]}),i&&a&&m.jsx("p",{className:"mt-1 text-xs text-danger",id:`${T}-error`,children:a}),!i&&l&&m.jsx("p",{className:"mt-1 text-xs text-neutral",id:`${T}-helper`,children:l})]})});Nl.displayName="Select";const qf=({currentPage:t,totalPages:e,totalData:n,onPageChange:r,siblingCount:o=1,className:s,perPageOptions:i,perPage:a=10,label:l="",onPerPageChange:d})=>{const c=(p,h)=>{const b=h-p+1;return Array.from({length:b},(g,y)=>y+p)},f=(()=>{const p=o*2+3,h=p+2;if(e>h){const b=Math.max(2,t-o),g=Math.min(e-1,t+o);let y=c(b,g);const x=b>2,k=e-g>1,E=p-(y.length+1);if(x&&!k)y=[...c(b-E,b-1),...y];else if(!x&&k){const S=c(g+1,g+E);y=[...y,...S]}else x&&k&&(y=[...y]);return[1,...y,e]}return c(1,e)})();return m.jsxs("nav",{className:Ce("flex items-center justify-between space-x-1",s),children:[m.jsxs("div",{className:"hidden sm:block text-sm text-neutral-700",children:[m.jsx("b",{children:`${t} - ${e}`})," dari ",n," ",l]}),m.jsxs("div",{className:"flex items-center gap-2",children:[i&&i.length>0&&m.jsxs("div",{className:"flex items-center gap-2 mr-4",children:[m.jsx("span",{className:"text-neutral-700 text-sm",children:"Menampilkan"}),m.jsx(Nl,{value:a==null?void 0:a.toString(),onChange:p=>d&&d(Number(p)),size:"sm",className:"w-16",fullWidth:!1,"aria-label":"Items per page",children:i.map(p=>m.jsx(Ko,{value:p.toString(),children:p},p))}),m.jsx("span",{className:"text-neutral-700 text-sm",children:"data per halaman"})]}),m.jsx(Ae,{variant:"ghost",onClick:()=>r(t-1),disabled:t===1,className:Ce("px-3 py-1 rounded-md text-sm",t===1?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-100"),children:m.jsx(xe,{size:"18",icon:"mdi:chevron-left"})}),f.map((p,h)=>{const b=p===t,g=typeof p=="string"&&p==="...";return m.jsx(Ae,{variant:"ghost",onClick:()=>!g&&r(p),className:Ce("px-3 py-1 rounded-md text-sm",b?"bg-primary text-white hover:bg-primary":"text-gray-700",g&&"cursor-default"),children:p},h)}),m.jsx(Ae,{variant:"ghost",onClick:()=>r(t+1),disabled:t===e,className:Ce("px-3 py-1 rounded-md text-sm",t===e?"text-gray-400 cursor-not-allowed":"text-gray-700"),children:m.jsx(xe,{size:"18",icon:"mdi:chevron-right"})})]})]})},Ml=v.forwardRef(({label:t,checked:e=!1,disabled:n=!1,onChange:r,name:o,value:s,error:i,color:a="primary",variantSize:l="sm",...d},c)=>{const u=h=>{r==null||r(h.target.checked)},f={sm:"h-4 w-4 before:h-2 before:w-2",md:"h-5 w-5 before:h-2.5 before:w-2.5",lg:"h-6 w-6 before:h-3 before:w-3"},p={primary:"text-primary-600 checked:border-primary-600 hover:border-primary-600",secondary:"text-secondary-600 checked:border-secondary-600 hover:border-secondary-600",success:"text-success-600 checked:border-success-600 hover:border-success-600",warning:"text-warning-600 checked:border-warning-600 hover:border-warning-600",error:"text-danger-600 checked:border-danger-600 hover:border-danger-600"};return m.jsxs("label",{className:hn("inline-flex items-center gap-2 cursor-pointer select-none",n&&"opacity-60 cursor-not-allowed"),children:[m.jsx("input",{type:"radio",name:o,value:s,checked:e,disabled:n,onChange:u,ref:c,...d,className:hn("appearance-none rounded-full border-2 bg-white shrink-0","grid place-items-center","before:content-[''] before:rounded-full before:bg-current before:scale-0","before:transition-transform before:duration-150 before:ease-out","checked:before:scale-100",f[l],p[a],e?"":i?"border-danger-600":"border-gray-300",!e&&i&&"hover:border-danger-700","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-current")}),t&&m.jsx("span",{className:hn("text-sm font-medium leading-none",i&&"text-danger-600"),children:t})]})});Ml.displayName="Radio";const dx=ft("flex flex-col",{variants:{layout:{vertical:"flex-col",horizontal:"flex-row flex-wrap",grid:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"},size:{sm:"gap-1",md:"gap-2",lg:"gap-3"}},defaultVariants:{layout:"vertical",size:"md"}}),Yf=v.forwardRef(({className:t,options:e=[],value:n,defaultValue:r,onChange:o,layout:s="vertical",size:i="md",error:a=!1,errorText:l,helperText:d,label:c,required:u=!1,labelPlacement:f="top",fullWidth:p=!1,disabled:h=!1,name:b,gap:g,color:y="primary",radioSize:x="sm",id:k,...E},S)=>{const C=k||v.useId(),M=`${C}-helper`,I=`${C}-error`,D=`${C}-group`,z=b||`radio-group-${C}`,[$,O]=v.useState(r),T=n!==void 0?n:$,A=B=>{n===void 0&&O(B),o==null||o(B)},w=(B=>B==="none"?"gap-0":B==="xs"?"gap-1":B==="sm"?"gap-2":B==="md"?"gap-3":B==="lg"?"gap-4":B==="xl"?"gap-6":null)(g),L=m.jsx("div",{className:U("relative",!p&&"inline-block"),children:m.jsx("fieldset",{ref:S,id:D,className:U(dx({layout:s,size:i}),w,t),"aria-describedby":a?I:d?M:void 0,"aria-invalid":a,"aria-required":u,...E,children:e.map(B=>m.jsx(Ml,{label:B.label,checked:T===B.value,onChange:()=>A(B.value),disabled:h||B.disabled,name:z,value:B.value,color:a?"error":y,error:a?" ":void 0,variantSize:x},B.value))})}),j=m.jsxs(m.Fragment,{children:[a&&l&&m.jsx("p",{className:"mt-1 text-xs text-danger",id:I,children:l}),!a&&d&&m.jsx("p",{className:"mt-1 text-xs text-neutral",id:M,children:d})]});return f==="left"?m.jsx("div",{className:U(p?"w-full":"inline-block",t),children:m.jsxs("div",{className:"flex items-start gap-4",children:[c&&m.jsxs("label",{htmlFor:D,className:"block text-sm text-neutral-900 pt-2",children:[c,u&&m.jsx("span",{className:"text-danger ml-0.5",children:"*"})]}),m.jsxs("div",{className:U("flex-1",!p&&"inline-block"),children:[L,j]})]})}):m.jsxs("div",{className:U(p?"w-full":"inline-block",t),children:[c&&m.jsxs("label",{htmlFor:D,className:"mb-1.5 block text-sm text-neutral-900",children:[c,u&&m.jsx("span",{className:"text-danger ml-0.5",children:"*"})]}),L,j]})});Yf.displayName="RadioGroup";const Jf=ft("animate-pulse bg-neutral-200",{variants:{variant:{default:"bg-neutral-200",primary:"bg-primary-200",success:"bg-success-200",warning:"bg-warning-200",danger:"bg-danger-200",info:"bg-info-200"},rounded:{none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",xl:"rounded-xl","2xl":"rounded-2xl","3xl":"rounded-3xl",full:"rounded-full"},fullWidth:{true:"w-full",false:"w-fit"},pulseVariant:{default:"","left-to-right":"relative overflow-hidden"}},defaultVariants:{variant:"default",rounded:"md",fullWidth:!1,pulseVariant:"default"}}),Xf=({width:t,height:e,variant:n="default",rounded:r="xl",fullWidth:o=!1,pulseVariant:s="default",className:i})=>s==="left-to-right"?m.jsxs("div",{className:"relative overflow-hidden",children:[m.jsx("div",{className:U(Jf({variant:n,rounded:r,fullWidth:o,pulseVariant:"default"}),i),style:{width:!o&&typeof t=="number"?`${t}px`:t,height:typeof e=="number"?`${e}px`:e}}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/80 to-transparent animate-pulse-left-to-right pointer-events-none"})]}):m.jsx("div",{className:U(Jf({variant:n,rounded:r,fullWidth:o,pulseVariant:s}),i),style:{width:!o&&typeof t=="number"?`${t}px`:t,height:typeof e=="number"?`${e}px`:e}}),Zf=v.forwardRef(({min:t=0,max:e=100,step:n=1,value:r,defaultValue:o=t,onChange:s,className:i,disabled:a=!1,showValue:l=!1,marks:d=[],range:c=!1,name:u,...f},p)=>{const h=c,[b,g]=v.useState(r!==void 0?r:o!==void 0?o:h?[t,e]:t),[y,x]=v.useState(null),k=v.useRef(null),E=v.useRef(null),S=v.useRef(null);v.useImperativeHandle(p,()=>E.current||S.current,[]);const C=r!==void 0?r:b,[M,I]=h?Array.isArray(C)?C:[t,e]:[typeof C=="number"?C:t,e],D=P=>Math.min(Math.max(P,t),e),z=P=>{if(a)return;let V;if(h&&Array.isArray(P)?V=[D(P[0]),D(P[1])]:!h&&typeof P=="number"?V=D(P):V=h?[t,e]:t,r===void 0&&g(V),s==null||s(V),E.current){E.current.value=JSON.stringify(V);const Y=new Event("input",{bubbles:!0});E.current.dispatchEvent(Y)}},$=P=>{if(!k.current)return t;const V=k.current.getBoundingClientRect(),X=(P-V.left)/V.width,oe=t+(e-t)*X,W=Math.round(oe/n)*n;return D(W)},O=P=>V=>{a||(x(P),V.stopPropagation())},T=P=>{if(!a)if(!h)x(0),A(P,0);else{const V=$(P.clientX),Y=Math.abs(V-M),X=Math.abs(V-I),oe=Y<X?0:1;x(oe),A(P,oe)}},A=v.useCallback((P,V)=>{const Y=$(P.clientX);if(!h)z(Y);else{let X=[M,I];V===0?X=[Math.min(Y,I-n),I]:X=[M,Math.max(Y,M+n)],X[0]>X[1]&&(X=[X[1],X[0]]),z(X)}},[h,M,I,n,z,$]),_=v.useRef(y);_.current=y;const w=v.useCallback(function(P){_.current===null||a||A(P,_.current)},[a,A]),L=v.useCallback(function(){x(null)},[]);v.useEffect(()=>{if(y!==null){const P=Tn();return P.addEventListener("mousemove",w),P.addEventListener("mouseup",L),()=>{P.removeEventListener("mousemove",w),P.removeEventListener("mouseup",L)}}},[y,w,L]);const j=P=>(P-t)/(e-t)*100,B=j(M),F=j(I);return m.jsxs("div",{ref:S,className:Ce("relative w-full",i),...f,children:[m.jsx("input",{type:"hidden",ref:E,name:u,value:JSON.stringify(C),onChange:()=>{}}),m.jsxs("div",{ref:k,className:Ce("relative h-2 bg-gray-200 rounded-full cursor-pointer",a&&"opacity-50 cursor-not-allowed"),onMouseDown:T,children:[m.jsx("div",{className:"absolute h-full bg-primary rounded-full",style:{left:`${h?B:0}%`,width:`${h?F-B:B}%`}}),m.jsx("div",{className:Ce("absolute top-1/2 -translate-y-1/2 w-4 h-4 bg-white rounded-full shadow-md","border-2 border-primary",a&&"cursor-not-allowed"),style:{left:`${B}%`,transform:"translate(-50%, -50%)"},onMouseDown:O(0)}),h&&m.jsx("div",{className:Ce("absolute top-1/2 -translate-y-1/2 w-4 h-4 bg-white rounded-full shadow-md","border-2 border-primary",a&&"cursor-not-allowed"),style:{left:`${F}%`,transform:"translate(-50%, -50%)"},onMouseDown:O(1)})]}),d.length>0&&m.jsx("div",{className:"flex justify-between mt-2",children:d.map(P=>m.jsx("div",{className:"text-xs text-gray",style:{left:`${(P.value-t)/(e-t)*100}%`},children:P.label},P.value))}),l&&m.jsx("div",{className:"mt-2 text-sm text-gray-600",children:h?`${M} - ${I}`:M})]})});Zf.displayName="Slider";const cx={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"},ux={primary:"text-primary",warning:"text-warning",default:"text-default-400"},fx=({rating:t,maxRating:e=5,size:n="md",color:r="primary",readOnly:o=!1,onRatingChange:s,className:i})=>{const[a,l]=v.useState(null),d=p=>{o||l(p)},c=()=>{o||l(null)},u=p=>{!o&&s&&s(p)},f=a!==null?a:t;return m.jsx("div",{className:U("flex items-center gap-1",i),children:[...Array(e)].map((p,h)=>{const b=h+1,g=b<=f,y=a!==null&&b<=a;return m.jsx("button",{className:U("transition-colors duration-200",cx[n],g||y?ux[r]:"text-default-200",!o&&"cursor-pointer"),onMouseEnter:()=>d(b),onMouseLeave:c,onClick:()=>u(b),disabled:o,"aria-label":`Rate ${b} out of ${e}`,children:m.jsx(xe,{icon:g||y?"mdi:star":"mdi:star-outline",className:"w-full h-full"})},h)})})},px={active:{bgColor:"bg-success",label:"Active"},inactive:{bgColor:"bg-default",label:"Inactive"},pending:{bgColor:"bg-warning",label:"Pending"},warning:{bgColor:"bg-warning",label:"Warning"},error:{bgColor:"bg-danger",label:"Error"}},hx={sm:"w-2 h-2",md:"w-3 h-3",lg:"w-4 h-4"},mx=({status:t,size:e="md",withLabel:n=!1,className:r})=>{const{bgColor:o,label:s}=px[t],i=hx[e];return m.jsxs("div",{className:U("flex items-center gap-2",r),children:[m.jsx("div",{className:U("rounded-full animate-pulse",o,i)}),n&&m.jsx("span",{className:"text-sm",children:s})]})},Qf=(t,e)=>{if(e)return e;switch(t){case"completed":return"mdi:check";case"active":return"mdi:circle-medium";default:return"mdi:circle-outline"}},ep=t=>{switch(t){case"completed":return"text-white bg-primary ring-4 ring-primary-50";case"active":return"text-primary bg-primary-50 ring-4 ring-primary-50";default:return"text-neutral bg-neutral-50 ring-4 ring-neutral-50"}},gx=({steps:t,activeStep:e,className:n,variant:r="default"})=>m.jsx("div",{className:U("flex flex-row items-center w-full justify-between",n),children:t.map((o,s)=>{const i=s<e?"completed":s===e?"active":"pending";return m.jsxs("div",{className:"flex items-center flex-1",children:[m.jsxs("div",{className:U("flex flex-col items-center z-10",r==="default"?"gap-4":"gap-2",r==="default"?"px-5":"px-3"),children:[r==="default"&&m.jsx("div",{className:U("flex h-8 w-8 items-center justify-center rounded-full transition-all duration-200",ep(i)),children:m.jsx(xe,{icon:Qf(i,o.icon),className:"h-5 w-5"})}),m.jsxs("div",{className:"flex flex-col items-center text-center",children:[m.jsx("span",{className:U("text-sm font-medium",i==="active"?"text-primary":i==="completed"?"text-neutral-900":"text-neutral"),children:o.label}),o.description&&m.jsx("span",{className:"text-xs text-neutral",children:o.description})]})]}),s<t.length-1&&m.jsx(Uf,{className:U("transition-all duration-200",s<e?"bg-primary":"bg-neutral-200")})]},s)})}),bx=({steps:t,activeStep:e,className:n,variant:r="default"})=>m.jsx("div",{className:U("flex flex-col items-start gap-8",n),children:t.map((o,s)=>{const i=s<e?"completed":s===e?"active":"pending";return m.jsxs("div",{className:"flex flex-row w-full items-center relative",children:[m.jsxs("div",{className:U("flex flex-row items-center z-10",r==="default"?"gap-4":"gap-2"),children:[r==="default"&&m.jsx("div",{className:U("flex h-8 w-8 items-center justify-center rounded-full transition-all duration-200",ep(i)),children:m.jsx(xe,{icon:Qf(i,o.icon),className:"h-5 w-5"})}),m.jsxs("div",{className:"flex flex-col items-start",children:[m.jsx("span",{className:U("text-sm font-medium",i==="active"?"text-primary00":i==="completed"?"text-neutral-900":"text-neutral"),children:o.label}),o.description&&m.jsx("span",{className:"text-xs text-neutral",children:o.description})]})]}),s<t.length-1&&m.jsx("div",{className:U("absolute transition-all duration-200",r==="default"?"left-4 w-[1px] top-10 bottom-[-24px]":"left-0 w-[1px] top-6 bottom-[-24px]",s<e?"bg-primary":"bg-neutral-200")})]},s)})}),yx=({orientation:t="horizontal",variant:e="default",...n})=>t==="vertical"?m.jsx(bx,{variant:e,...n}):m.jsx(gx,{variant:e,...n}),tp=v.forwardRef(({label:t,checked:e=!1,disabled:n=!1,onChange:r,size:o="md",...s},i)=>{const a=c=>{r&&r(c.target.checked)},l={sm:"w-8 h-4",md:"w-11 h-6",lg:"w-14 h-7"},d={sm:"w-3 h-3",md:"w-5 h-5",lg:"w-6 h-6"};return m.jsxs("label",{className:Ce("inline-flex items-center cursor-pointer",n&&"opacity-60 cursor-not-allowed"),children:[m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"checkbox",className:"sr-only",checked:e,disabled:n,onChange:a,ref:i,...s}),m.jsx("div",{className:Ce("block rounded-full transition-colors duration-200 ease-in-out",l[o],e?"bg-primary":"bg-gray-200 dark:bg-gray-700",n&&"cursor-not-allowed")}),m.jsx("div",{className:Ce("absolute rounded-full bg-white shadow-sm transition-transform duration-200 ease-in-out",d[o],e?o==="sm"?"translate-x-4":o==="md"?"translate-x-5":"translate-x-7":"translate-x-0.5","top-1/2 -translate-y-1/2")})]}),t&&m.jsx("span",{className:"ml-3 text-sm text-gray-700 dark:text-gray-300",children:t})]})});tp.displayName="Switch";const vx=({items:t,defaultActiveId:e,variant:n="default",size:r="md",className:o,tabListClassName:s,tabClassName:i,contentClassName:a,onChange:l})=>{var y,x;const[d,c]=v.useState(e||((y=t[0])==null?void 0:y.id)||""),u=v.useRef(null),[f,p]=v.useState({left:0,width:0});v.useEffect(()=>{var k;if(n==="active-underline"&&u.current){const E=u.current.getBoundingClientRect(),S=(k=u.current.parentElement)==null?void 0:k.getBoundingClientRect();S&&p({left:E.left-S.left,width:E.width})}},[n,t,d]),v.useEffect(()=>{if(n==="active-underline"){const k=()=>{var E;if(u.current){const S=u.current.getBoundingClientRect(),C=(E=u.current.parentElement)==null?void 0:E.getBoundingClientRect();C&&p({left:S.left-C.left,width:S.width})}};return window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)}},[n,t,d]);const h=v.useCallback(k=>{c(k),l==null||l(k)},[l]),b=()=>{switch(r){case"sm":return"text-sm px-3 py-1.5";case"lg":return"text-lg px-6 py-3";default:return"text-base px-4 py-2"}},g=(k,E)=>{const S=Ce("flex items-center space-x-2 transition-colors","font-medium",b(),E&&"opacity-50 cursor-not-allowed",!E&&"cursor-pointer");switch(n){case"pills":return Ce(S,"rounded-full",k?"bg-primary text-white":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700");case"underline":return Ce(S,"border-b-2",k?"border-primary text-primary":"border-transparent text-gray-600 dark:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600");case"active-underline":return Ce(S,"border-b-0",k?"text-primary":"text-gray-600 dark:text-gray-300 hover:text-primary");default:return Ce(S,"border-b-2",k?"border-primary text-primary":"border-transparent text-gray-600 dark:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600")}};return m.jsxs("div",{className:Ce("w-full",o),children:[m.jsxs("div",{className:Ce(n==="active-underline"?"relative":"","flex space-x-1",n==="pills"&&"space-x-2 border-b-0",n!=="active-underline"&&"border-b border-gray-200 dark:border-gray-700",s),children:[t.map(k=>{const E=k.id===d,S=!!k.disabled;return m.jsxs("button",{ref:n==="active-underline"&&E?u:void 0,onClick:()=>!S&&h(k.id),disabled:S,className:Ce(g(E,S),i),children:[k.icon&&m.jsx(xe,{icon:k.icon,className:"w-5 h-5 flex-shrink-0"}),m.jsx("span",{children:k.label})]},k.id)}),n==="active-underline"&&m.jsx("span",{className:"absolute bottom-0 h-0.5 bg-primary transition-all duration-300",style:{left:f.left,width:f.width}})]}),m.jsx("div",{className:Ce("mt-4",a),children:(x=t.find(k=>k.id===d))==null?void 0:x.content})]})},ao=({variant:t="p",children:e,className:n,as:r})=>{const o={h1:"text-4xl font-bold",h2:"text-3xl font-bold",h3:"text-2xl font-bold",h4:"text-xl font-bold",h5:"text-lg font-bold",h6:"text-base font-bold",p:"text-base",span:"text-base",label:"text-sm font-medium",heading3:"text-2xl font-bold",body1:"text-base",display1:"text-5xl font-bold",display2:"text-4xl font-bold",heading1:"text-4xl font-bold",heading2:"text-3xl font-bold",heading4:"text-xl font-bold",subtitle1:"text-lg font-medium",subtitle2:"text-base font-medium",body2:"text-sm",caption:"text-xs",value:"text-base font-medium"},i=r||(a=>{switch(a){case"display1":case"display2":case"heading1":case"heading2":case"heading3":case"heading4":return"h"+a.slice(-1);case"body1":case"body2":case"subtitle1":case"subtitle2":return"p";case"caption":case"value":return"span";default:return a}})(t);return m.jsx(i,{className:U("text-gray-900",o[t],n),children:e})},xx=ft("border bg-white px-3 py-2 ring-0 transition-colors placeholder:text-neutral placeholder:text-sm focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 resize-none",{variants:{variant:{default:"border-neutral-200 hover:border-primary-300 focus:border-primary-300 hover:bg-primary-50",error:"border-danger hover:border-danger-600 focus:border-danger-600 hover:bg-danger-50",success:"border-success hover:border-success-600 focus:border-success-600 hover:bg-success-50",ghost:"border-transparent bg-transparent hover:bg-primary-50 focus:bg-primary-50",underline:"border-0 border-b-2 border-neutral-200 rounded-none bg-transparent hover:border-primary-300 focus:border-primary-300 hover:bg-transparent focus:bg-transparent"},size:{sm:"min-h-[60px] px-2 py-1 text-sm",md:"min-h-[80px] px-3 py-2 text-base",lg:"min-h-[100px] px-4 py-3 text-lg"},rounded:{none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",xl:"rounded-xl","2xl":"rounded-2xl","3xl":"rounded-3xl",full:"rounded-full"},fullWidth:{true:"w-full",false:"w-fit"},resize:{none:"resize-none",vertical:"resize-y",horizontal:"resize-x",both:"resize"}},defaultVariants:{variant:"default",size:"md",rounded:"xl",fullWidth:!0,resize:"vertical"}}),np=v.forwardRef(({className:t,variant:e="default",size:n="md",rounded:r="xl",error:o=!1,errorText:s,helperText:i,label:a,required:l=!1,labelPlacement:d="top",fullWidth:c=!1,resize:u="vertical",showCharCount:f=!1,maxLength:p,minRows:h=3,maxRows:b=10,id:g,value:y,...x},k)=>{const E=g||v.useId(),S=`${E}-helper`,C=`${E}-error`,M=`${E}-char-count`,I=typeof y=="string"?y.length:0,D=p&&I>p,z=m.jsxs("div",{className:U("relative",!c&&"inline-block"),children:[m.jsx("textarea",{id:E,ref:k,rows:h,maxLength:p,className:U(xx({variant:o?"error":e,size:n,rounded:r,fullWidth:c,resize:u==="none"?"none":u}),t),"aria-describedby":U(o?C:i?S:void 0,f?M:void 0),"aria-invalid":o,"aria-required":l,style:{minHeight:`${h*1.5}em`,maxHeight:`${b*1.5}em`},value:y,...x}),f&&p&&m.jsx("div",{className:"absolute bottom-2 right-2 text-xs text-neutral-500 bg-white px-1 rounded",children:m.jsxs("span",{id:M,className:D?"text-danger":"",children:[I,"/",p]})})]}),$=m.jsxs(m.Fragment,{children:[o&&s&&m.jsx("p",{className:"mt-1 text-xs text-danger",id:C,children:s}),!o&&i&&m.jsx("p",{className:"mt-1 text-xs text-neutral",id:S,children:i}),f&&p&&!o&&!i&&m.jsxs("p",{className:"mt-1 text-xs text-neutral",id:M,children:[I," of ",p," characters"]})]});return d==="left"?m.jsx("div",{className:U(c?"w-full":"inline-block",t),children:m.jsxs("div",{className:"flex items-start gap-4",children:[a&&m.jsxs("label",{htmlFor:E,className:"block text-sm text-neutral-900 pt-2",children:[a,l&&m.jsx("span",{className:"text-danger ml-0.5",children:"*"})]}),m.jsxs("div",{className:U("flex-1",!c&&"inline-block"),children:[z,$]})]})}):m.jsxs("div",{className:U(c?"w-full":"inline-block",t),children:[a&&m.jsxs("label",{htmlFor:E,className:"mb-1.5 block text-sm text-neutral-900",children:[a,l&&m.jsx("span",{className:"text-danger ml-0.5",children:"*"})]}),z,$]})});np.displayName="Textarea";const Al="timepicker-dropdown-opened",$x=ft("border bg-white px-3 py-2 ring-0 transition-colors placeholder:text-neutral placeholder:text-sm focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",{variants:{variant:{default:"border-neutral-200 hover:border-primary-300 focus:border-primary-300 hover:bg-primary-50",error:"border-danger hover:border-danger-600 focus:border-danger-600 hover:bg-danger-50",success:"border-success hover:border-success-600 focus:border-success-600 hover:bg-success-50",ghost:"border-transparent bg-transparent hover:bg-primary-50 focus:bg-primary-50",underline:"border-0 border-b-2 border-neutral-200 rounded-none bg-transparent hover:border-primary-300 focus:border-primary-300 hover:bg-transparent focus:bg-transparent"},size:{sm:"h-8 px-2 py-1 text-sm",md:"h-10 px-3 py-2 text-base",lg:"h-12 px-4 py-3 text-lg"},rounded:{none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",xl:"rounded-xl","2xl":"rounded-2xl","3xl":"rounded-3xl",full:"rounded-full"},fullWidth:{true:"w-full",false:"w-fit"}},defaultVariants:{variant:"default",size:"md",rounded:"xl",fullWidth:!0}}),rp=v.forwardRef(({value:t,onChange:e,use24Hour:n=!1,variant:r="default",size:o="md",rounded:s="xl",disabled:i=!1,errorText:a,helperText:l,label:d,required:c=!1,labelPlacement:u="top",fullWidth:f=!1,className:p,placeholder:h="Select time",leftIcon:b,rightIcon:g,valueFormatter:y,closeOnSelect:x=!0,...k},E)=>{const[S,C]=v.useState(!1),[M,I]=v.useState(t||""),[D,z]=v.useState(0),[$,O]=v.useState(0),[T,A]=v.useState(!0),_=v.useRef(null),w=v.useRef(null),L=v.useRef(null),B=`timepicker-${v.useId().replace(/:/g,"")}`,F=()=>{if(!S||!w.current||!L.current)return;const H=w.current.getBoundingClientRect(),G=L.current,fe=Tn().innerHeight-H.bottom;G.style.top=`${H.bottom+4}px`,G.style.bottom="auto",G.style.left=`${H.left}px`,G.style.maxHeight=`${fe-8}px`,G.style.width=`${H.width}px`};v.useEffect(()=>{const H=Tn(),G=wt(),ce=()=>{S&&F()},fe=()=>{S&&F()},ge=Re=>{Re.detail.id!==B&&C(!1)},$e=Re=>{const Ne=Re.target;_.current&&L.current&&!_.current.contains(Ne)&&!L.current.contains(Ne)&&C(!1)};return S&&(F(),H.addEventListener("scroll",ce,!0),H.addEventListener("resize",fe)),G.addEventListener(Al,ge),G.addEventListener("mousedown",$e),()=>{H.removeEventListener("scroll",ce,!0),H.removeEventListener("resize",fe),G.removeEventListener(Al,ge),G.removeEventListener("mousedown",$e)}},[S,B]);const P=()=>{i||(S||wt().dispatchEvent(new CustomEvent(Al,{detail:{id:B}})),C(!S))};v.useEffect(()=>{if(t){I(t);const[H,G]=t.split(":").map(Number);n?z(H):(z(H%12||12),A(H<12)),O(G)}},[t,n]);const V=()=>{const G=`${(n||T?D:D+12).toString().padStart(2,"0")}:${$.toString().padStart(2,"0")}`;I(G),e==null||e(G),x&&C(!1)},Y=()=>n?Array.from({length:24},(H,G)=>G):Array.from({length:12},(H,G)=>G+1),X=()=>Array.from({length:60},(H,G)=>G),oe=y?y(M):M,W=wt();return"body"in W?m.jsxs("div",{ref:_,className:U("relative",f&&"w-full",p),children:[d&&m.jsxs("label",{className:U("block text-sm font-medium text-gray-700 mb-1",u==="left"&&"inline-block mr-2"),children:[d,c&&m.jsx("span",{className:"text-red ml-1",children:"*"})]}),m.jsxs("div",{ref:w,className:"relative",onClick:P,children:[b&&m.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-neutral flex items-center justify-center",children:m.jsx(xe,{icon:b,size:20})}),m.jsx("input",{ref:E,type:"text",value:oe,placeholder:h,readOnly:!0,className:U($x({variant:r,size:o,rounded:s,fullWidth:f}),b&&"pl-10",g&&"pr-10","text-left"),disabled:i,...k}),g&&m.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-neutral flex items-center justify-center",children:m.jsx(xe,{icon:g,size:20})})]}),S&&sn.createPortal(m.jsx("div",{ref:L,className:"fixed z-[9999] w-fit rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5",onClick:H=>H.stopPropagation(),children:m.jsxs("div",{className:"p-0",children:[m.jsxs(Sl,{variant:"ghost",className:U("flex mx-2 my-1 p-0",n?"justify-start gap-8":"justify-start gap-4"),children:[m.jsx("div",{className:"flex flex-col",children:m.jsx("div",{className:"overflow-y-auto [scrollbar-width:none] [-ms-overflow-style:none] hover:scrollbar-thumb-neutral-200 hover:scrollbar-track-transparent [&::-webkit-scrollbar]:hidden hover:[&::-webkit-scrollbar]:block hover:[&::-webkit-scrollbar]:w-1.5 hover:[&::-webkit-scrollbar-thumb]:rounded-full",style:{maxHeight:"200px"},children:m.jsx("div",{className:"flex flex-col gap-2",children:Y().map(H=>m.jsx(Ae,{variant:"ghost",onClick:()=>z(H),className:U(D===H&&"bg-primary text-white"),children:H.toString().padStart(2,"0")},H))})})}),m.jsx("div",{className:"flex flex-col",children:m.jsx("div",{className:"overflow-y-auto [scrollbar-width:none] [-ms-overflow-style:none] hover:scrollbar-thumb-neutral-200 hover:scrollbar-track-transparent [&::-webkit-scrollbar]:hidden hover:[&::-webkit-scrollbar]:block hover:[&::-webkit-scrollbar]:w-1.5 hover:[&::-webkit-scrollbar-thumb]:rounded-full",style:{maxHeight:"200px"},children:m.jsx("div",{className:"flex flex-col gap-2",children:X().map(H=>m.jsx(Ae,{variant:"ghost",onClick:()=>O(H),className:U($===H&&"bg-primary text-white"),children:H.toString().padStart(2,"0")},H))})})}),!n&&m.jsxs("div",{className:"flex flex-col gap-2",children:[m.jsx(Ae,{variant:"ghost",onClick:()=>A(!0),className:U(T&&"bg-primary text-white"),children:"AM"}),m.jsx(Ae,{variant:"ghost",onClick:()=>A(!1),className:U(!T&&"bg-primary text-white"),children:"PM"})]})]}),m.jsx("div",{className:"mb-2 mx-2",children:m.jsx(Ae,{variant:"primary",onClick:V,size:"sm",fullWidth:!0,children:"Select"})})]})}),W.body),a&&m.jsx("p",{className:"mt-1 text-sm text-danger-600",children:a}),l&&m.jsx("p",{className:"mt-1 text-sm text-gray",children:l})]}):null});rp.displayName="PrimitiveTimePicker";const op=v.forwardRef(({value:t,onChange:e,valueFormatter:n,closeOnSelect:r,...o},s)=>m.jsx(rp,{ref:s,value:t,onChange:e,valueFormatter:n,closeOnSelect:r,...o}));op.displayName="TimePicker";const sp=ft("relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{variants:{variant:{primary:"bg-neutral-200 data-[state=checked]:bg-primary focus-visible:ring-primary",success:"bg-neutral-200 data-[state=checked]:bg-success focus-visible:ring-success",warning:"bg-neutral-200 data-[state=checked]:bg-warning focus-visible:ring-warning",danger:"bg-neutral-200 data-[state=checked]:bg-danger focus-visible:ring-danger"},size:{sm:"h-4 w-7",md:"h-6 w-11",lg:"h-7 w-14"}},defaultVariants:{variant:"primary",size:"md"}}),wx=ft("pointer-events-none block rounded-full bg-white shadow-lg ring-0 transition-transform",{variants:{size:{sm:"h-3 w-3 data-[state=checked]:translate-x-3",md:"h-5 w-5 data-[state=checked]:translate-x-5",lg:"h-6 w-6 data-[state=checked]:translate-x-7"}},defaultVariants:{size:"md"}}),ip=v.forwardRef(({checked:t=!1,onCheckedChange:e,variant:n="primary",size:r="md",label:o,required:s=!1,helperText:i,errorText:a,error:l=!1,className:d,name:c,...u},f)=>{const p=v.useId(),h=`${p}-helper`,b=`${p}-error`,g=v.useRef(null),y=v.useRef(null),x=v.useRef(null);v.useImperativeHandle(f,()=>g.current||x.current,[]),v.useEffect(()=>{if(g.current){g.current.checked=t;const E=new Event("change",{bubbles:!0});g.current.dispatchEvent(E)}},[t]);const k=()=>{const E=!t;if(e==null||e(E),g.current){g.current.checked=E;const S=new Event("change",{bubbles:!0});g.current.dispatchEvent(S)}};return m.jsxs("div",{ref:x,className:"inline-flex flex-col gap-1.5",children:[m.jsx("input",{type:"checkbox",ref:g,name:c,checked:t,onChange:()=>{},className:"sr-only","aria-hidden":"true"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{type:"button",role:"switch","aria-checked":t,"data-state":t?"checked":"unchecked",onClick:k,ref:y,className:U(sp({variant:l?"danger":n,size:r}),d),"aria-describedby":l?b:i?h:void 0,"aria-invalid":l,"aria-required":s,...u,children:m.jsx("span",{"data-state":t?"checked":"unchecked",className:U(wx({size:r}),t?"translate-x-5":"translate-x-1")})}),o&&m.jsxs("label",{htmlFor:p,className:"text-sm text-neutral-900",children:[o,s&&m.jsx("span",{className:"text-danger ml-0.5",children:"*"})]})]}),l&&a&&m.jsx("p",{className:"text-xs text-danger",id:b,children:a}),!l&&i&&m.jsx("p",{className:"text-xs text-neutral",id:h,children:i})]})});ip.displayName="Toggle";function Pl(t={}){const{strict:e=!0,errorMessage:n="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:r}=t,o=$f.createContext(void 0);o.displayName=r;function s(){var i;const a=$f.useContext(o);if(!a&&e){const l=new Error(n);throw l.name="ContextError",(i=Error.captureStackTrace)==null||i.call(Error,l,s),l}return a}return[o.Provider,s,o]}function kx(t){return{UNSAFE_getDOMNode(){return t.current}}}function ap(t){const e=v.useRef(null);return v.useImperativeHandle(t,()=>e.current),e}process.env.NODE_ENV,process.env.NODE_ENV;function Sx(t){return typeof t=="function"}var mt=t=>t?"true":void 0;function lp(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=lp(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function kr(...t){for(var e=0,n,r,o="";e<t.length;)(n=t[e++])&&(r=lp(n))&&(o&&(o+=" "),o+=r);return o}function Ex(t){return`${t}-${Math.floor(Math.random()*1e6)}`}function Ol(t){if(!t||typeof t!="object")return"";try{return JSON.stringify(t)}catch{return""}}function Cx(t,e,n){return Math.min(Math.max(t,e),n)}var dp={};function Tx(t,e,...n){const o=`[Hero UI] : ${t}`;if(!(typeof console>"u")&&!dp[o]&&(dp[o]=!0,process.env.NODE_ENV!=="production"))return console.warn(o,n)}function cp(...t){return(...e)=>{for(let n of t)typeof n=="function"&&n(...e)}}var up=new Map;function Nx(t,e){if(t===e)return t;let n=up.get(t);if(n)return n.forEach(o=>o.current=e),e;let r=up.get(e);return r?(r.forEach(o=>o.current=t),t):e}function Wt(...t){let e={...t[0]};for(let n=1;n<t.length;n++){let r=t[n];for(let o in r){let s=e[o],i=r[o];typeof s=="function"&&typeof i=="function"&&o[0]==="o"&&o[1]==="n"&&o.charCodeAt(2)>=65&&o.charCodeAt(2)<=90?e[o]=cp(s,i):(o==="className"||o==="UNSAFE_className")&&typeof s=="string"&&typeof i=="string"?e[o]=kr(s,i):o==="id"&&s&&i?e.id=Nx(s,i):e[o]=i!==void 0?i:s}}return e}function Mx(...t){return t.length===1&&t[0]?t[0]:e=>{let n=!1;const r=t.map(o=>{const s=fp(o,e);return n||(n=typeof s=="function"),s});if(n)return()=>{r.forEach((o,s)=>{typeof o=="function"?o==null||o():fp(t[s],null)})}}}function fp(t,e){if(typeof t=="function")return()=>t(e);t!=null&&"current"in t&&(t.current=e)}function Ax(t,e){if(t!=null){if(Sx(t)){t(e);return}try{t.current=e}catch{throw new Error(`Cannot assign value '${e}' to ref '${t}'`)}}}function Px(...t){return e=>{t.forEach(n=>Ax(n,e))}}var Ox=(t,e)=>{var n;let r=[];const o=(n=v.Children.map(t,i=>v.isValidElement(i)&&i.type===e?(r.push(i),null):i))==null?void 0:n.filter(Boolean),s=r.length>=0?r:void 0;return[o,s]},Ix=new Set(["id","type","style","title","role","tabIndex","htmlFor","width","height","abbr","accept","acceptCharset","accessKey","action","allowFullScreen","allowTransparency","alt","async","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","challenge","charset","checked","cite","class","className","cols","colSpan","command","content","contentEditable","contextMenu","controls","coords","crossOrigin","data","dateTime","default","defer","dir","disabled","download","draggable","dropzone","encType","enterKeyHint","for","form","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","headers","hidden","high","href","hrefLang","httpEquiv","icon","inputMode","isMap","itemId","itemProp","itemRef","itemScope","itemType","kind","label","lang","list","loop","manifest","max","maxLength","media","mediaGroup","method","min","minLength","multiple","muted","name","noValidate","open","optimum","pattern","ping","placeholder","poster","preload","radioGroup","referrerPolicy","readOnly","rel","required","rows","rowSpan","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","slot","sortable","span","spellCheck","src","srcDoc","srcSet","start","step","target","translate","typeMustMatch","useMap","value","wmode","wrap"]),Lx=new Set(["onCopy","onCut","onPaste","onLoad","onError","onWheel","onScroll","onCompositionEnd","onCompositionStart","onCompositionUpdate","onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onSubmit","onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onPointerDown","onPointerEnter","onPointerLeave","onPointerUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionEnd"]),pp=/^(data-.*)$/,Dx=/^(aria-.*)$/,Xs=/^(on[A-Z].*)$/;function hp(t,e={}){let{labelable:n=!0,enabled:r=!0,propNames:o,omitPropNames:s,omitEventNames:i,omitDataProps:a,omitEventProps:l}=e,d={};if(!r)return t;for(const c in t)s!=null&&s.has(c)||i!=null&&i.has(c)&&Xs.test(c)||Xs.test(c)&&!Lx.has(c)||a&&pp.test(c)||l&&Xs.test(c)||(Object.prototype.hasOwnProperty.call(t,c)&&(Ix.has(c)||n&&Dx.test(c)||o!=null&&o.has(c)||pp.test(c))||Xs.test(c))&&(d[c]=t[c]);return d}var[BA,Zs]=Pl({name:"ProviderContext",strict:!1});const jx=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),Rx=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function _x(t){if(Intl.Locale){let n=new Intl.Locale(t).maximize(),r=typeof n.getTextInfo=="function"?n.getTextInfo():n.textInfo;if(r)return r.direction==="rtl";if(n.script)return jx.has(n.script)}let e=t.split("-")[0];return Rx.has(e)}const Qs={prefix:String(Math.round(Math.random()*1e10)),current:0},mp=v.createContext(Qs),Fx=v.createContext(!1);let zx=!!(typeof window<"u"&&window.document&&window.document.createElement),Il=new WeakMap;function Bx(t=!1){let e=v.useContext(mp),n=v.useRef(null);if(n.current===null&&!t){var r,o;let s=(o=v.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||o===void 0||(r=o.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(s){let i=Il.get(s);i==null?Il.set(s,{id:e.current,state:s.memoizedState}):s.memoizedState!==i.state&&(e.current=i.id,Il.delete(s))}n.current=++e.current}return n.current}function Hx(t){let e=v.useContext(mp);e===Qs&&!zx&&process.env.NODE_ENV!=="production"&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=Bx(!!t),r=e===Qs&&process.env.NODE_ENV==="test"?"react-aria":`react-aria${e.prefix}`;return t||`${r}-${n}`}function Vx(t){let e=v.useId(),[n]=v.useState(ei()),r=n||process.env.NODE_ENV==="test"?"react-aria":`react-aria${Qs.prefix}`;return t||`${r}-${e}`}const Wx=typeof v.useId=="function"?Vx:Hx;function Ux(){return!1}function Gx(){return!0}function Kx(t){return()=>{}}function ei(){return typeof v.useSyncExternalStore=="function"?v.useSyncExternalStore(Kx,Ux,Gx):v.useContext(Fx)}const qx=Symbol.for("react-aria.i18n.locale");function gp(){let t=typeof window<"u"&&window[qx]||typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([t])}catch{t="en-US"}return{locale:t,direction:_x(t)?"rtl":"ltr"}}let Ll=gp(),qo=new Set;function bp(){Ll=gp();for(let t of qo)t(Ll)}function Yx(){let t=ei(),[e,n]=v.useState(Ll);return v.useEffect(()=>(qo.size===0&&window.addEventListener("languagechange",bp),qo.add(n),()=>{qo.delete(n),qo.size===0&&window.removeEventListener("languagechange",bp)}),[]),t?{locale:"en-US",direction:"ltr"}:e}const Jx=v.createContext(null);function yp(){let t=Yx();return v.useContext(Jx)||t}const Xx=Symbol.for("react-aria.i18n.locale"),Zx=Symbol.for("react-aria.i18n.strings");let lo;class ti{getStringForLocale(e,n){let o=this.getStringsForLocale(n)[e];if(!o)throw new Error(`Could not find intl message ${e} in ${n} locale`);return o}getStringsForLocale(e){let n=this.strings[e];return n||(n=Qx(e,this.strings,this.defaultLocale),this.strings[e]=n),n}static getGlobalDictionaryForPackage(e){if(typeof window>"u")return null;let n=window[Xx];if(lo===void 0){let o=window[Zx];if(!o)return null;lo={};for(let s in o)lo[s]=new ti({[n]:o[s]},n)}let r=lo==null?void 0:lo[e];if(!r)throw new Error(`Strings for package "${e}" were not included by LocalizedStringProvider. Please add it to the list passed to createLocalizedStringDictionary.`);return r}constructor(e,n="en-US"){this.strings=Object.fromEntries(Object.entries(e).filter(([,r])=>r)),this.defaultLocale=n}}function Qx(t,e,n="en-US"){if(e[t])return e[t];let r=e$(t);if(e[r])return e[r];for(let o in e)if(o.startsWith(r+"-"))return e[o];return e[n]}function e$(t){return Intl.Locale?new Intl.Locale(t).language:t.split("-")[0]}const vp=new Map,xp=new Map;class t${format(e,n){let r=this.strings.getStringForLocale(e,this.locale);return typeof r=="function"?r(n,this):r}plural(e,n,r="cardinal"){let o=n["="+e];if(o)return typeof o=="function"?o():o;let s=this.locale+":"+r,i=vp.get(s);i||(i=new Intl.PluralRules(this.locale,{type:r}),vp.set(s,i));let a=i.select(e);return o=n[a]||n.other,typeof o=="function"?o():o}number(e){let n=xp.get(this.locale);return n||(n=new Intl.NumberFormat(this.locale),xp.set(this.locale,n)),n.format(e)}select(e,n){let r=e[n]||e.other;return typeof r=="function"?r():r}constructor(e,n){this.locale=e,this.strings=n}}const $p=new WeakMap;function n$(t){let e=$p.get(t);return e||(e=new ti(t),$p.set(t,e)),e}function r$(t,e){return e&&ti.getGlobalDictionaryForPackage(e)||n$(t)}function o$(t,e){let{locale:n}=yp(),r=r$(t,e);return v.useMemo(()=>new t$(n,r),[n,r])}function s$(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function i$(t,e,n){s$(t,e),e.set(t,n)}const nt=typeof document<"u"?v.useLayoutEffect:()=>{};var Dl;const a$=(Dl=v.useInsertionEffect)!==null&&Dl!==void 0?Dl:nt;function qt(t){const e=v.useRef(null);return a$(()=>{e.current=t},[t]),v.useCallback((...n)=>{const r=e.current;return r==null?void 0:r(...n)},[])}function l$(t){let[e,n]=v.useState(t),r=v.useRef(null),o=qt(()=>{if(!r.current)return;let i=r.current.next();if(i.done){r.current=null;return}e===i.value?o():n(i.value)});nt(()=>{r.current&&o()});let s=qt(i=>{r.current=i(e),o()});return[e,s]}let d$=!!(typeof window<"u"&&window.document&&window.document.createElement),co=new Map,Yo;typeof FinalizationRegistry<"u"&&(Yo=new FinalizationRegistry(t=>{co.delete(t)}));function ni(t){let[e,n]=v.useState(t),r=v.useRef(null),o=Wx(e),s=v.useRef(null);if(Yo&&Yo.register(s,o),d$){const i=co.get(o);i&&!i.includes(r)?i.push(r):co.set(o,[r])}return nt(()=>{let i=o;return()=>{Yo&&Yo.unregister(s),co.delete(i)}},[o]),v.useEffect(()=>{let i=r.current;return i&&n(i),()=>{i&&(r.current=null)}}),o}function c$(t,e){if(t===e)return t;let n=co.get(t);if(n)return n.forEach(o=>o.current=e),e;let r=co.get(e);return r?(r.forEach(o=>o.current=t),t):e}function u$(t=[]){let e=ni(),[n,r]=l$(e),o=v.useCallback(()=>{r(function*(){yield e,yield document.getElementById(e)?e:void 0})},[e,r]);return nt(o,[e,o,...t]),n}function ri(...t){return(...e)=>{for(let n of t)typeof n=="function"&&n(...e)}}const Le=t=>{var e;return(e=t==null?void 0:t.ownerDocument)!==null&&e!==void 0?e:document},Yt=t=>t&&"window"in t&&t.window===t?t:Le(t).defaultView||window;function f$(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&typeof t.nodeType=="number"}function p$(t){return f$(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t}let h$=!1;function oi(){return h$}function Ye(t,e){if(!oi())return e&&t?t.contains(e):!1;if(!t||!e)return!1;let n=e;for(;n!==null;){if(n===t)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:p$(n)?n=n.host:n=n.parentNode}return!1}const _t=(t=document)=>{var e;if(!oi())return t.activeElement;let n=t.activeElement;for(;n&&"shadowRoot"in n&&(!((e=n.shadowRoot)===null||e===void 0)&&e.activeElement);)n=n.shadowRoot.activeElement;return n};function Pe(t){return oi()&&t.target.shadowRoot&&t.composedPath?t.composedPath()[0]:t.target}class m${get currentNode(){return this._currentNode}set currentNode(e){if(!Ye(this.root,e))throw new Error("Cannot set currentNode to a node that is not contained by the root node.");const n=[];let r=e,o=e;for(this._currentNode=e;r&&r!==this.root;)if(r.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const i=r,a=this._doc.createTreeWalker(i,this.whatToShow,{acceptNode:this._acceptNode});n.push(a),a.currentNode=o,this._currentSetFor.add(a),r=o=i.host}else r=r.parentNode;const s=this._doc.createTreeWalker(this.root,this.whatToShow,{acceptNode:this._acceptNode});n.push(s),s.currentNode=o,this._currentSetFor.add(s),this._walkerStack=n}get doc(){return this._doc}firstChild(){let e=this.currentNode,n=this.nextNode();return Ye(e,n)?(n&&(this.currentNode=n),n):(this.currentNode=e,null)}lastChild(){let n=this._walkerStack[0].lastChild();return n&&(this.currentNode=n),n}nextNode(){const e=this._walkerStack[0].nextNode();if(e){if(e.shadowRoot){var n;let o;if(typeof this.filter=="function"?o=this.filter(e):!((n=this.filter)===null||n===void 0)&&n.acceptNode&&(o=this.filter.acceptNode(e)),o===NodeFilter.FILTER_ACCEPT)return this.currentNode=e,e;let s=this.nextNode();return s&&(this.currentNode=s),s}return e&&(this.currentNode=e),e}else if(this._walkerStack.length>1){this._walkerStack.shift();let r=this.nextNode();return r&&(this.currentNode=r),r}else return null}previousNode(){const e=this._walkerStack[0];if(e.currentNode===e.root){if(this._currentSetFor.has(e))if(this._currentSetFor.delete(e),this._walkerStack.length>1){this._walkerStack.shift();let o=this.previousNode();return o&&(this.currentNode=o),o}else return null;return null}const n=e.previousNode();if(n){if(n.shadowRoot){var r;let s;if(typeof this.filter=="function"?s=this.filter(n):!((r=this.filter)===null||r===void 0)&&r.acceptNode&&(s=this.filter.acceptNode(n)),s===NodeFilter.FILTER_ACCEPT)return n&&(this.currentNode=n),n;let i=this.lastChild();return i&&(this.currentNode=i),i}return n&&(this.currentNode=n),n}else if(this._walkerStack.length>1){this._walkerStack.shift();let o=this.previousNode();return o&&(this.currentNode=o),o}else return null}nextSibling(){return null}previousSibling(){return null}parentNode(){return null}constructor(e,n,r,o){this._walkerStack=[],this._currentSetFor=new Set,this._acceptNode=i=>{if(i.nodeType===Node.ELEMENT_NODE){const l=i.shadowRoot;if(l){const d=this._doc.createTreeWalker(l,this.whatToShow,{acceptNode:this._acceptNode});return this._walkerStack.unshift(d),NodeFilter.FILTER_ACCEPT}else{var a;if(typeof this.filter=="function")return this.filter(i);if(!((a=this.filter)===null||a===void 0)&&a.acceptNode)return this.filter.acceptNode(i);if(this.filter===null)return NodeFilter.FILTER_ACCEPT}}return NodeFilter.FILTER_SKIP},this._doc=e,this.root=n,this.filter=o??null,this.whatToShow=r??NodeFilter.SHOW_ALL,this._currentNode=n,this._walkerStack.unshift(e.createTreeWalker(n,r,this._acceptNode));const s=n.shadowRoot;if(s){const i=this._doc.createTreeWalker(s,this.whatToShow,{acceptNode:this._acceptNode});this._walkerStack.unshift(i)}}}function g$(t,e,n,r){return oi()?new m$(t,e,n,r):t.createTreeWalker(e,n,r)}function Nn(...t){let e={...t[0]};for(let n=1;n<t.length;n++){let r=t[n];for(let o in r){let s=e[o],i=r[o];typeof s=="function"&&typeof i=="function"&&o[0]==="o"&&o[1]==="n"&&o.charCodeAt(2)>=65&&o.charCodeAt(2)<=90?e[o]=ri(s,i):(o==="className"||o==="UNSAFE_className")&&typeof s=="string"&&typeof i=="string"?e[o]=Ce(s,i):o==="id"&&s&&i?e.id=c$(s,i):e[o]=i!==void 0?i:s}}return e}const b$=new Set(["id"]),y$=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),v$=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),x$=new Set(["dir","lang","hidden","inert","translate"]),wp=new Set(["onClick","onAuxClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut","onGotPointerCapture","onLostPointerCapture","onScroll","onWheel","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionCancel","onTransitionEnd","onTransitionRun","onTransitionStart"]),$$=/^(data-.*)$/;function jl(t,e={}){let{labelable:n,isLink:r,global:o,events:s=o,propNames:i}=e,a={};for(const l in t)Object.prototype.hasOwnProperty.call(t,l)&&(b$.has(l)||n&&y$.has(l)||r&&v$.has(l)||o&&x$.has(l)||s&&wp.has(l)||l.endsWith("Capture")&&wp.has(l.slice(0,-7))||i!=null&&i.has(l)||$$.test(l))&&(a[l]=t[l]);return a}function uo(t){if(w$())t.focus({preventScroll:!0});else{let e=k$(t);t.focus(),S$(e)}}let si=null;function w$(){if(si==null){si=!1;try{document.createElement("div").focus({get preventScroll(){return si=!0,!0}})}catch{}}return si}function k$(t){let e=t.parentNode,n=[],r=document.scrollingElement||document.documentElement;for(;e instanceof HTMLElement&&e!==r;)(e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&n.push({element:e,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),e=e.parentNode;return r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),n}function S$(t){for(let{element:e,scrollTop:n,scrollLeft:r}of t)e.scrollTop=n,e.scrollLeft=r}function ii(t){var e;if(typeof window>"u"||window.navigator==null)return!1;let n=(e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands;return Array.isArray(n)&&n.some(r=>t.test(r.brand))||t.test(window.navigator.userAgent)}function Rl(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function Mn(t){if(process.env.NODE_ENV==="test")return t;let e=null;return()=>(e==null&&(e=t()),e)}const fo=Mn(function(){return Rl(/^Mac/i)}),E$=Mn(function(){return Rl(/^iPhone/i)}),kp=Mn(function(){return Rl(/^iPad/i)||fo()&&navigator.maxTouchPoints>1}),ai=Mn(function(){return E$()||kp()});Mn(function(){return fo()||ai()});const Sp=Mn(function(){return ii(/AppleWebKit/i)&&!Ep()}),Ep=Mn(function(){return ii(/Chrome/i)}),_l=Mn(function(){return ii(/Android/i)}),C$=Mn(function(){return ii(/Firefox/i)});function Jo(t,e,n=!0){var r,o;let{metaKey:s,ctrlKey:i,altKey:a,shiftKey:l}=e;C$()&&(!((o=window.event)===null||o===void 0||(r=o.type)===null||r===void 0)&&r.startsWith("key"))&&t.target==="_blank"&&(fo()?s=!0:i=!0);let d=Sp()&&fo()&&!kp()&&process.env.NODE_ENV!=="test"?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:s,ctrlKey:i,altKey:a,shiftKey:l}):new MouseEvent("click",{metaKey:s,ctrlKey:i,altKey:a,shiftKey:l,bubbles:!0,cancelable:!0});Jo.isOpening=n,uo(t),t.dispatchEvent(d),Jo.isOpening=!1}Jo.isOpening=!1;let Jn=new Map,Fl=new Set;function Cp(){if(typeof window>"u")return;function t(r){return"propertyName"in r}let e=r=>{if(!t(r)||!r.target)return;let o=Jn.get(r.target);o||(o=new Set,Jn.set(r.target,o),r.target.addEventListener("transitioncancel",n,{once:!0})),o.add(r.propertyName)},n=r=>{if(!t(r)||!r.target)return;let o=Jn.get(r.target);if(o&&(o.delete(r.propertyName),o.size===0&&(r.target.removeEventListener("transitioncancel",n),Jn.delete(r.target)),Jn.size===0)){for(let s of Fl)s();Fl.clear()}};document.body.addEventListener("transitionrun",e),document.body.addEventListener("transitionend",n)}typeof document<"u"&&(document.readyState!=="loading"?Cp():document.addEventListener("DOMContentLoaded",Cp));function T$(){for(const[t]of Jn)"isConnected"in t&&!t.isConnected&&Jn.delete(t)}function Tp(t){requestAnimationFrame(()=>{T$(),Jn.size===0?t():Fl.add(t)})}function zl(){let t=v.useRef(new Map),e=v.useCallback((o,s,i,a)=>{let l=a!=null&&a.once?(...d)=>{t.current.delete(i),i(...d)}:i;t.current.set(i,{type:s,eventTarget:o,fn:l,options:a}),o.addEventListener(s,l,a)},[]),n=v.useCallback((o,s,i,a)=>{var l;let d=((l=t.current.get(i))===null||l===void 0?void 0:l.fn)||i;o.removeEventListener(s,d,a),t.current.delete(i)},[]),r=v.useCallback(()=>{t.current.forEach((o,s)=>{n(o.eventTarget,o.type,s,o.options)})},[n]);return v.useEffect(()=>r,[r]),{addGlobalListener:e,removeGlobalListener:n,removeAllGlobalListeners:r}}function N$(t,e){let{id:n,"aria-label":r,"aria-labelledby":o}=t;return n=ni(n),o&&r?o=[...new Set([n,...o.trim().split(/\s+/)])].join(" "):o&&(o=o.trim().split(/\s+/).join(" ")),!r&&!o&&e&&(r=e),{id:n,"aria-label":r,"aria-labelledby":o}}function M$(){return typeof window.ResizeObserver<"u"}function Np(t){const{ref:e,box:n,onResize:r}=t;v.useEffect(()=>{let o=e==null?void 0:e.current;if(o)if(M$()){const s=new window.ResizeObserver(i=>{i.length&&r()});return s.observe(o,{box:n}),()=>{o&&s.unobserve(o)}}else return window.addEventListener("resize",r,!1),()=>{window.removeEventListener("resize",r,!1)}},[r,e,n])}function Mp(t,e){nt(()=>{if(t&&t.ref&&e)return t.ref.current=e.current,()=>{t.ref&&(t.ref.current=null)}})}function Bl(t,e){if(!t)return!1;let n=window.getComputedStyle(t),r=/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY);return r&&e&&(r=t.scrollHeight!==t.clientHeight||t.scrollWidth!==t.clientWidth),r}function Ap(t,e){let n=t;for(Bl(n,e)&&(n=n.parentElement);n&&!Bl(n,e);)n=n.parentElement;return n||document.scrollingElement||document.documentElement}const A$=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Hl(t){return t instanceof HTMLInputElement&&!A$.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function Vl(t){return t.pointerType===""&&t.isTrusted?!0:_l()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function P$(t){return!_l()&&t.width===0&&t.height===0||t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"}const O$=typeof Element<"u"&&"checkVisibility"in Element.prototype;function I$(t){const e=Yt(t);if(!(t instanceof e.HTMLElement)&&!(t instanceof e.SVGElement))return!1;let{display:n,visibility:r}=t.style,o=n!=="none"&&r!=="hidden"&&r!=="collapse";if(o){const{getComputedStyle:s}=t.ownerDocument.defaultView;let{display:i,visibility:a}=s(t);o=i!=="none"&&a!=="hidden"&&a!=="collapse"}return o}function L$(t,e){return!t.hasAttribute("hidden")&&!t.hasAttribute("data-react-aria-prevent-focus")&&(t.nodeName==="DETAILS"&&e&&e.nodeName!=="SUMMARY"?t.hasAttribute("open"):!0)}function Wl(t,e){return O$?t.checkVisibility({visibilityProperty:!0})&&!t.closest("[data-react-aria-prevent-focus]"):t.nodeName!=="#comment"&&I$(t)&&L$(t,e)&&(!t.parentElement||Wl(t.parentElement,t))}const Ul=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable^="false"])',"permission"],D$=Ul.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";Ul.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const j$=Ul.join(':not([hidden]):not([tabindex="-1"]),');function Pp(t){return t.matches(D$)&&Wl(t)&&!Op(t)}function R$(t){return t.matches(j$)&&Wl(t)&&!Op(t)}function Op(t){let e=t;for(;e!=null;){if(e instanceof e.ownerDocument.defaultView.HTMLElement&&e.inert)return!0;e=e.parentElement}return!1}function _$(t,e,n){let[r,o]=v.useState(t||e),s=v.useRef(t!==void 0),i=t!==void 0;v.useEffect(()=>{let d=s.current;d!==i&&process.env.NODE_ENV!=="production"&&console.warn(`WARN: A component changed from ${d?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}.`),s.current=i},[i]);let a=i?t:r,l=v.useCallback((d,...c)=>{let u=(f,...p)=>{n&&(Object.is(a,f)||n(f,...p)),i||(a=f)};typeof d=="function"?(process.env.NODE_ENV!=="production"&&console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320"),o((p,...h)=>{let b=d(i?a:p,...h);return u(b,...c),i?p:b})):(i||o(d),u(d,...c))},[i,a,n]);return[a,l]}function Gl(t,e=-1/0,n=1/0){return Math.min(Math.max(t,e),n)}const gn={top:"top",bottom:"top",left:"left",right:"left"},li={top:"bottom",bottom:"top",left:"right",right:"left"},F$={top:"left",left:"top"},Kl={top:"height",left:"width"},Ip={width:"totalWidth",height:"totalHeight"},di={};let gt=typeof document<"u"?window.visualViewport:null;function Lp(t){let e=0,n=0,r=0,o=0,s=0,i=0,a={};var l;let d=((l=gt==null?void 0:gt.scale)!==null&&l!==void 0?l:1)>1;if(t.tagName==="BODY"){let h=document.documentElement;r=h.clientWidth,o=h.clientHeight;var c;e=(c=gt==null?void 0:gt.width)!==null&&c!==void 0?c:r;var u;n=(u=gt==null?void 0:gt.height)!==null&&u!==void 0?u:o,a.top=h.scrollTop||t.scrollTop,a.left=h.scrollLeft||t.scrollLeft,gt&&(s=gt.offsetTop,i=gt.offsetLeft)}else({width:e,height:n,top:s,left:i}=po(t,!1)),a.top=t.scrollTop,a.left=t.scrollLeft,r=e,o=n;if(Sp()&&(t.tagName==="BODY"||t.tagName==="HTML")&&d){a.top=0,a.left=0;var f;s=(f=gt==null?void 0:gt.pageTop)!==null&&f!==void 0?f:0;var p;i=(p=gt==null?void 0:gt.pageLeft)!==null&&p!==void 0?p:0}return{width:e,height:n,totalWidth:r,totalHeight:o,scroll:a,top:s,left:i}}function z$(t){return{top:t.scrollTop,left:t.scrollLeft,width:t.scrollWidth,height:t.scrollHeight}}function Dp(t,e,n,r,o,s,i){var a;let l=(a=o.scroll[t])!==null&&a!==void 0?a:0,d=r[Kl[t]],c=r.scroll[gn[t]]+s,u=d+r.scroll[gn[t]]-s,f=e-l+i[t]-r[gn[t]],p=e-l+n+i[t]-r[gn[t]];return f<c?c-f:p>u?Math.max(u-p,c-f):0}function B$(t){let e=window.getComputedStyle(t);return{top:parseInt(e.marginTop,10)||0,bottom:parseInt(e.marginBottom,10)||0,left:parseInt(e.marginLeft,10)||0,right:parseInt(e.marginRight,10)||0}}function jp(t){if(di[t])return di[t];let[e,n]=t.split(" "),r=gn[e]||"right",o=F$[r];gn[n]||(n="center");let s=Kl[r],i=Kl[o];return di[t]={placement:e,crossPlacement:n,axis:r,crossAxis:o,size:s,crossSize:i},di[t]}function ql(t,e,n,r,o,s,i,a,l,d){let{placement:c,crossPlacement:u,axis:f,crossAxis:p,size:h,crossSize:b}=r,g={};var y;g[p]=(y=t[p])!==null&&y!==void 0?y:0;var x,k,E,S;u==="center"?g[p]+=(((x=t[b])!==null&&x!==void 0?x:0)-((k=n[b])!==null&&k!==void 0?k:0))/2:u!==p&&(g[p]+=((E=t[b])!==null&&E!==void 0?E:0)-((S=n[b])!==null&&S!==void 0?S:0)),g[p]+=s;const C=t[p]-n[b]+l+d,M=t[p]+t[b]-l-d;if(g[p]=Gl(g[p],C,M),c===f){const I=a?i[h]:e[Ip[h]];g[li[f]]=Math.floor(I-t[f]+o)}else g[f]=Math.floor(t[f]+t[h]+o);return g}function H$(t,e,n,r,o,s,i,a){const l=r?n.height:e[Ip.height];var d;let c=t.top!=null?n.top+t.top:n.top+(l-((d=t.bottom)!==null&&d!==void 0?d:0)-i);var u,f,p,h,b,g;let y=a!=="top"?Math.max(0,e.height+e.top+((u=e.scroll.top)!==null&&u!==void 0?u:0)-c-(((f=o.top)!==null&&f!==void 0?f:0)+((p=o.bottom)!==null&&p!==void 0?p:0)+s)):Math.max(0,c+i-(e.top+((h=e.scroll.top)!==null&&h!==void 0?h:0))-(((b=o.top)!==null&&b!==void 0?b:0)+((g=o.bottom)!==null&&g!==void 0?g:0)+s));return Math.min(e.height-s*2,y)}function Rp(t,e,n,r,o,s){let{placement:i,axis:a,size:l}=s;var d,c;if(i===a)return Math.max(0,n[a]-t[a]-((d=t.scroll[a])!==null&&d!==void 0?d:0)+e[a]-((c=r[a])!==null&&c!==void 0?c:0)-r[li[a]]-o);var u;return Math.max(0,t[l]+t[a]+t.scroll[a]-e[a]-n[a]-n[l]-((u=r[a])!==null&&u!==void 0?u:0)-r[li[a]]-o)}function V$(t,e,n,r,o,s,i,a,l,d,c,u,f,p,h,b){let g=jp(t),{size:y,crossAxis:x,crossSize:k,placement:E,crossPlacement:S}=g,C=ql(e,a,n,g,c,u,d,f,h,b),M=c,I=Rp(a,d,e,o,s+c,g);if(i&&r[y]>I){let H=jp(`${li[E]} ${S}`),G=ql(e,a,n,H,c,u,d,f,h,b);Rp(a,d,e,o,s+c,H)>I&&(g=H,C=G,M=c)}let D="bottom";g.axis==="top"?g.placement==="top"?D="top":g.placement==="bottom"&&(D="bottom"):g.crossAxis==="top"&&(g.crossPlacement==="top"?D="bottom":g.crossPlacement==="bottom"&&(D="top"));let z=Dp(x,C[x],n[k],a,l,s,d);C[x]+=z;let $=H$(C,a,d,f,o,s,n.height,D);p&&p<$&&($=p),n.height=Math.min(n.height,$),C=ql(e,a,n,g,M,u,d,f,h,b),z=Dp(x,C[x],n[k],a,l,s,d),C[x]+=z;let O={},T=e[x]-C[x]-o[gn[x]],A=T+.5*e[k];const _=h/2+b;var w,L,j,B;const F=gn[x]==="left"?((w=o.left)!==null&&w!==void 0?w:0)+((L=o.right)!==null&&L!==void 0?L:0):((j=o.top)!==null&&j!==void 0?j:0)+((B=o.bottom)!==null&&B!==void 0?B:0),P=n[k]-F-h/2-b,V=e[x]+h/2-(C[x]+o[gn[x]]),Y=e[x]+e[k]-h/2-(C[x]+o[gn[x]]),X=Gl(A,V,Y);O[x]=Gl(X,_,P),{placement:E,crossPlacement:S}=g,h?T=O[x]:S==="right"?T+=e[k]:S==="center"&&(T+=e[k]/2);let oe=E==="left"||E==="top"?n[y]:0,W={x:E==="top"||E==="bottom"?T:oe,y:E==="left"||E==="right"?T:oe};return{position:C,maxHeight:$,arrowOffsetLeft:O.left,arrowOffsetTop:O.top,placement:E,triggerAnchorPoint:W}}function W$(t){let{placement:e,targetNode:n,overlayNode:r,scrollNode:o,padding:s,shouldFlip:i,boundaryElement:a,offset:l,crossOffset:d,maxHeight:c,arrowSize:u=0,arrowBoundaryOffset:f=0}=t,p=r instanceof HTMLElement?U$(r):document.documentElement,h=p===document.documentElement;const b=window.getComputedStyle(p).position;let g=!!b&&b!=="static",y=h?po(n,!1):_p(n,p,!1);if(!h){let{marginTop:O,marginLeft:T}=window.getComputedStyle(n);y.top+=parseInt(O,10)||0,y.left+=parseInt(T,10)||0}let x=po(r,!0),k=B$(r);var E,S;x.width+=((E=k.left)!==null&&E!==void 0?E:0)+((S=k.right)!==null&&S!==void 0?S:0);var C,M;x.height+=((C=k.top)!==null&&C!==void 0?C:0)+((M=k.bottom)!==null&&M!==void 0?M:0);let I=z$(o),D=Lp(a),z=Lp(p),$=a.tagName==="BODY"?po(p,!1):_p(p,a,!1);return p.tagName==="HTML"&&a.tagName==="BODY"&&(z.scroll.top=0,z.scroll.left=0),V$(e,y,x,I,k,s,i,D,z,$,l,d,g,c,u,f)}function Yl(t,e){let{top:n,left:r,width:o,height:s}=t.getBoundingClientRect();return e&&t instanceof t.ownerDocument.defaultView.HTMLElement&&(o=t.offsetWidth,s=t.offsetHeight),{top:n,left:r,width:o,height:s}}function po(t,e){let{top:n,left:r,width:o,height:s}=Yl(t,e),{scrollTop:i,scrollLeft:a,clientTop:l,clientLeft:d}=document.documentElement;return{top:n+i-l,left:r+a-d,width:o,height:s}}function _p(t,e,n){let r=window.getComputedStyle(t),o;if(r.position==="fixed")o=Yl(t,n);else{o=po(t,n);let s=po(e,n),i=window.getComputedStyle(e);s.top+=(parseInt(i.borderTopWidth,10)||0)-e.scrollTop,s.left+=(parseInt(i.borderLeftWidth,10)||0)-e.scrollLeft,o.top-=s.top,o.left-=s.left}return o.top-=parseInt(r.marginTop,10)||0,o.left-=parseInt(r.marginLeft,10)||0,o}function U$(t){let e=t.offsetParent;if(e&&e===document.body&&window.getComputedStyle(e).position==="static"&&!Fp(e)&&(e=document.documentElement),e==null)for(e=t.parentElement;e&&!Fp(e);)e=e.parentElement;return e||document.documentElement}function Fp(t){let e=window.getComputedStyle(t);return e.transform!=="none"||/transform|perspective/.test(e.willChange)||e.filter!=="none"||e.contain==="paint"||"backdropFilter"in e&&e.backdropFilter!=="none"||"WebkitBackdropFilter"in e&&e.WebkitBackdropFilter!=="none"}const zp=new WeakMap;function G$(t){let{triggerRef:e,isOpen:n,onClose:r}=t;v.useEffect(()=>{if(!n||r===null)return;let o=s=>{let i=s.target;if(!e.current||i instanceof Node&&!i.contains(e.current)||s.target instanceof HTMLInputElement||s.target instanceof HTMLTextAreaElement)return;let a=r||zp.get(e.current);a&&a()};return window.addEventListener("scroll",o,!0),()=>{window.removeEventListener("scroll",o,!0)}},[n,r,e])}let rt=typeof document<"u"?window.visualViewport:null;function Bp(t){let{direction:e}=yp(),{arrowSize:n,targetRef:r,overlayRef:o,arrowRef:s,scrollRef:i=o,placement:a="bottom",containerPadding:l=12,shouldFlip:d=!0,boundaryElement:c=typeof document<"u"?document.body:null,offset:u=0,crossOffset:f=0,shouldUpdatePosition:p=!0,isOpen:h=!0,onClose:b,maxHeight:g,arrowBoundaryOffset:y=0}=t,[x,k]=v.useState(null),E=[p,a,o.current,r.current,s==null?void 0:s.current,i.current,l,d,c,u,f,h,e,g,y,n],S=v.useRef(rt==null?void 0:rt.scale);v.useEffect(()=>{h&&(S.current=rt==null?void 0:rt.scale)},[h]);let C=v.useCallback(()=>{if(p===!1||!h||!o.current||!r.current||!c||(rt==null?void 0:rt.scale)!==S.current)return;let O=null;if(i.current&&i.current.contains(document.activeElement)){var T;let F=(T=document.activeElement)===null||T===void 0?void 0:T.getBoundingClientRect(),P=i.current.getBoundingClientRect();var A;if(O={type:"top",offset:((A=F==null?void 0:F.top)!==null&&A!==void 0?A:0)-P.top},O.offset>P.height/2){O.type="bottom";var _;O.offset=((_=F==null?void 0:F.bottom)!==null&&_!==void 0?_:0)-P.bottom}}let w=o.current;if(!g&&o.current){var L;w.style.top="0px",w.style.bottom="";var j;w.style.maxHeight=((j=(L=window.visualViewport)===null||L===void 0?void 0:L.height)!==null&&j!==void 0?j:window.innerHeight)+"px"}let B=W$({placement:q$(a,e),overlayNode:o.current,targetNode:r.current,scrollNode:i.current||o.current,padding:l,shouldFlip:d,boundaryElement:c,offset:u,crossOffset:f,maxHeight:g,arrowSize:n??(s!=null&&s.current?Yl(s.current,!0).width:0),arrowBoundaryOffset:y});if(B.position){if(w.style.top="",w.style.bottom="",w.style.left="",w.style.right="",Object.keys(B.position).forEach(F=>w.style[F]=B.position[F]+"px"),w.style.maxHeight=B.maxHeight!=null?B.maxHeight+"px":"",O&&document.activeElement&&i.current){let F=document.activeElement.getBoundingClientRect(),P=i.current.getBoundingClientRect(),V=F[O.type]-P[O.type];i.current.scrollTop+=V-O.offset}k(B)}},E);nt(C,E),K$(C),Np({ref:o,onResize:C}),Np({ref:r,onResize:C});let M=v.useRef(!1);nt(()=>{let O,T=()=>{M.current=!0,clearTimeout(O),O=setTimeout(()=>{M.current=!1},500),C()},A=()=>{M.current&&T()};return rt==null||rt.addEventListener("resize",T),rt==null||rt.addEventListener("scroll",A),()=>{rt==null||rt.removeEventListener("resize",T),rt==null||rt.removeEventListener("scroll",A)}},[C]);let I=v.useCallback(()=>{M.current||b==null||b()},[b,M]);G$({triggerRef:r,isOpen:h,onClose:b&&I});var D,z,$;return{overlayProps:{style:{position:x?"absolute":"fixed",top:x?void 0:0,left:x?void 0:0,zIndex:1e5,...x==null?void 0:x.position,maxHeight:(D=x==null?void 0:x.maxHeight)!==null&&D!==void 0?D:"100vh"}},placement:(z=x==null?void 0:x.placement)!==null&&z!==void 0?z:null,triggerAnchorPoint:($=x==null?void 0:x.triggerAnchorPoint)!==null&&$!==void 0?$:null,arrowProps:{"aria-hidden":"true",role:"presentation",style:{left:x==null?void 0:x.arrowOffsetLeft,top:x==null?void 0:x.arrowOffsetTop}},updatePosition:C}}function K$(t){nt(()=>(window.addEventListener("resize",t,!1),()=>{window.removeEventListener("resize",t,!1)}),[t])}function q$(t,e){return e==="rtl"?t.replace("start","right").replace("end","left"):t.replace("start","left").replace("end","right")}function Jl(t){let e=t;return e.nativeEvent=t,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function Hp(t,e){Object.defineProperty(t,"target",{value:e}),Object.defineProperty(t,"currentTarget",{value:e})}function Vp(t){let e=v.useRef({isFocused:!1,observer:null});nt(()=>{const r=e.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=qt(r=>{t==null||t(r)});return v.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){e.current.isFocused=!0;let o=r.target,s=i=>{if(e.current.isFocused=!1,o.disabled){let a=Jl(i);n(a)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};o.addEventListener("focusout",s,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&o.disabled){var i;(i=e.current.observer)===null||i===void 0||i.disconnect();let a=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),e.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let ci=!1;function Wp(t){for(;t&&!Pp(t);)t=t.parentElement;let e=Yt(t),n=e.document.activeElement;if(!n||n===t)return;ci=!0;let r=!1,o=c=>{(c.target===n||r)&&c.stopImmediatePropagation()},s=c=>{(c.target===n||r)&&(c.stopImmediatePropagation(),!t&&!r&&(r=!0,uo(n),l()))},i=c=>{(c.target===t||r)&&c.stopImmediatePropagation()},a=c=>{(c.target===t||r)&&(c.stopImmediatePropagation(),r||(r=!0,uo(n),l()))};e.addEventListener("blur",o,!0),e.addEventListener("focusout",s,!0),e.addEventListener("focusin",a,!0),e.addEventListener("focus",i,!0);let l=()=>{cancelAnimationFrame(d),e.removeEventListener("blur",o,!0),e.removeEventListener("focusout",s,!0),e.removeEventListener("focusin",a,!0),e.removeEventListener("focus",i,!0),ci=!1,r=!1},d=requestAnimationFrame(l);return l}let ho="default",Xl="",ui=new WeakMap;function Up(t){if(ai()){if(ho==="default"){const e=Le(t);Xl=e.documentElement.style.webkitUserSelect,e.documentElement.style.webkitUserSelect="none"}ho="disabled"}else if(t instanceof HTMLElement||t instanceof SVGElement){let e="userSelect"in t.style?"userSelect":"webkitUserSelect";ui.set(t,t.style[e]),t.style[e]="none"}}function Zl(t){if(ai()){if(ho!=="disabled")return;ho="restoring",setTimeout(()=>{Tp(()=>{if(ho==="restoring"){const e=Le(t);e.documentElement.style.webkitUserSelect==="none"&&(e.documentElement.style.webkitUserSelect=Xl||""),Xl="",ho="default"}})},300)}else if((t instanceof HTMLElement||t instanceof SVGElement)&&t&&ui.has(t)){let e=ui.get(t),n="userSelect"in t.style?"userSelect":"webkitUserSelect";t.style[n]==="none"&&(t.style[n]=e),t.getAttribute("style")===""&&t.removeAttribute("style"),ui.delete(t)}}const Ql=v.createContext({register:()=>{}});Ql.displayName="PressResponderContext";function Y$(t,e){return e.get?e.get.call(t):e.value}function Gp(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function J$(t,e){var n=Gp(t,e,"get");return Y$(t,n)}function X$(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function Kp(t,e,n){var r=Gp(t,e,"set");return X$(t,r,n),n}function Z$(t){let e=v.useContext(Ql);if(e){let{register:n,...r}=e;t=Nn(r,t),n()}return Mp(e,t.ref),t}var fi=new WeakMap;class pi{continuePropagation(){Kp(this,fi,!1)}get shouldStopPropagation(){return J$(this,fi)}constructor(e,n,r,o){i$(this,fi,{writable:!0,value:void 0}),Kp(this,fi,!0);var s;let i=(s=o==null?void 0:o.target)!==null&&s!==void 0?s:r.currentTarget;const a=i==null?void 0:i.getBoundingClientRect();let l,d=0,c,u=null;r.clientX!=null&&r.clientY!=null&&(c=r.clientX,u=r.clientY),a&&(c!=null&&u!=null?(l=c-a.left,d=u-a.top):(l=a.width/2,d=a.height/2)),this.type=e,this.pointerType=n,this.target=r.currentTarget,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.x=l,this.y=d}}const qp=Symbol("linkClicked"),Yp="react-aria-pressable-style",Jp="data-react-aria-pressable";function Q$(t){let{onPress:e,onPressChange:n,onPressStart:r,onPressEnd:o,onPressUp:s,onClick:i,isDisabled:a,isPressed:l,preventFocusOnPress:d,shouldCancelOnPointerExit:c,allowTextSelectionOnPress:u,ref:f,...p}=Z$(t),[h,b]=v.useState(!1),g=v.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null,disposables:[]}),{addGlobalListener:y,removeAllGlobalListeners:x}=zl(),k=qt(($,O)=>{let T=g.current;if(a||T.didFirePressStart)return!1;let A=!0;if(T.isTriggeringEvent=!0,r){let _=new pi("pressstart",O,$);r(_),A=_.shouldStopPropagation}return n&&n(!0),T.isTriggeringEvent=!1,T.didFirePressStart=!0,b(!0),A}),E=qt(($,O,T=!0)=>{let A=g.current;if(!A.didFirePressStart)return!1;A.didFirePressStart=!1,A.isTriggeringEvent=!0;let _=!0;if(o){let w=new pi("pressend",O,$);o(w),_=w.shouldStopPropagation}if(n&&n(!1),b(!1),e&&T&&!a){let w=new pi("press",O,$);e(w),_&&(_=w.shouldStopPropagation)}return A.isTriggeringEvent=!1,_}),S=qt(($,O)=>{let T=g.current;if(a)return!1;if(s){T.isTriggeringEvent=!0;let A=new pi("pressup",O,$);return s(A),T.isTriggeringEvent=!1,A.shouldStopPropagation}return!0}),C=qt($=>{let O=g.current;if(O.isPressed&&O.target){O.didFirePressStart&&O.pointerType!=null&&E(Sr(O.target,$),O.pointerType,!1),O.isPressed=!1,O.isOverTarget=!1,O.activePointerId=null,O.pointerType=null,x(),u||Zl(O.target);for(let T of O.disposables)T();O.disposables=[]}}),M=qt($=>{c&&C($)}),I=qt($=>{a||i==null||i($)}),D=qt(($,O)=>{if(!a&&i){let T=new MouseEvent("click",$);Hp(T,O),i(Jl(T))}}),z=v.useMemo(()=>{let $=g.current,O={onKeyDown(A){if(td(A.nativeEvent,A.currentTarget)&&Ye(A.currentTarget,Pe(A.nativeEvent))){var _;Qp(Pe(A.nativeEvent),A.key)&&A.preventDefault();let w=!0;if(!$.isPressed&&!A.repeat){$.target=A.currentTarget,$.isPressed=!0,$.pointerType="keyboard",w=k(A,"keyboard");let L=A.currentTarget,j=B=>{td(B,L)&&!B.repeat&&Ye(L,Pe(B))&&$.target&&S(Sr($.target,B),"keyboard")};y(Le(A.currentTarget),"keyup",ri(j,T),!0)}w&&A.stopPropagation(),A.metaKey&&fo()&&((_=$.metaKeyEvents)===null||_===void 0||_.set(A.key,A.nativeEvent))}else A.key==="Meta"&&($.metaKeyEvents=new Map)},onClick(A){if(!(A&&!Ye(A.currentTarget,Pe(A.nativeEvent)))&&A&&A.button===0&&!$.isTriggeringEvent&&!Jo.isOpening){let _=!0;if(a&&A.preventDefault(),!$.ignoreEmulatedMouseEvents&&!$.isPressed&&($.pointerType==="virtual"||Vl(A.nativeEvent))){let w=k(A,"virtual"),L=S(A,"virtual"),j=E(A,"virtual");I(A),_=w&&L&&j}else if($.isPressed&&$.pointerType!=="keyboard"){let w=$.pointerType||A.nativeEvent.pointerType||"virtual",L=S(Sr(A.currentTarget,A),w),j=E(Sr(A.currentTarget,A),w,!0);_=L&&j,$.isOverTarget=!1,I(A),C(A)}$.ignoreEmulatedMouseEvents=!1,_&&A.stopPropagation()}}},T=A=>{var _;if($.isPressed&&$.target&&td(A,$.target)){var w;Qp(Pe(A),A.key)&&A.preventDefault();let j=Pe(A),B=Ye($.target,Pe(A));E(Sr($.target,A),"keyboard",B),B&&D(A,$.target),x(),A.key!=="Enter"&&ed($.target)&&Ye($.target,j)&&!A[qp]&&(A[qp]=!0,Jo($.target,A,!1)),$.isPressed=!1,(w=$.metaKeyEvents)===null||w===void 0||w.delete(A.key)}else if(A.key==="Meta"&&(!((_=$.metaKeyEvents)===null||_===void 0)&&_.size)){var L;let j=$.metaKeyEvents;$.metaKeyEvents=void 0;for(let B of j.values())(L=$.target)===null||L===void 0||L.dispatchEvent(new KeyboardEvent("keyup",B))}};if(typeof PointerEvent<"u"){O.onPointerDown=w=>{if(w.button!==0||!Ye(w.currentTarget,Pe(w.nativeEvent)))return;if(P$(w.nativeEvent)){$.pointerType="virtual";return}$.pointerType=w.pointerType;let L=!0;if(!$.isPressed){$.isPressed=!0,$.isOverTarget=!0,$.activePointerId=w.pointerId,$.target=w.currentTarget,u||Up($.target),L=k(w,$.pointerType);let j=Pe(w.nativeEvent);"releasePointerCapture"in j&&j.releasePointerCapture(w.pointerId),y(Le(w.currentTarget),"pointerup",A,!1),y(Le(w.currentTarget),"pointercancel",_,!1)}L&&w.stopPropagation()},O.onMouseDown=w=>{if(Ye(w.currentTarget,Pe(w.nativeEvent))&&w.button===0){if(d){let L=Wp(w.target);L&&$.disposables.push(L)}w.stopPropagation()}},O.onPointerUp=w=>{!Ye(w.currentTarget,Pe(w.nativeEvent))||$.pointerType==="virtual"||w.button===0&&!$.isPressed&&S(w,$.pointerType||w.pointerType)},O.onPointerEnter=w=>{w.pointerId===$.activePointerId&&$.target&&!$.isOverTarget&&$.pointerType!=null&&($.isOverTarget=!0,k(Sr($.target,w),$.pointerType))},O.onPointerLeave=w=>{w.pointerId===$.activePointerId&&$.target&&$.isOverTarget&&$.pointerType!=null&&($.isOverTarget=!1,E(Sr($.target,w),$.pointerType,!1),M(w))};let A=w=>{if(w.pointerId===$.activePointerId&&$.isPressed&&w.button===0&&$.target){if(Ye($.target,Pe(w))&&$.pointerType!=null){let L=!1,j=setTimeout(()=>{$.isPressed&&$.target instanceof HTMLElement&&(L?C(w):(uo($.target),$.target.click()))},80);y(w.currentTarget,"click",()=>L=!0,!0),$.disposables.push(()=>clearTimeout(j))}else C(w);$.isOverTarget=!1}},_=w=>{C(w)};O.onDragStart=w=>{Ye(w.currentTarget,Pe(w.nativeEvent))&&C(w)}}else if(process.env.NODE_ENV==="test"){O.onMouseDown=w=>{if(w.button!==0||!Ye(w.currentTarget,Pe(w.nativeEvent)))return;if($.ignoreEmulatedMouseEvents){w.stopPropagation();return}if($.isPressed=!0,$.isOverTarget=!0,$.target=w.currentTarget,$.pointerType=Vl(w.nativeEvent)?"virtual":"mouse",sn.flushSync(()=>k(w,$.pointerType))&&w.stopPropagation(),d){let j=Wp(w.target);j&&$.disposables.push(j)}y(Le(w.currentTarget),"mouseup",A,!1)},O.onMouseEnter=w=>{if(!Ye(w.currentTarget,Pe(w.nativeEvent)))return;let L=!0;$.isPressed&&!$.ignoreEmulatedMouseEvents&&$.pointerType!=null&&($.isOverTarget=!0,L=k(w,$.pointerType)),L&&w.stopPropagation()},O.onMouseLeave=w=>{if(!Ye(w.currentTarget,Pe(w.nativeEvent)))return;let L=!0;$.isPressed&&!$.ignoreEmulatedMouseEvents&&$.pointerType!=null&&($.isOverTarget=!1,L=E(w,$.pointerType,!1),M(w)),L&&w.stopPropagation()},O.onMouseUp=w=>{Ye(w.currentTarget,Pe(w.nativeEvent))&&!$.ignoreEmulatedMouseEvents&&w.button===0&&!$.isPressed&&S(w,$.pointerType||"mouse")};let A=w=>{if(w.button===0){if($.ignoreEmulatedMouseEvents){$.ignoreEmulatedMouseEvents=!1;return}$.target&&$.target.contains(w.target)&&$.pointerType!=null||C(w),$.isOverTarget=!1}};O.onTouchStart=w=>{if(!Ye(w.currentTarget,Pe(w.nativeEvent)))return;let L=e3(w.nativeEvent);if(!L)return;$.activePointerId=L.identifier,$.ignoreEmulatedMouseEvents=!0,$.isOverTarget=!0,$.isPressed=!0,$.target=w.currentTarget,$.pointerType="touch",u||Up($.target),k(Xn($.target,w),$.pointerType)&&w.stopPropagation(),y(Yt(w.currentTarget),"scroll",_,!0)},O.onTouchMove=w=>{if(!Ye(w.currentTarget,Pe(w.nativeEvent)))return;if(!$.isPressed){w.stopPropagation();return}let L=Xp(w.nativeEvent,$.activePointerId),j=!0;L&&Zp(L,w.currentTarget)?!$.isOverTarget&&$.pointerType!=null&&($.isOverTarget=!0,j=k(Xn($.target,w),$.pointerType)):$.isOverTarget&&$.pointerType!=null&&($.isOverTarget=!1,j=E(Xn($.target,w),$.pointerType,!1),M(Xn($.target,w))),j&&w.stopPropagation()},O.onTouchEnd=w=>{if(!Ye(w.currentTarget,Pe(w.nativeEvent)))return;if(!$.isPressed){w.stopPropagation();return}let L=Xp(w.nativeEvent,$.activePointerId),j=!0;L&&Zp(L,w.currentTarget)&&$.pointerType!=null?(S(Xn($.target,w),$.pointerType),j=E(Xn($.target,w),$.pointerType),D(w.nativeEvent,$.target)):$.isOverTarget&&$.pointerType!=null&&(j=E(Xn($.target,w),$.pointerType,!1)),j&&w.stopPropagation(),$.isPressed=!1,$.activePointerId=null,$.isOverTarget=!1,$.ignoreEmulatedMouseEvents=!0,$.target&&!u&&Zl($.target),x()},O.onTouchCancel=w=>{Ye(w.currentTarget,Pe(w.nativeEvent))&&(w.stopPropagation(),$.isPressed&&C(Xn($.target,w)))};let _=w=>{$.isPressed&&Ye(Pe(w),$.target)&&C({currentTarget:$.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};O.onDragStart=w=>{Ye(w.currentTarget,Pe(w.nativeEvent))&&C(w)}}return O},[y,a,d,x,u,C,M,E,k,S,I,D]);return v.useEffect(()=>{if(!f||process.env.NODE_ENV==="test")return;const $=Le(f.current);if(!$||!$.head||$.getElementById(Yp))return;const O=$.createElement("style");O.id=Yp,O.textContent=`
@layer {
  [${Jp}] {
    touch-action: pan-x pan-y pinch-zoom;
  }
}
    `.trim(),$.head.prepend(O)},[f]),v.useEffect(()=>{let $=g.current;return()=>{var O;u||Zl((O=$.target)!==null&&O!==void 0?O:void 0);for(let T of $.disposables)T();$.disposables=[]}},[u]),{isPressed:l||h,pressProps:Nn(p,z,{[Jp]:!0})}}function ed(t){return t.tagName==="A"&&t.hasAttribute("href")}function td(t,e){const{key:n,code:r}=t,o=e,s=o.getAttribute("role");return(n==="Enter"||n===" "||n==="Spacebar"||r==="Space")&&!(o instanceof Yt(o).HTMLInputElement&&!eh(o,n)||o instanceof Yt(o).HTMLTextAreaElement||o.isContentEditable)&&!((s==="link"||!s&&ed(o))&&n!=="Enter")}function e3(t){const{targetTouches:e}=t;return e.length>0?e[0]:null}function Xp(t,e){const n=t.changedTouches;for(let r=0;r<n.length;r++){const o=n[r];if(o.identifier===e)return o}return null}function Xn(t,e){let n=0,r=0;return e.targetTouches&&e.targetTouches.length===1&&(n=e.targetTouches[0].clientX,r=e.targetTouches[0].clientY),{currentTarget:t,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey,altKey:e.altKey,clientX:n,clientY:r}}function Sr(t,e){let n=e.clientX,r=e.clientY;return{currentTarget:t,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey,altKey:e.altKey,clientX:n,clientY:r}}function t3(t){let e=0,n=0;return t.width!==void 0?e=t.width/2:t.radiusX!==void 0&&(e=t.radiusX),t.height!==void 0?n=t.height/2:t.radiusY!==void 0&&(n=t.radiusY),{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function n3(t,e){return!(t.left>e.right||e.left>t.right||t.top>e.bottom||e.top>t.bottom)}function Zp(t,e){let n=e.getBoundingClientRect(),r=t3(t);return n3(n,r)}function r3(t){return t instanceof HTMLInputElement?!1:t instanceof HTMLButtonElement?t.type!=="submit"&&t.type!=="reset":!ed(t)}function Qp(t,e){return t instanceof HTMLInputElement?!eh(t,e):r3(t)}const o3=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function eh(t,e){return t.type==="checkbox"||t.type==="radio"?e===" ":o3.has(t.type)}let mo=null,nd=new Set,Xo=new Map,Er=!1,rd=!1;const s3={Tab:!0,Escape:!0};function od(t,e){for(let n of nd)n(t,e)}function i3(t){return!(t.metaKey||!fo()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function hi(t){Er=!0,i3(t)&&(mo="keyboard",od("keyboard",t))}function Jt(t){mo="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(Er=!0,od("pointer",t))}function th(t){Vl(t)&&(Er=!0,mo="virtual")}function nh(t){t.target===window||t.target===document||ci||!t.isTrusted||(!Er&&!rd&&(mo="virtual",od("virtual",t)),Er=!1,rd=!1)}function rh(){ci||(Er=!1,rd=!0)}function sd(t){if(typeof window>"u"||typeof document>"u"||Xo.get(Yt(t)))return;const e=Yt(t),n=Le(t);let r=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){Er=!0,r.apply(this,arguments)},n.addEventListener("keydown",hi,!0),n.addEventListener("keyup",hi,!0),n.addEventListener("click",th,!0),e.addEventListener("focus",nh,!0),e.addEventListener("blur",rh,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",Jt,!0),n.addEventListener("pointermove",Jt,!0),n.addEventListener("pointerup",Jt,!0)):process.env.NODE_ENV==="test"&&(n.addEventListener("mousedown",Jt,!0),n.addEventListener("mousemove",Jt,!0),n.addEventListener("mouseup",Jt,!0)),e.addEventListener("beforeunload",()=>{oh(t)},{once:!0}),Xo.set(e,{focus:r})}const oh=(t,e)=>{const n=Yt(t),r=Le(t);e&&r.removeEventListener("DOMContentLoaded",e),Xo.has(n)&&(n.HTMLElement.prototype.focus=Xo.get(n).focus,r.removeEventListener("keydown",hi,!0),r.removeEventListener("keyup",hi,!0),r.removeEventListener("click",th,!0),n.removeEventListener("focus",nh,!0),n.removeEventListener("blur",rh,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",Jt,!0),r.removeEventListener("pointermove",Jt,!0),r.removeEventListener("pointerup",Jt,!0)):process.env.NODE_ENV==="test"&&(r.removeEventListener("mousedown",Jt,!0),r.removeEventListener("mousemove",Jt,!0),r.removeEventListener("mouseup",Jt,!0)),Xo.delete(n))};function a3(t){const e=Le(t);let n;return e.readyState!=="loading"?sd(t):(n=()=>{sd(t)},e.addEventListener("DOMContentLoaded",n)),()=>oh(t,n)}typeof document<"u"&&a3();function id(){return mo!=="pointer"}function ad(){return mo}const l3=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function d3(t,e,n){let r=Le(n==null?void 0:n.target);const o=typeof window<"u"?Yt(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?Yt(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,i=typeof window<"u"?Yt(n==null?void 0:n.target).HTMLElement:HTMLElement,a=typeof window<"u"?Yt(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return t=t||r.activeElement instanceof o&&!l3.has(r.activeElement.type)||r.activeElement instanceof s||r.activeElement instanceof i&&r.activeElement.isContentEditable,!(t&&e==="keyboard"&&n instanceof a&&!s3[n.key])}function c3(t,e,n){sd(),v.useEffect(()=>{let r=(o,s)=>{d3(!!(n!=null&&n.isTextInput),o,s)&&t(id())};return nd.add(r),()=>{nd.delete(r)}},e)}function mi(t){const e=Le(t),n=_t(e);if(ad()==="virtual"){let r=n;Tp(()=>{_t(e)===r&&t.isConnected&&uo(t)})}else uo(t)}function sh(t){let{isDisabled:e,onFocus:n,onBlur:r,onFocusChange:o}=t;const s=v.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),o&&o(!1),!0},[r,o]),i=Vp(s),a=v.useCallback(l=>{const d=Le(l.target),c=d?_t(d):_t();l.target===l.currentTarget&&c===Pe(l.nativeEvent)&&(n&&n(l),o&&o(!0),i(l))},[o,n,i]);return{focusProps:{onFocus:!e&&(n||o||r)?a:void 0,onBlur:!e&&(r||o)?s:void 0}}}function ih(t){if(!t)return;let e=!0;return n=>{let r={...n,preventDefault(){n.preventDefault()},isDefaultPrevented(){return n.isDefaultPrevented()},stopPropagation(){e&&process.env.NODE_ENV!=="production"?console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior."):e=!0},continuePropagation(){e=!1},isPropagationStopped(){return e}};t(r),e&&n.stopPropagation()}}function u3(t){return{keyboardProps:t.isDisabled?{}:{onKeyDown:ih(t.onKeyDown),onKeyUp:ih(t.onKeyUp)}}}let f3=v.createContext(null);function p3(t){let e=v.useContext(f3)||{};Mp(e,t);let{ref:n,...r}=e;return r}function ah(t,e){let{focusProps:n}=sh(t),{keyboardProps:r}=u3(t),o=Nn(n,r),s=p3(e),i=t.isDisabled?{}:s,a=v.useRef(t.autoFocus);v.useEffect(()=>{a.current&&e.current&&mi(e.current),a.current=!1},[e]);let l=t.excludeFromTabOrder?-1:0;return t.isDisabled&&(l=void 0),{focusableProps:Nn({...o,tabIndex:l},i)}}function h3({children:t}){let e=v.useMemo(()=>({register:()=>{}}),[]);return v.createElement(Ql.Provider,{value:e},t)}function ld(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:o}=t,s=v.useRef({isFocusWithin:!1}),{addGlobalListener:i,removeAllGlobalListeners:a}=zl(),l=v.useCallback(u=>{u.currentTarget.contains(u.target)&&s.current.isFocusWithin&&!u.currentTarget.contains(u.relatedTarget)&&(s.current.isFocusWithin=!1,a(),n&&n(u),o&&o(!1))},[n,o,s,a]),d=Vp(l),c=v.useCallback(u=>{if(!u.currentTarget.contains(u.target))return;const f=Le(u.target),p=_t(f);if(!s.current.isFocusWithin&&p===Pe(u.nativeEvent)){r&&r(u),o&&o(!0),s.current.isFocusWithin=!0,d(u);let h=u.currentTarget;i(f,"focus",b=>{if(s.current.isFocusWithin&&!Ye(h,b.target)){let g=new f.defaultView.FocusEvent("blur",{relatedTarget:b.target});Hp(g,h);let y=Jl(g);l(y)}},{capture:!0})}},[r,o,d,i,l]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:c,onBlur:l}}}let gi=!1,bi=0;function dd(){gi=!0,setTimeout(()=>{gi=!1},50)}function lh(t){t.pointerType==="touch"&&dd()}function m3(){if(!(typeof document>"u"))return bi===0&&(typeof PointerEvent<"u"?document.addEventListener("pointerup",lh):process.env.NODE_ENV==="test"&&document.addEventListener("touchend",dd)),bi++,()=>{bi--,!(bi>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",lh):process.env.NODE_ENV==="test"&&document.removeEventListener("touchend",dd))}}function cd(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:r,isDisabled:o}=t,[s,i]=v.useState(!1),a=v.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;v.useEffect(m3,[]);let{addGlobalListener:l,removeAllGlobalListeners:d}=zl(),{hoverProps:c,triggerHoverEnd:u}=v.useMemo(()=>{let f=(b,g)=>{if(a.pointerType=g,o||g==="touch"||a.isHovered||!b.currentTarget.contains(b.target))return;a.isHovered=!0;let y=b.currentTarget;a.target=y,l(Le(b.target),"pointerover",x=>{a.isHovered&&a.target&&!Ye(a.target,x.target)&&p(x,x.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:y,pointerType:g}),n&&n(!0),i(!0)},p=(b,g)=>{let y=a.target;a.pointerType="",a.target=null,!(g==="touch"||!a.isHovered||!y)&&(a.isHovered=!1,d(),r&&r({type:"hoverend",target:y,pointerType:g}),n&&n(!1),i(!1))},h={};return typeof PointerEvent<"u"?(h.onPointerEnter=b=>{gi&&b.pointerType==="mouse"||f(b,b.pointerType)},h.onPointerLeave=b=>{!o&&b.currentTarget.contains(b.target)&&p(b,b.pointerType)}):process.env.NODE_ENV==="test"&&(h.onTouchStart=()=>{a.ignoreEmulatedMouseEvents=!0},h.onMouseEnter=b=>{!a.ignoreEmulatedMouseEvents&&!gi&&f(b,"mouse"),a.ignoreEmulatedMouseEvents=!1},h.onMouseLeave=b=>{!o&&b.currentTarget.contains(b.target)&&p(b,"mouse")}),{hoverProps:h,triggerHoverEnd:p}},[e,n,r,o,a,l,d]);return v.useEffect(()=>{o&&u({currentTarget:a.target},a.pointerType)},[o]),{hoverProps:c,isHovered:s}}function g3(t){let{ref:e,onInteractOutside:n,isDisabled:r,onInteractOutsideStart:o}=t,s=v.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),i=qt(l=>{n&&yi(l,e)&&(o&&o(l),s.current.isPointerDown=!0)}),a=qt(l=>{n&&n(l)});v.useEffect(()=>{let l=s.current;if(r)return;const d=e.current,c=Le(d);if(typeof PointerEvent<"u"){let u=f=>{l.isPointerDown&&yi(f,e)&&a(f),l.isPointerDown=!1};return c.addEventListener("pointerdown",i,!0),c.addEventListener("click",u,!0),()=>{c.removeEventListener("pointerdown",i,!0),c.removeEventListener("click",u,!0)}}else if(process.env.NODE_ENV==="test"){let u=p=>{l.ignoreEmulatedMouseEvents?l.ignoreEmulatedMouseEvents=!1:l.isPointerDown&&yi(p,e)&&a(p),l.isPointerDown=!1},f=p=>{l.ignoreEmulatedMouseEvents=!0,l.isPointerDown&&yi(p,e)&&a(p),l.isPointerDown=!1};return c.addEventListener("mousedown",i,!0),c.addEventListener("mouseup",u,!0),c.addEventListener("touchstart",i,!0),c.addEventListener("touchend",f,!0),()=>{c.removeEventListener("mousedown",i,!0),c.removeEventListener("mouseup",u,!0),c.removeEventListener("touchstart",i,!0),c.removeEventListener("touchend",f,!0)}}},[e,r,i,a])}function yi(t,e){if(t.button>0)return!1;if(t.target){const n=t.target.ownerDocument;if(!n||!n.documentElement.contains(t.target)||t.target.closest("[data-react-aria-top-layer]"))return!1}return e.current?!t.composedPath().includes(e.current):!1}const dh=v.createContext(null),ud="react-aria-focus-scope-restore";let Ve=null;function b3(t){let{children:e,contain:n,restoreFocus:r,autoFocus:o}=t,s=v.useRef(null),i=v.useRef(null),a=v.useRef([]),{parentNode:l}=v.useContext(dh)||{},d=v.useMemo(()=>new hd({scopeRef:a}),[a]);nt(()=>{let f=l||at.root;if(at.getTreeNode(f.scopeRef)&&Ve&&!vi(Ve,f.scopeRef)){let p=at.getTreeNode(Ve);p&&(f=p)}f.addChild(d),at.addNode(d)},[d,l]),nt(()=>{let f=at.getTreeNode(a);f&&(f.contain=!!n)},[n]),nt(()=>{var f;let p=(f=s.current)===null||f===void 0?void 0:f.nextSibling,h=[],b=g=>g.stopPropagation();for(;p&&p!==i.current;)h.push(p),p.addEventListener(ud,b),p=p.nextSibling;return a.current=h,()=>{for(let g of h)g.removeEventListener(ud,b)}},[e]),k3(a,r,n),x3(a,n),S3(a,r,n),w3(a,o),v.useEffect(()=>{const f=_t(Le(a.current?a.current[0]:void 0));let p=null;if(Xt(f,a.current)){for(let h of at.traverse())h.scopeRef&&Xt(f,h.scopeRef.current)&&(p=h);p===at.getTreeNode(a)&&(Ve=p.scopeRef)}},[a]),nt(()=>()=>{var f,p,h;let b=(h=(p=at.getTreeNode(a))===null||p===void 0||(f=p.parent)===null||f===void 0?void 0:f.scopeRef)!==null&&h!==void 0?h:null;(a===Ve||vi(a,Ve))&&(!b||at.getTreeNode(b))&&(Ve=b),at.removeTreeNode(a)},[a]);let c=v.useMemo(()=>y3(a),[]),u=v.useMemo(()=>({focusManager:c,parentNode:d}),[d,c]);return v.createElement(dh.Provider,{value:u},v.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:s}),e,v.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:i}))}function y3(t){return{focusNext(e={}){let n=t.current,{from:r,tabbable:o,wrap:s,accept:i}=e;var a;let l=r||_t(Le((a=n[0])!==null&&a!==void 0?a:void 0)),d=n[0].previousElementSibling,c=Cr(n),u=Qn(c,{tabbable:o,accept:i},n);u.currentNode=Xt(l,n)?l:d;let f=u.nextNode();return!f&&s&&(u.currentNode=d,f=u.nextNode()),f&&An(f,!0),f},focusPrevious(e={}){let n=t.current,{from:r,tabbable:o,wrap:s,accept:i}=e;var a;let l=r||_t(Le((a=n[0])!==null&&a!==void 0?a:void 0)),d=n[n.length-1].nextElementSibling,c=Cr(n),u=Qn(c,{tabbable:o,accept:i},n);u.currentNode=Xt(l,n)?l:d;let f=u.previousNode();return!f&&s&&(u.currentNode=d,f=u.previousNode()),f&&An(f,!0),f},focusFirst(e={}){let n=t.current,{tabbable:r,accept:o}=e,s=Cr(n),i=Qn(s,{tabbable:r,accept:o},n);i.currentNode=n[0].previousElementSibling;let a=i.nextNode();return a&&An(a,!0),a},focusLast(e={}){let n=t.current,{tabbable:r,accept:o}=e,s=Cr(n),i=Qn(s,{tabbable:r,accept:o},n);i.currentNode=n[n.length-1].nextElementSibling;let a=i.previousNode();return a&&An(a,!0),a}}}function Cr(t){return t[0].parentElement}function Zo(t){let e=at.getTreeNode(Ve);for(;e&&e.scopeRef!==t;){if(e.contain)return!1;e=e.parent}return!0}function v3(t){if(t.checked)return!0;let e=[];if(!t.form)e=[...Le(t).querySelectorAll(`input[type="radio"][name="${CSS.escape(t.name)}"]`)].filter(s=>!s.form);else{var n,r;let s=(r=t.form)===null||r===void 0||(n=r.elements)===null||n===void 0?void 0:n.namedItem(t.name);e=[...s??[]]}return e?!e.some(s=>s.checked):!1}function x3(t,e){let n=v.useRef(void 0),r=v.useRef(void 0);nt(()=>{let o=t.current;if(!e){r.current&&(cancelAnimationFrame(r.current),r.current=void 0);return}const s=Le(o?o[0]:void 0);let i=d=>{if(d.key!=="Tab"||d.altKey||d.ctrlKey||d.metaKey||!Zo(t)||d.isComposing)return;let c=_t(s),u=t.current;if(!u||!Xt(c,u))return;let f=Cr(u),p=Qn(f,{tabbable:!0},u);if(!c)return;p.currentNode=c;let h=d.shiftKey?p.previousNode():p.nextNode();h||(p.currentNode=d.shiftKey?u[u.length-1].nextElementSibling:u[0].previousElementSibling,h=d.shiftKey?p.previousNode():p.nextNode()),d.preventDefault(),h&&An(h,!0)},a=d=>{(!Ve||vi(Ve,t))&&Xt(Pe(d),t.current)?(Ve=t,n.current=Pe(d)):Zo(t)&&!Zn(Pe(d),t)?n.current?n.current.focus():Ve&&Ve.current&&fd(Ve.current):Zo(t)&&(n.current=Pe(d))},l=d=>{r.current&&cancelAnimationFrame(r.current),r.current=requestAnimationFrame(()=>{let c=ad(),u=(c==="virtual"||c===null)&&_l()&&Ep(),f=_t(s);if(!u&&f&&Zo(t)&&!Zn(f,t)){Ve=t;let h=Pe(d);if(h&&h.isConnected){var p;n.current=h,(p=n.current)===null||p===void 0||p.focus()}else Ve.current&&fd(Ve.current)}})};return s.addEventListener("keydown",i,!1),s.addEventListener("focusin",a,!1),o==null||o.forEach(d=>d.addEventListener("focusin",a,!1)),o==null||o.forEach(d=>d.addEventListener("focusout",l,!1)),()=>{s.removeEventListener("keydown",i,!1),s.removeEventListener("focusin",a,!1),o==null||o.forEach(d=>d.removeEventListener("focusin",a,!1)),o==null||o.forEach(d=>d.removeEventListener("focusout",l,!1))}},[t,e]),nt(()=>()=>{r.current&&cancelAnimationFrame(r.current)},[r])}function ch(t){return Zn(t)}function Xt(t,e){return!t||!e?!1:e.some(n=>n.contains(t))}function Zn(t,e=null){if(t instanceof Element&&t.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:n}of at.traverse(at.getTreeNode(e)))if(n&&Xt(t,n.current))return!0;return!1}function $3(t){return Zn(t,Ve)}function vi(t,e){var n;let r=(n=at.getTreeNode(e))===null||n===void 0?void 0:n.parent;for(;r;){if(r.scopeRef===t)return!0;r=r.parent}return!1}function An(t,e=!1){if(t!=null&&!e)try{mi(t)}catch{}else if(t!=null)try{t.focus()}catch{}}function uh(t,e=!0){let n=t[0].previousElementSibling,r=Cr(t),o=Qn(r,{tabbable:e},t);o.currentNode=n;let s=o.nextNode();return e&&!s&&(r=Cr(t),o=Qn(r,{tabbable:!1},t),o.currentNode=n,s=o.nextNode()),s}function fd(t,e=!0){An(uh(t,e))}function w3(t,e){const n=v.useRef(e);v.useEffect(()=>{if(n.current){Ve=t;const r=Le(t.current?t.current[0]:void 0);!Xt(_t(r),Ve.current)&&t.current&&fd(t.current)}n.current=!1},[t])}function k3(t,e,n){nt(()=>{if(e||n)return;let r=t.current;const o=Le(r?r[0]:void 0);let s=i=>{let a=Pe(i);Xt(a,t.current)?Ve=t:ch(a)||(Ve=null)};return o.addEventListener("focusin",s,!1),r==null||r.forEach(i=>i.addEventListener("focusin",s,!1)),()=>{o.removeEventListener("focusin",s,!1),r==null||r.forEach(i=>i.removeEventListener("focusin",s,!1))}},[t,e,n])}function fh(t){let e=at.getTreeNode(Ve);for(;e&&e.scopeRef!==t;){if(e.nodeToRestore)return!1;e=e.parent}return(e==null?void 0:e.scopeRef)===t}function S3(t,e,n){const r=v.useRef(typeof document<"u"?_t(Le(t.current?t.current[0]:void 0)):null);nt(()=>{let o=t.current;const s=Le(o?o[0]:void 0);if(!e||n)return;let i=()=>{(!Ve||vi(Ve,t))&&Xt(_t(s),t.current)&&(Ve=t)};return s.addEventListener("focusin",i,!1),o==null||o.forEach(a=>a.addEventListener("focusin",i,!1)),()=>{s.removeEventListener("focusin",i,!1),o==null||o.forEach(a=>a.removeEventListener("focusin",i,!1))}},[t,n]),nt(()=>{const o=Le(t.current?t.current[0]:void 0);if(!e)return;let s=i=>{if(i.key!=="Tab"||i.altKey||i.ctrlKey||i.metaKey||!Zo(t)||i.isComposing)return;let a=o.activeElement;if(!Zn(a,t)||!fh(t))return;let l=at.getTreeNode(t);if(!l)return;let d=l.nodeToRestore,c=Qn(o.body,{tabbable:!0});c.currentNode=a;let u=i.shiftKey?c.previousNode():c.nextNode();if((!d||!d.isConnected||d===o.body)&&(d=void 0,l.nodeToRestore=void 0),(!u||!Zn(u,t))&&d){c.currentNode=d;do u=i.shiftKey?c.previousNode():c.nextNode();while(Zn(u,t));i.preventDefault(),i.stopPropagation(),u?An(u,!0):ch(d)?An(d,!0):a.blur()}};return n||o.addEventListener("keydown",s,!0),()=>{n||o.removeEventListener("keydown",s,!0)}},[t,e,n]),nt(()=>{const o=Le(t.current?t.current[0]:void 0);if(!e)return;let s=at.getTreeNode(t);if(s){var i;return s.nodeToRestore=(i=r.current)!==null&&i!==void 0?i:void 0,()=>{let a=at.getTreeNode(t);if(!a)return;let l=a.nodeToRestore,d=_t(o);if(e&&l&&(d&&Zn(d,t)||d===o.body&&fh(t))){let c=at.clone();requestAnimationFrame(()=>{if(o.activeElement===o.body){let u=c.getTreeNode(t);for(;u;){if(u.nodeToRestore&&u.nodeToRestore.isConnected){ph(u.nodeToRestore);return}u=u.parent}for(u=c.getTreeNode(t);u;){if(u.scopeRef&&u.scopeRef.current&&at.getTreeNode(u.scopeRef)){let f=uh(u.scopeRef.current,!0);ph(f);return}u=u.parent}}})}}}},[t,e])}function ph(t){t.dispatchEvent(new CustomEvent(ud,{bubbles:!0,cancelable:!0}))&&An(t)}function Qn(t,e,n){let r=e!=null&&e.tabbable?R$:Pp,o=(t==null?void 0:t.nodeType)===Node.ELEMENT_NODE?t:null,s=Le(o),i=g$(s,t||s,NodeFilter.SHOW_ELEMENT,{acceptNode(a){var l;return!(e==null||(l=e.from)===null||l===void 0)&&l.contains(a)||e!=null&&e.tabbable&&a.tagName==="INPUT"&&a.getAttribute("type")==="radio"&&(!v3(a)||i.currentNode.tagName==="INPUT"&&i.currentNode.type==="radio"&&i.currentNode.name===a.name)?NodeFilter.FILTER_REJECT:r(a)&&(!n||Xt(a,n))&&(!(e!=null&&e.accept)||e.accept(a))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return e!=null&&e.from&&(i.currentNode=e.from),i}class pd{get size(){return this.fastMap.size}getTreeNode(e){return this.fastMap.get(e)}addTreeNode(e,n,r){let o=this.fastMap.get(n??null);if(!o)return;let s=new hd({scopeRef:e});o.addChild(s),s.parent=o,this.fastMap.set(e,s),r&&(s.nodeToRestore=r)}addNode(e){this.fastMap.set(e.scopeRef,e)}removeTreeNode(e){if(e===null)return;let n=this.fastMap.get(e);if(!n)return;let r=n.parent;for(let s of this.traverse())s!==n&&n.nodeToRestore&&s.nodeToRestore&&n.scopeRef&&n.scopeRef.current&&Xt(s.nodeToRestore,n.scopeRef.current)&&(s.nodeToRestore=n.nodeToRestore);let o=n.children;r&&(r.removeChild(n),o.size>0&&o.forEach(s=>r&&r.addChild(s))),this.fastMap.delete(n.scopeRef)}*traverse(e=this.root){if(e.scopeRef!=null&&(yield e),e.children.size>0)for(let n of e.children)yield*this.traverse(n)}clone(){var e;let n=new pd;var r;for(let o of this.traverse())n.addTreeNode(o.scopeRef,(r=(e=o.parent)===null||e===void 0?void 0:e.scopeRef)!==null&&r!==void 0?r:null,o.nodeToRestore);return n}constructor(){this.fastMap=new Map,this.root=new hd({scopeRef:null}),this.fastMap.set(null,this.root)}}class hd{addChild(e){this.children.add(e),e.parent=this}removeChild(e){this.children.delete(e),e.parent=void 0}constructor(e){this.children=new Set,this.contain=!1,this.scopeRef=e.scopeRef}}let at=new pd;function hh(t={}){let{autoFocus:e=!1,isTextInput:n,within:r}=t,o=v.useRef({isFocused:!1,isFocusVisible:e||id()}),[s,i]=v.useState(!1),[a,l]=v.useState(()=>o.current.isFocused&&o.current.isFocusVisible),d=v.useCallback(()=>l(o.current.isFocused&&o.current.isFocusVisible),[]),c=v.useCallback(p=>{o.current.isFocused=p,i(p),d()},[d]);c3(p=>{o.current.isFocusVisible=p,d()},[],{isTextInput:n});let{focusProps:u}=sh({isDisabled:r,onFocusChange:c}),{focusWithinProps:f}=ld({isDisabled:!r,onFocusWithinChange:c});return{isFocused:s,isFocusVisible:a,focusProps:r?f:u}}function E3(t,e,n){let{type:r}=t,{isOpen:o}=e;v.useEffect(()=>{n&&n.current&&zp.set(n.current,e.close)});let s;r==="menu"?s=!0:r==="listbox"&&(s="listbox");let i=ni();return{triggerProps:{"aria-haspopup":s,"aria-expanded":o,"aria-controls":o?i:void 0,onPress:e.toggle},overlayProps:{id:i}}}const Qo=typeof document<"u"&&window.visualViewport;let xi=0,md;function C3(t={}){let{isDisabled:e}=t;nt(()=>{if(!e)return xi++,xi===1&&(ai()?md=N3():md=T3()),()=>{xi--,xi===0&&md()}},[e])}function T3(){let t=window.innerWidth-document.documentElement.clientWidth;return ri(t>0&&("scrollbarGutter"in document.documentElement.style?gd(document.documentElement,"scrollbarGutter","stable"):gd(document.documentElement,"paddingRight",`${t}px`)),gd(document.documentElement,"overflow","hidden"))}function N3(){let t,e=!1,n=l=>{let d=l.target;t=Bl(d)?d:Ap(d,!0),e=!1;let c=d.ownerDocument.defaultView.getSelection();c&&!c.isCollapsed&&c.containsNode(d,!0)&&(e=!0),"selectionStart"in d&&"selectionEnd"in d&&d.selectionStart<d.selectionEnd&&d.ownerDocument.activeElement===d&&(e=!0)},r=document.createElement("style");r.textContent=`
@layer {
  * {
    overscroll-behavior: contain;
  }
}`.trim(),document.head.prepend(r);let o=l=>{if(!(l.touches.length===2||e)){if(!t||t===document.documentElement||t===document.body){l.preventDefault();return}t.scrollHeight===t.clientHeight&&t.scrollWidth===t.clientWidth&&l.preventDefault()}},s=l=>{let d=l.target,c=l.relatedTarget;if(c&&Hl(c))c.focus({preventScroll:!0}),mh(c,Hl(d));else if(!c){var u;let f=(u=d.parentElement)===null||u===void 0?void 0:u.closest("[tabindex]");f==null||f.focus({preventScroll:!0})}},i=HTMLElement.prototype.focus;HTMLElement.prototype.focus=function(l){let d=document.activeElement!=null&&Hl(document.activeElement);i.call(this,{...l,preventScroll:!0}),(!l||!l.preventScroll)&&mh(this,d)};let a=ri(bd(document,"touchstart",n,{passive:!1,capture:!0}),bd(document,"touchmove",o,{passive:!1,capture:!0}),bd(document,"blur",s,!0));return()=>{a(),r.remove(),HTMLElement.prototype.focus=i}}function gd(t,e,n){let r=t.style[e];return t.style[e]=n,()=>{t.style[e]=r}}function bd(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}function mh(t,e){e||!Qo?gh(t):Qo.addEventListener("resize",()=>gh(t),{once:!0})}function gh(t){let e=document.scrollingElement||document.documentElement,n=t;for(;n&&n!==e;){let r=Ap(n);if(r!==document.documentElement&&r!==document.body&&r!==n){let o=r.getBoundingClientRect(),s=n.getBoundingClientRect();if(s.top<o.top||s.bottom>o.top+n.clientHeight){let i=o.bottom;Qo&&(i=Math.min(i,Qo.offsetTop+Qo.height));let a=s.top-o.top-((i-o.top)/2-s.height/2);r.scrollTo({top:Math.max(0,Math.min(r.scrollHeight-r.clientHeight,r.scrollTop+a)),behavior:"smooth"})}}n=r.parentElement}}const M3=v.createContext({});function bh(){var t;return(t=v.useContext(M3))!==null&&t!==void 0?t:{}}const yd=v.createContext(null);function A3(t){let{children:e}=t,n=v.useContext(yd),[r,o]=v.useState(0),s=v.useMemo(()=>({parent:n,modalCount:r,addModal(){o(i=>i+1),n&&n.addModal()},removeModal(){o(i=>i-1),n&&n.removeModal()}}),[n,r]);return v.createElement(yd.Provider,{value:s},e)}function P3(){let t=v.useContext(yd);return{modalProviderProps:{"aria-hidden":t&&t.modalCount>0?!0:void 0}}}function O3(t){let{modalProviderProps:e}=P3();return v.createElement("div",{"data-overlay-container":!0,...t,...e})}function I3(t){return v.createElement(A3,null,v.createElement(O3,t))}function yh(t){let e=ei(),{portalContainer:n=e?null:document.body,...r}=t,{getContainer:o}=bh();if(!t.portalContainer&&o&&(n=o()),v.useEffect(()=>{if(n!=null&&n.closest("[data-overlay-container]"))throw new Error("An OverlayContainer must not be inside another container. Please change the portalContainer prop.")},[n]),!n)return null;let s=v.createElement(I3,r);return sn.createPortal(s,n)}var vh={};vh={dismiss:""};var xh={};xh={dismiss:""};var $h={};$h={dismiss:"Odstranit"};var wh={};wh={dismiss:"Luk"};var kh={};kh={dismiss:"Schlieen"};var Sh={};Sh={dismiss:""};var Eh={};Eh={dismiss:"Dismiss"};var Ch={};Ch={dismiss:"Descartar"};var Th={};Th={dismiss:"Lpeta"};var Nh={};Nh={dismiss:"Hylk"};var Mh={};Mh={dismiss:"Rejeter"};var Ah={};Ah={dismiss:""};var Ph={};Ph={dismiss:"Odbaci"};var Oh={};Oh={dismiss:"Elutasts"};var Ih={};Ih={dismiss:"Ignora"};var Lh={};Lh={dismiss:""};var Dh={};Dh={dismiss:""};var jh={};jh={dismiss:"Atmesti"};var Rh={};Rh={dismiss:"Nerdt"};var _h={};_h={dismiss:"Lukk"};var Fh={};Fh={dismiss:"Negeren"};var zh={};zh={dismiss:"Zignoruj"};var Bh={};Bh={dismiss:"Descartar"};var Hh={};Hh={dismiss:"Dispensar"};var Vh={};Vh={dismiss:"Revocare"};var Wh={};Wh={dismiss:""};var Uh={};Uh={dismiss:"Zrui"};var Gh={};Gh={dismiss:"Opusti"};var Kh={};Kh={dismiss:"Odbaci"};var qh={};qh={dismiss:"Avvisa"};var Yh={};Yh={dismiss:"Kapat"};var Jh={};Jh={dismiss:""};var Xh={};Xh={dismiss:""};var Zh={};Zh={dismiss:""};var Qh={};Qh={"ar-AE":vh,"bg-BG":xh,"cs-CZ":$h,"da-DK":wh,"de-DE":kh,"el-GR":Sh,"en-US":Eh,"es-ES":Ch,"et-EE":Th,"fi-FI":Nh,"fr-FR":Mh,"he-IL":Ah,"hr-HR":Ph,"hu-HU":Oh,"it-IT":Ih,"ja-JP":Lh,"ko-KR":Dh,"lt-LT":jh,"lv-LV":Rh,"nb-NO":_h,"nl-NL":Fh,"pl-PL":zh,"pt-BR":Bh,"pt-PT":Hh,"ro-RO":Vh,"ru-RU":Wh,"sk-SK":Uh,"sl-SI":Gh,"sr-SP":Kh,"sv-SE":qh,"tr-TR":Yh,"uk-UA":Jh,"zh-CN":Xh,"zh-TW":Zh};const em={border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"};function L3(t={}){let{style:e,isFocusable:n}=t,[r,o]=v.useState(!1),{focusWithinProps:s}=ld({isDisabled:!n,onFocusWithinChange:a=>o(a)}),i=v.useMemo(()=>r?e:e?{...em,...e}:em,[r]);return{visuallyHiddenProps:{...s,style:i}}}function D3(t){let{children:e,elementType:n="div",isFocusable:r,style:o,...s}=t,{visuallyHiddenProps:i}=L3(t);return v.createElement(n,Nn(s,i),e)}function j3(t){return t&&t.__esModule?t.default:t}function tm(t){let{onDismiss:e,...n}=t,r=o$(j3(Qh),"@react-aria/overlays"),o=N$(n,r.format("dismiss")),s=()=>{e&&e()};return v.createElement(D3,null,v.createElement("button",{...o,tabIndex:-1,onClick:s,style:{width:1,height:1}}))}const nm=v.createContext(null);function R3(t){let e=ei(),{portalContainer:n=e?null:document.body,isExiting:r}=t,[o,s]=v.useState(!1),i=v.useMemo(()=>({contain:o,setContain:s}),[o,s]),{getContainer:a}=bh();if(!t.portalContainer&&a&&(n=a()),!n)return null;let l=t.children;return t.disableFocusManagement||(l=v.createElement(b3,{restoreFocus:!0,contain:(t.shouldContainFocus||o)&&!r},l)),l=v.createElement(nm.Provider,{value:i},v.createElement(h3,null,l)),sn.createPortal(l,n)}function _3(){let t=v.useContext(nm),e=t==null?void 0:t.setContain;nt(()=>{e==null||e(!0)},[e])}function vd(t){return v.forwardRef(t)}var rm=(t,e,n=!0)=>{if(!e)return[t,{}];const r=e.reduce((o,s)=>s in t?{...o,[s]:t[s]}:o,{});return n?[Object.keys(t).filter(s=>!e.includes(s)).reduce((s,i)=>({...s,[i]:t[i]}),{}),r]:[t,r]},F3={default:"bg-default text-default-foreground",primary:"bg-primary text-primary-foreground",secondary:"bg-secondary text-secondary-foreground",success:"bg-success text-success-foreground",warning:"bg-warning text-warning-foreground",danger:"bg-danger text-danger-foreground",foreground:"bg-foreground text-background"},z3={default:"shadow-lg shadow-default/50 bg-default text-default-foreground",primary:"shadow-lg shadow-primary/40 bg-primary text-primary-foreground",secondary:"shadow-lg shadow-secondary/40 bg-secondary text-secondary-foreground",success:"shadow-lg shadow-success/40 bg-success text-success-foreground",warning:"shadow-lg shadow-warning/40 bg-warning text-warning-foreground",danger:"shadow-lg shadow-danger/40 bg-danger text-danger-foreground"},B3={default:"bg-transparent border-default text-foreground",primary:"bg-transparent border-primary text-primary",secondary:"bg-transparent border-secondary text-secondary",success:"bg-transparent border-success text-success",warning:"bg-transparent border-warning text-warning",danger:"bg-transparent border-danger text-danger"},H3={default:"bg-default/40 text-default-700",primary:"bg-primary/20 text-primary-600",secondary:"bg-secondary/20 text-secondary-600",success:"bg-success/20 text-success-700 dark:text-success",warning:"bg-warning/20 text-warning-700 dark:text-warning",danger:"bg-danger/20 text-danger-600 dark:text-danger-500"},V3={default:"border-default bg-default-100 text-default-foreground",primary:"border-default bg-default-100 text-primary",secondary:"border-default bg-default-100 text-secondary",success:"border-default bg-default-100 text-success",warning:"border-default bg-default-100 text-warning",danger:"border-default bg-default-100 text-danger"},W3={default:"bg-transparent text-default-foreground",primary:"bg-transparent text-primary",secondary:"bg-transparent text-secondary",success:"bg-transparent text-success",warning:"bg-transparent text-warning",danger:"bg-transparent text-danger"},U3={default:"border-default text-default-foreground",primary:"border-primary text-primary",secondary:"border-secondary text-secondary",success:"border-success text-success",warning:"border-warning text-warning",danger:"border-danger text-danger"},ye={solid:F3,shadow:z3,bordered:B3,flat:H3,faded:V3,light:W3,ghost:U3},G3={".spinner-bar-animation":{"animation-delay":"calc(-1.2s + (0.1s * var(--bar-index)))",transform:"rotate(calc(30deg * var(--bar-index)))translate(140%)"},".spinner-dot-animation":{"animation-delay":"calc(250ms * var(--dot-index))"},".spinner-dot-blink-animation":{"animation-delay":"calc(200ms * var(--dot-index))"}},K3={".leading-inherit":{"line-height":"inherit"},".bg-img-inherit":{"background-image":"inherit"},".bg-clip-inherit":{"background-clip":"inherit"},".text-fill-inherit":{"-webkit-text-fill-color":"inherit"},".tap-highlight-transparent":{"-webkit-tap-highlight-color":"transparent"},".input-search-cancel-button-none":{"&::-webkit-search-cancel-button":{"-webkit-appearance":"none"}}},q3={".scrollbar-hide":{"-ms-overflow-style":"none","scrollbar-width":"none","&::-webkit-scrollbar":{display:"none"}},".scrollbar-default":{"-ms-overflow-style":"auto","scrollbar-width":"auto","&::-webkit-scrollbar":{display:"block"}}},Y3={".text-tiny":{"font-size":"var(--heroui-font-size-tiny)","line-height":"var(--heroui-line-height-tiny)"},".text-small":{"font-size":"var(--heroui-font-size-small)","line-height":"var(--heroui-line-height-small)"},".text-medium":{"font-size":"var(--heroui-font-size-medium)","line-height":"var(--heroui-line-height-medium)"},".text-large":{"font-size":"var(--heroui-font-size-large)","line-height":"var(--heroui-line-height-large)"}},bn="250ms",J3={".transition-background":{"transition-property":"background","transition-timing-function":"ease","transition-duration":bn},".transition-colors-opacity":{"transition-property":"color, background-color, border-color, text-decoration-color, fill, stroke, opacity","transition-timing-function":"ease","transition-duration":bn},".transition-width":{"transition-property":"width","transition-timing-function":"ease","transition-duration":bn},".transition-height":{"transition-property":"height","transition-timing-function":"ease","transition-duration":bn},".transition-size":{"transition-property":"width, height","transition-timing-function":"ease","transition-duration":bn},".transition-left":{"transition-property":"left","transition-timing-function":"ease","transition-duration":bn},".transition-transform-opacity":{"transition-property":"transform, scale, opacity rotate","transition-timing-function":"ease","transition-duration":bn},".transition-transform-background":{"transition-property":"transform, scale, background","transition-timing-function":"ease","transition-duration":bn},".transition-transform-colors":{"transition-property":"transform, scale, color, background, background-color, border-color, text-decoration-color, fill, stroke","transition-timing-function":"ease","transition-duration":bn},".transition-transform-colors-opacity":{"transition-property":"transform, scale, color, background, background-color, border-color, text-decoration-color, fill, stroke, opacity","transition-timing-function":"ease","transition-duration":bn}},X3={...K3,...J3,...q3,...Y3,...G3},$i=["small","medium","large"],om={theme:{spacing:["divider"],radius:$i},classGroups:{shadow:[{shadow:$i}],opacity:[{opacity:["disabled"]}],"font-size":[{text:["tiny",...$i]}],"border-w":[{border:$i}],"bg-image":["bg-stripe-gradient-default","bg-stripe-gradient-primary","bg-stripe-gradient-secondary","bg-stripe-gradient-success","bg-stripe-gradient-warning","bg-stripe-gradient-danger"],transition:Object.keys(X3).filter(t=>t.includes(".transition")).map(t=>t.replace(".",""))}},Z3=/\s+/g,xd=t=>typeof t!="string"||!t?t:t.replace(Z3," ").trim(),wi=(...t)=>{let e=[],n=r=>{if(!r&&r!==0&&r!==0n)return;if(Array.isArray(r)){for(let s=0,i=r.length;s<i;s++)n(r[s]);return}let o=typeof r;if(o==="string"||o==="number"||o==="bigint"){if(o==="number"&&r!==r)return;e.push(String(r))}else if(o==="object"){let s=Object.keys(r);for(let i=0,a=s.length;i<a;i++){let l=s[i];r[l]&&e.push(l)}}};for(let r=0,o=t.length;r<o;r++){let s=t[r];s!=null&&n(s)}return e.length>0?xd(e.join(" ")):void 0},sm=t=>t===!1?"false":t===!0?"true":t===0?"0":t,Ft=t=>{if(!t||typeof t!="object")return!0;for(let e in t)return!1;return!0},Q3=(t,e)=>{if(t===e)return!0;if(!t||!e)return!1;let n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++){let s=n[o];if(!r.includes(s)||t[s]!==e[s])return!1}return!0},im=(t,e)=>{for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)){let r=e[n];n in t?t[n]=wi(t[n],r):t[n]=r}return t},am=(t,e)=>{for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?am(r,e):r&&e.push(r)}},lm=(...t)=>{let e=[];am(t,e);let n=[];for(let r=0;r<e.length;r++)e[r]&&n.push(e[r]);return n},$d=(t,e)=>{let n={};for(let r in t){let o=t[r];if(r in e){let s=e[r];Array.isArray(o)||Array.isArray(s)?n[r]=lm(s,o):typeof o=="object"&&typeof s=="object"&&o&&s?n[r]=$d(o,s):n[r]=s+" "+o}else n[r]=o}for(let r in e)r in t||(n[r]=e[r]);return n},ew={twMerge:!0,twMergeConfig:{},responsiveVariants:!1};function tw(){let t=null,e={},n=!1;return{get cachedTwMerge(){return t},set cachedTwMerge(r){t=r},get cachedTwMergeConfig(){return e},set cachedTwMergeConfig(r){e=r},get didTwMergeConfigChange(){return n},set didTwMergeConfigChange(r){n=r},reset(){t=null,e={},n=!1}}}var Pn=tw(),nw=t=>{let e=(n,r)=>{let{extend:o=null,slots:s={},variants:i={},compoundVariants:a=[],compoundSlots:l=[],defaultVariants:d={}}=n,c={...ew,...r},u=o!=null&&o.base?wi(o.base,n==null?void 0:n.base):n==null?void 0:n.base,f=o!=null&&o.variants&&!Ft(o.variants)?$d(i,o.variants):i,p=o!=null&&o.defaultVariants&&!Ft(o.defaultVariants)?{...o.defaultVariants,...d}:d;!Ft(c.twMergeConfig)&&!Q3(c.twMergeConfig,Pn.cachedTwMergeConfig)&&(Pn.didTwMergeConfigChange=!0,Pn.cachedTwMergeConfig=c.twMergeConfig);let h=Ft(o==null?void 0:o.slots),b=Ft(s)?{}:{base:wi(n==null?void 0:n.base,h&&(o==null?void 0:o.base)),...s},g=h?b:im({...o==null?void 0:o.slots},Ft(b)?{base:n==null?void 0:n.base}:b),y=Ft(o==null?void 0:o.compoundVariants)?a:lm(o==null?void 0:o.compoundVariants,a),x=E=>{if(Ft(f)&&Ft(s)&&h)return t(u,E==null?void 0:E.class,E==null?void 0:E.className)(c);if(y&&!Array.isArray(y))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof y}`);if(l&&!Array.isArray(l))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof l}`);let S=(A,_,w=[],L)=>{let j=w;if(typeof _=="string"){let B=xd(_).split(" ");for(let F=0;F<B.length;F++)j.push(`${A}:${B[F]}`)}else if(Array.isArray(_))for(let B=0;B<_.length;B++)j.push(`${A}:${_[B]}`);else if(typeof _=="object"&&typeof L=="string"&&L in _){let B=_[L];if(B&&typeof B=="string"){let F=xd(B).split(" "),P=[];for(let V=0;V<F.length;V++)P.push(`${A}:${F[V]}`);j[L]=j[L]?j[L].concat(P):P}else if(Array.isArray(B)&&B.length>0){let F=[];for(let P=0;P<B.length;P++)F.push(`${A}:${B[P]}`);j[L]=F}}return j},C=(A,_=f,w=null,L=null)=>{let j=_[A];if(!j||Ft(j))return null;let B=(L==null?void 0:L[A])??(E==null?void 0:E[A]);if(B===null)return null;let F=sm(B),P=Array.isArray(c.responsiveVariants)&&c.responsiveVariants.length>0||c.responsiveVariants===!0,V=p==null?void 0:p[A],Y=[];if(typeof F=="object"&&P)for(let[W,H]of Object.entries(F)){let G=j[H];if(W==="initial"){V=H;continue}Array.isArray(c.responsiveVariants)&&!c.responsiveVariants.includes(W)||(Y=S(W,G,Y,w))}let X=F!=null&&typeof F!="object"?F:sm(V),oe=j[X||"false"];return typeof Y=="object"&&typeof w=="string"&&Y[w]?im(Y,oe):Y.length>0?(Y.push(oe),w==="base"?Y.join(" "):Y):oe},M=()=>{if(!f)return null;let A=Object.keys(f),_=[];for(let w=0;w<A.length;w++){let L=C(A[w],f);L&&_.push(L)}return _},I=(A,_)=>{if(!f||typeof f!="object")return null;let w=[];for(let L in f){let j=C(L,f,A,_),B=A==="base"&&typeof j=="string"?j:j&&j[A];B&&w.push(B)}return w},D={};for(let A in E){let _=E[A];_!==void 0&&(D[A]=_)}let z=(A,_)=>{var L;let w=typeof(E==null?void 0:E[A])=="object"?{[A]:(L=E[A])==null?void 0:L.initial}:{};return{...p,...D,...w,..._}},$=(A=[],_)=>{let w=[],L=A.length;for(let j=0;j<L;j++){let{class:B,className:F,...P}=A[j],V=!0,Y=z(null,_);for(let X in P){let oe=P[X],W=Y[X];if(Array.isArray(oe)){if(!oe.includes(W)){V=!1;break}}else{if((oe==null||oe===!1)&&(W==null||W===!1))continue;if(W!==oe){V=!1;break}}}V&&(B&&w.push(B),F&&w.push(F))}return w},O=A=>{let _=$(y,A);if(!Array.isArray(_))return _;let w={},L=t;for(let j=0;j<_.length;j++){let B=_[j];if(typeof B=="string")w.base=L(w.base,B)(c);else if(typeof B=="object")for(let F in B)w[F]=L(w[F],B[F])(c)}return w},T=A=>{if(l.length<1)return null;let _={},w=z(null,A);for(let L=0;L<l.length;L++){let{slots:j=[],class:B,className:F,...P}=l[L];if(!Ft(P)){let V=!0;for(let Y in P){let X=w[Y],oe=P[Y];if(X===void 0||(Array.isArray(oe)?!oe.includes(X):oe!==X)){V=!1;break}}if(!V)continue}for(let V=0;V<j.length;V++){let Y=j[V];_[Y]||(_[Y]=[]),_[Y].push([B,F])}}return _};if(!Ft(s)||!h){let A={};if(typeof g=="object"&&!Ft(g)){let _=t;for(let w in g)A[w]=L=>{let j=O(L),B=T(L);return _(g[w],I(w,L),j?j[w]:void 0,B?B[w]:void 0,L==null?void 0:L.class,L==null?void 0:L.className)(c)}}return A}return t(u,M(),$(y),E==null?void 0:E.class,E==null?void 0:E.className)(c)},k=()=>{if(!(!f||typeof f!="object"))return Object.keys(f)};return x.variantKeys=k(),x.extend=o,x.base=u,x.slots=g,x.variants=f,x.defaultVariants=p,x.compoundSlots=l,x.compoundVariants=y,x};return{tv:e,createTV:n=>(r,o)=>e(r,o?$d(n,o):n)}};const wd="-",rw=t=>{const e=sw(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:i=>{const a=i.split(wd);return a[0]===""&&a.length!==1&&a.shift(),dm(a,e)||ow(i)},getConflictingClassGroupIds:(i,a)=>{const l=n[i]||[];return a&&r[i]?[...l,...r[i]]:l}}},dm=(t,e)=>{var i;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),o=r?dm(t.slice(1),r):void 0;if(o)return o;if(e.validators.length===0)return;const s=t.join(wd);return(i=e.validators.find(({validator:a})=>a(s)))==null?void 0:i.classGroupId},cm=/^\[(.+)\]$/,ow=t=>{if(cm.test(t)){const e=cm.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},sw=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const o in n)kd(n[o],r,o,e);return r},kd=(t,e,n,r)=>{t.forEach(o=>{if(typeof o=="string"){const s=o===""?e:um(e,o);s.classGroupId=n;return}if(typeof o=="function"){if(iw(o)){kd(o(r),e,n,r);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([s,i])=>{kd(i,um(e,s),n,r)})})},um=(t,e)=>{let n=t;return e.split(wd).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},iw=t=>t.isThemeGetter,aw=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const o=(s,i)=>{n.set(s,i),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let i=n.get(s);if(i!==void 0)return i;if((i=r.get(s))!==void 0)return o(s,i),i},set(s,i){n.has(s)?n.set(s,i):o(s,i)}}},Sd="!",Ed=":",lw=Ed.length,dw=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=o=>{const s=[];let i=0,a=0,l=0,d;for(let h=0;h<o.length;h++){let b=o[h];if(i===0&&a===0){if(b===Ed){s.push(o.slice(l,h)),l=h+lw;continue}if(b==="/"){d=h;continue}}b==="["?i++:b==="]"?i--:b==="("?a++:b===")"&&a--}const c=s.length===0?o:o.substring(l),u=cw(c),f=u!==c,p=d&&d>l?d-l:void 0;return{modifiers:s,hasImportantModifier:f,baseClassName:u,maybePostfixModifierPosition:p}};if(e){const o=e+Ed,s=r;r=i=>i.startsWith(o)?s(i.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:i,maybePostfixModifierPosition:void 0}}if(n){const o=r;r=s=>n({className:s,parseClassName:o})}return r},cw=t=>t.endsWith(Sd)?t.substring(0,t.length-1):t.startsWith(Sd)?t.substring(1):t,uw=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const o=[];let s=[];return r.forEach(i=>{i[0]==="["||e[i]?(o.push(...s.sort(),i),s=[]):s.push(i)}),o.push(...s.sort()),o}},fw=t=>({cache:aw(t.cacheSize),parseClassName:dw(t),sortModifiers:uw(t),...rw(t)}),pw=/\s+/,hw=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:s}=e,i=[],a=t.trim().split(pw);let l="";for(let d=a.length-1;d>=0;d-=1){const c=a[d],{isExternal:u,modifiers:f,hasImportantModifier:p,baseClassName:h,maybePostfixModifierPosition:b}=n(c);if(u){l=c+(l.length>0?" "+l:l);continue}let g=!!b,y=r(g?h.substring(0,b):h);if(!y){if(!g){l=c+(l.length>0?" "+l:l);continue}if(y=r(h),!y){l=c+(l.length>0?" "+l:l);continue}g=!1}const x=s(f).join(":"),k=p?x+Sd:x,E=k+y;if(i.includes(E))continue;i.push(E);const S=o(y,g);for(let C=0;C<S.length;++C){const M=S[C];i.push(k+M)}l=c+(l.length>0?" "+l:l)}return l};function mw(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=fm(e))&&(r&&(r+=" "),r+=n);return r}const fm=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=fm(t[r]))&&(n&&(n+=" "),n+=e);return n};function Cd(t,...e){let n,r,o,s=i;function i(l){const d=e.reduce((c,u)=>u(c),t());return n=fw(d),r=n.cache.get,o=n.cache.set,s=a,a(l)}function a(l){const d=r(l);if(d)return d;const c=hw(l,n);return o(l,c),c}return function(){return s(mw.apply(null,arguments))}}const pt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},pm=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,hm=/^\((?:(\w[\w-]*):)?(.+)\)$/i,gw=/^\d+\/\d+$/,bw=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yw=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vw=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,xw=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$w=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,go=t=>gw.test(t),Se=t=>!!t&&!Number.isNaN(Number(t)),er=t=>!!t&&Number.isInteger(Number(t)),Td=t=>t.endsWith("%")&&Se(t.slice(0,-1)),On=t=>bw.test(t),ww=()=>!0,kw=t=>yw.test(t)&&!vw.test(t),mm=()=>!1,Sw=t=>xw.test(t),Ew=t=>$w.test(t),Cw=t=>!le(t)&&!de(t),Tw=t=>bo(t,xm,mm),le=t=>pm.test(t),Tr=t=>bo(t,$m,kw),Nd=t=>bo(t,Ow,Se),gm=t=>bo(t,ym,mm),Nw=t=>bo(t,vm,Ew),ki=t=>bo(t,wm,Sw),de=t=>hm.test(t),es=t=>yo(t,$m),Mw=t=>yo(t,Iw),bm=t=>yo(t,ym),Aw=t=>yo(t,xm),Pw=t=>yo(t,vm),Si=t=>yo(t,wm,!0),bo=(t,e,n)=>{const r=pm.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},yo=(t,e,n=!1)=>{const r=hm.exec(t);return r?r[1]?e(r[1]):n:!1},ym=t=>t==="position"||t==="percentage",vm=t=>t==="image"||t==="url",xm=t=>t==="length"||t==="size"||t==="bg-size",$m=t=>t==="length",Ow=t=>t==="number",Iw=t=>t==="family-name",wm=t=>t==="shadow",Md=()=>{const t=pt("color"),e=pt("font"),n=pt("text"),r=pt("font-weight"),o=pt("tracking"),s=pt("leading"),i=pt("breakpoint"),a=pt("container"),l=pt("spacing"),d=pt("radius"),c=pt("shadow"),u=pt("inset-shadow"),f=pt("text-shadow"),p=pt("drop-shadow"),h=pt("blur"),b=pt("perspective"),g=pt("aspect"),y=pt("ease"),x=pt("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],S=()=>[...E(),de,le],C=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],I=()=>[de,le,l],D=()=>[go,"full","auto",...I()],z=()=>[er,"none","subgrid",de,le],$=()=>["auto",{span:["full",er,de,le]},er,de,le],O=()=>[er,"auto",de,le],T=()=>["auto","min","max","fr",de,le],A=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],_=()=>["start","end","center","stretch","center-safe","end-safe"],w=()=>["auto",...I()],L=()=>[go,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],j=()=>[t,de,le],B=()=>[...E(),bm,gm,{position:[de,le]}],F=()=>["no-repeat",{repeat:["","x","y","space","round"]}],P=()=>["auto","cover","contain",Aw,Tw,{size:[de,le]}],V=()=>[Td,es,Tr],Y=()=>["","none","full",d,de,le],X=()=>["",Se,es,Tr],oe=()=>["solid","dashed","dotted","double"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>[Se,Td,bm,gm],G=()=>["","none",h,de,le],ce=()=>["none",Se,de,le],fe=()=>["none",Se,de,le],ge=()=>[Se,de,le],$e=()=>[go,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[On],breakpoint:[On],color:[ww],container:[On],"drop-shadow":[On],ease:["in","out","in-out"],font:[Cw],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[On],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[On],shadow:[On],spacing:["px",Se],text:[On],"text-shadow":[On],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",go,le,de,g]}],container:["container"],columns:[{columns:[Se,le,de,a]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:S()}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[er,"auto",de,le]}],basis:[{basis:[go,"full","auto",a,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Se,go,"auto","initial","none",le]}],grow:[{grow:["",Se,de,le]}],shrink:[{shrink:["",Se,de,le]}],order:[{order:[er,"first","last","none",de,le]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:$()}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:$()}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":T()}],"auto-rows":[{"auto-rows":T()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...A(),"normal"]}],"justify-items":[{"justify-items":[..._(),"normal"]}],"justify-self":[{"justify-self":["auto",..._()]}],"align-content":[{content:["normal",...A()]}],"align-items":[{items:[..._(),{baseline:["","last"]}]}],"align-self":[{self:["auto",..._(),{baseline:["","last"]}]}],"place-content":[{"place-content":A()}],"place-items":[{"place-items":[..._(),"baseline"]}],"place-self":[{"place-self":["auto",..._()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:w()}],mx:[{mx:w()}],my:[{my:w()}],ms:[{ms:w()}],me:[{me:w()}],mt:[{mt:w()}],mr:[{mr:w()}],mb:[{mb:w()}],ml:[{ml:w()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:L()}],w:[{w:[a,"screen",...L()]}],"min-w":[{"min-w":[a,"screen","none",...L()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[i]},...L()]}],h:[{h:["screen","lh",...L()]}],"min-h":[{"min-h":["screen","lh","none",...L()]}],"max-h":[{"max-h":["screen","lh",...L()]}],"font-size":[{text:["base",n,es,Tr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,de,Nd]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Td,le]}],"font-family":[{font:[Mw,le,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,de,le]}],"line-clamp":[{"line-clamp":[Se,"none",de,Nd]}],leading:[{leading:[s,...I()]}],"list-image":[{"list-image":["none",de,le]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",de,le]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:j()}],"text-color":[{text:j()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...oe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Se,"from-font","auto",de,Tr]}],"text-decoration-color":[{decoration:j()}],"underline-offset":[{"underline-offset":[Se,"auto",de,le]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",de,le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",de,le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:B()}],"bg-repeat":[{bg:F()}],"bg-size":[{bg:P()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},er,de,le],radial:["",de,le],conic:[er,de,le]},Pw,Nw]}],"bg-color":[{bg:j()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:j()}],"gradient-via":[{via:j()}],"gradient-to":[{to:j()}],rounded:[{rounded:Y()}],"rounded-s":[{"rounded-s":Y()}],"rounded-e":[{"rounded-e":Y()}],"rounded-t":[{"rounded-t":Y()}],"rounded-r":[{"rounded-r":Y()}],"rounded-b":[{"rounded-b":Y()}],"rounded-l":[{"rounded-l":Y()}],"rounded-ss":[{"rounded-ss":Y()}],"rounded-se":[{"rounded-se":Y()}],"rounded-ee":[{"rounded-ee":Y()}],"rounded-es":[{"rounded-es":Y()}],"rounded-tl":[{"rounded-tl":Y()}],"rounded-tr":[{"rounded-tr":Y()}],"rounded-br":[{"rounded-br":Y()}],"rounded-bl":[{"rounded-bl":Y()}],"border-w":[{border:X()}],"border-w-x":[{"border-x":X()}],"border-w-y":[{"border-y":X()}],"border-w-s":[{"border-s":X()}],"border-w-e":[{"border-e":X()}],"border-w-t":[{"border-t":X()}],"border-w-r":[{"border-r":X()}],"border-w-b":[{"border-b":X()}],"border-w-l":[{"border-l":X()}],"divide-x":[{"divide-x":X()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":X()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...oe(),"hidden","none"]}],"divide-style":[{divide:[...oe(),"hidden","none"]}],"border-color":[{border:j()}],"border-color-x":[{"border-x":j()}],"border-color-y":[{"border-y":j()}],"border-color-s":[{"border-s":j()}],"border-color-e":[{"border-e":j()}],"border-color-t":[{"border-t":j()}],"border-color-r":[{"border-r":j()}],"border-color-b":[{"border-b":j()}],"border-color-l":[{"border-l":j()}],"divide-color":[{divide:j()}],"outline-style":[{outline:[...oe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Se,de,le]}],"outline-w":[{outline:["",Se,es,Tr]}],"outline-color":[{outline:j()}],shadow:[{shadow:["","none",c,Si,ki]}],"shadow-color":[{shadow:j()}],"inset-shadow":[{"inset-shadow":["none",u,Si,ki]}],"inset-shadow-color":[{"inset-shadow":j()}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:j()}],"ring-offset-w":[{"ring-offset":[Se,Tr]}],"ring-offset-color":[{"ring-offset":j()}],"inset-ring-w":[{"inset-ring":X()}],"inset-ring-color":[{"inset-ring":j()}],"text-shadow":[{"text-shadow":["none",f,Si,ki]}],"text-shadow-color":[{"text-shadow":j()}],opacity:[{opacity:[Se,de,le]}],"mix-blend":[{"mix-blend":[...W(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":W()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Se]}],"mask-image-linear-from-pos":[{"mask-linear-from":H()}],"mask-image-linear-to-pos":[{"mask-linear-to":H()}],"mask-image-linear-from-color":[{"mask-linear-from":j()}],"mask-image-linear-to-color":[{"mask-linear-to":j()}],"mask-image-t-from-pos":[{"mask-t-from":H()}],"mask-image-t-to-pos":[{"mask-t-to":H()}],"mask-image-t-from-color":[{"mask-t-from":j()}],"mask-image-t-to-color":[{"mask-t-to":j()}],"mask-image-r-from-pos":[{"mask-r-from":H()}],"mask-image-r-to-pos":[{"mask-r-to":H()}],"mask-image-r-from-color":[{"mask-r-from":j()}],"mask-image-r-to-color":[{"mask-r-to":j()}],"mask-image-b-from-pos":[{"mask-b-from":H()}],"mask-image-b-to-pos":[{"mask-b-to":H()}],"mask-image-b-from-color":[{"mask-b-from":j()}],"mask-image-b-to-color":[{"mask-b-to":j()}],"mask-image-l-from-pos":[{"mask-l-from":H()}],"mask-image-l-to-pos":[{"mask-l-to":H()}],"mask-image-l-from-color":[{"mask-l-from":j()}],"mask-image-l-to-color":[{"mask-l-to":j()}],"mask-image-x-from-pos":[{"mask-x-from":H()}],"mask-image-x-to-pos":[{"mask-x-to":H()}],"mask-image-x-from-color":[{"mask-x-from":j()}],"mask-image-x-to-color":[{"mask-x-to":j()}],"mask-image-y-from-pos":[{"mask-y-from":H()}],"mask-image-y-to-pos":[{"mask-y-to":H()}],"mask-image-y-from-color":[{"mask-y-from":j()}],"mask-image-y-to-color":[{"mask-y-to":j()}],"mask-image-radial":[{"mask-radial":[de,le]}],"mask-image-radial-from-pos":[{"mask-radial-from":H()}],"mask-image-radial-to-pos":[{"mask-radial-to":H()}],"mask-image-radial-from-color":[{"mask-radial-from":j()}],"mask-image-radial-to-color":[{"mask-radial-to":j()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":E()}],"mask-image-conic-pos":[{"mask-conic":[Se]}],"mask-image-conic-from-pos":[{"mask-conic-from":H()}],"mask-image-conic-to-pos":[{"mask-conic-to":H()}],"mask-image-conic-from-color":[{"mask-conic-from":j()}],"mask-image-conic-to-color":[{"mask-conic-to":j()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:B()}],"mask-repeat":[{mask:F()}],"mask-size":[{mask:P()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",de,le]}],filter:[{filter:["","none",de,le]}],blur:[{blur:G()}],brightness:[{brightness:[Se,de,le]}],contrast:[{contrast:[Se,de,le]}],"drop-shadow":[{"drop-shadow":["","none",p,Si,ki]}],"drop-shadow-color":[{"drop-shadow":j()}],grayscale:[{grayscale:["",Se,de,le]}],"hue-rotate":[{"hue-rotate":[Se,de,le]}],invert:[{invert:["",Se,de,le]}],saturate:[{saturate:[Se,de,le]}],sepia:[{sepia:["",Se,de,le]}],"backdrop-filter":[{"backdrop-filter":["","none",de,le]}],"backdrop-blur":[{"backdrop-blur":G()}],"backdrop-brightness":[{"backdrop-brightness":[Se,de,le]}],"backdrop-contrast":[{"backdrop-contrast":[Se,de,le]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Se,de,le]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Se,de,le]}],"backdrop-invert":[{"backdrop-invert":["",Se,de,le]}],"backdrop-opacity":[{"backdrop-opacity":[Se,de,le]}],"backdrop-saturate":[{"backdrop-saturate":[Se,de,le]}],"backdrop-sepia":[{"backdrop-sepia":["",Se,de,le]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",de,le]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Se,"initial",de,le]}],ease:[{ease:["linear","initial",y,de,le]}],delay:[{delay:[Se,de,le]}],animate:[{animate:["none",x,de,le]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,de,le]}],"perspective-origin":[{"perspective-origin":S()}],rotate:[{rotate:ce()}],"rotate-x":[{"rotate-x":ce()}],"rotate-y":[{"rotate-y":ce()}],"rotate-z":[{"rotate-z":ce()}],scale:[{scale:fe()}],"scale-x":[{"scale-x":fe()}],"scale-y":[{"scale-y":fe()}],"scale-z":[{"scale-z":fe()}],"scale-3d":["scale-3d"],skew:[{skew:ge()}],"skew-x":[{"skew-x":ge()}],"skew-y":[{"skew-y":ge()}],transform:[{transform:[de,le,"","none","gpu","cpu"]}],"transform-origin":[{origin:S()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:$e()}],"translate-x":[{"translate-x":$e()}],"translate-y":[{"translate-y":$e()}],"translate-z":[{"translate-z":$e()}],"translate-none":["translate-none"],accent:[{accent:j()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:j()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",de,le]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",de,le]}],fill:[{fill:["none",...j()]}],"stroke-w":[{stroke:[Se,es,Tr,Nd]}],stroke:[{stroke:["none",...j()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Lw=(t,{cacheSize:e,prefix:n,experimentalParseClassName:r,extend:o={},override:s={}})=>(ts(t,"cacheSize",e),ts(t,"prefix",n),ts(t,"experimentalParseClassName",r),Ei(t.theme,s.theme),Ei(t.classGroups,s.classGroups),Ei(t.conflictingClassGroups,s.conflictingClassGroups),Ei(t.conflictingClassGroupModifiers,s.conflictingClassGroupModifiers),ts(t,"orderSensitiveModifiers",s.orderSensitiveModifiers),Ci(t.theme,o.theme),Ci(t.classGroups,o.classGroups),Ci(t.conflictingClassGroups,o.conflictingClassGroups),Ci(t.conflictingClassGroupModifiers,o.conflictingClassGroupModifiers),km(t,o,"orderSensitiveModifiers"),t),ts=(t,e,n)=>{n!==void 0&&(t[e]=n)},Ei=(t,e)=>{if(e)for(const n in e)ts(t,n,e[n])},Ci=(t,e)=>{if(e)for(const n in e)km(t,e,n)},km=(t,e,n)=>{const r=e[n];r!==void 0&&(t[n]=t[n]?t[n].concat(r):r)},Dw=(t,...e)=>typeof t=="function"?Cd(Md,t,...e):Cd(()=>Lw(Md(),t),...e),jw=Cd(Md);var Rw=t=>Ft(t)?jw:Dw({...t,extend:{theme:t.theme,classGroups:t.classGroups,conflictingClassGroupModifiers:t.conflictingClassGroupModifiers,conflictingClassGroups:t.conflictingClassGroups,...t.extend}}),_w=(...t)=>e=>{let n=wi(t);return!n||!e.twMerge?n:((!Pn.cachedTwMerge||Pn.didTwMergeConfigChange)&&(Pn.didTwMergeConfigChange=!1,Pn.cachedTwMerge=Rw(Pn.cachedTwMergeConfig)),Pn.cachedTwMerge(n)||void 0)},{tv:Fw}=nw(_w),Ti=(t,e)=>{var n,r,o;return Fw(t,{...e,twMerge:(n=void 0)!=null?n:!0,twMergeConfig:{theme:{...(r=void 0)==null?void 0:r.theme,...om.theme},classGroups:{...(o=void 0)==null?void 0:o.classGroups,...om.classGroups}}})},Sm=Ti({slots:{base:"relative inline-flex flex-col gap-2 items-center justify-center",wrapper:"relative flex",label:"text-foreground dark:text-foreground-dark font-regular",circle1:"absolute w-full h-full rounded-full",circle2:"absolute w-full h-full rounded-full",dots:"relative rounded-full mx-auto",spinnerBars:["absolute","animate-fade-out","rounded-full","w-[25%]","h-[8%]","left-[calc(37.5%)]","top-[calc(46%)]","spinner-bar-animation"]},variants:{size:{sm:{wrapper:"w-5 h-5",circle1:"border-2",circle2:"border-2",dots:"size-1",label:"text-small"},md:{wrapper:"w-8 h-8",circle1:"border-3",circle2:"border-3",dots:"size-1.5",label:"text-medium"},lg:{wrapper:"w-10 h-10",circle1:"border-3",circle2:"border-3",dots:"size-2",label:"text-large"}},color:{current:{circle1:"border-b-current",circle2:"border-b-current",dots:"bg-current",spinnerBars:"bg-current"},white:{circle1:"border-b-white",circle2:"border-b-white",dots:"bg-white",spinnerBars:"bg-white"},default:{circle1:"border-b-default",circle2:"border-b-default",dots:"bg-default",spinnerBars:"bg-default"},primary:{circle1:"border-b-primary",circle2:"border-b-primary",dots:"bg-primary",spinnerBars:"bg-primary"},secondary:{circle1:"border-b-secondary",circle2:"border-b-secondary",dots:"bg-secondary",spinnerBars:"bg-secondary"},success:{circle1:"border-b-success",circle2:"border-b-success",dots:"bg-success",spinnerBars:"bg-success"},warning:{circle1:"border-b-warning",circle2:"border-b-warning",dots:"bg-warning",spinnerBars:"bg-warning"},danger:{circle1:"border-b-danger",circle2:"border-b-danger",dots:"bg-danger",spinnerBars:"bg-danger"}},labelColor:{foreground:{label:"text-foreground"},primary:{label:"text-primary"},secondary:{label:"text-secondary"},success:{label:"text-success"},warning:{label:"text-warning"},danger:{label:"text-danger"}},variant:{default:{circle1:["animate-spinner-ease-spin","border-solid","border-t-transparent","border-l-transparent","border-r-transparent"],circle2:["opacity-75","animate-spinner-linear-spin","border-dotted","border-t-transparent","border-l-transparent","border-r-transparent"]},gradient:{circle1:["border-0","bg-gradient-to-b","from-transparent","via-transparent","to-primary","animate-spinner-linear-spin","[animation-duration:1s]","[-webkit-mask:radial-gradient(closest-side,rgba(0,0,0,0.0)calc(100%-3px),rgba(0,0,0,1)calc(100%-3px))]"],circle2:["hidden"]},wave:{wrapper:"translate-y-3/4",dots:["animate-sway","spinner-dot-animation"]},dots:{wrapper:"translate-y-2/4",dots:["animate-blink","spinner-dot-blink-animation"]},spinner:{},simple:{wrapper:"text-foreground h-5 w-5 animate-spin",circle1:"opacity-25",circle2:"opacity-75"}}},defaultVariants:{size:"md",color:"primary",labelColor:"foreground",variant:"default"},compoundVariants:[{variant:"gradient",color:"current",class:{circle1:"to-current"}},{variant:"gradient",color:"white",class:{circle1:"to-white"}},{variant:"gradient",color:"default",class:{circle1:"to-default"}},{variant:"gradient",color:"primary",class:{circle1:"to-primary"}},{variant:"gradient",color:"secondary",class:{circle1:"to-secondary"}},{variant:"gradient",color:"success",class:{circle1:"to-success"}},{variant:"gradient",color:"warning",class:{circle1:"to-warning"}},{variant:"gradient",color:"danger",class:{circle1:"to-danger"}},{variant:"wave",size:"sm",class:{wrapper:"w-5 h-5"}},{variant:"wave",size:"md",class:{wrapper:"w-8 h-8"}},{variant:"wave",size:"lg",class:{wrapper:"w-12 h-12"}},{variant:"dots",size:"sm",class:{wrapper:"w-5 h-5"}},{variant:"dots",size:"md",class:{wrapper:"w-8 h-8"}},{variant:"dots",size:"lg",class:{wrapper:"w-12 h-12"}},{variant:"simple",size:"sm",class:{wrapper:"w-5 h-5"}},{variant:"simple",size:"md",class:{wrapper:"w-8 h-8"}},{variant:"simple",size:"lg",class:{wrapper:"w-12 h-12"}},{variant:"simple",color:"current",class:{wrapper:"text-current"}},{variant:"simple",color:"white",class:{wrapper:"text-white"}},{variant:"simple",color:"default",class:{wrapper:"text-default"}},{variant:"simple",color:"primary",class:{wrapper:"text-primary"}},{variant:"simple",color:"secondary",class:{wrapper:"text-secondary"}},{variant:"simple",color:"success",class:{wrapper:"text-success"}},{variant:"simple",color:"warning",class:{wrapper:"text-warning"}},{variant:"simple",color:"danger",class:{wrapper:"text-danger"}}]}),Em=["outline-solid outline-transparent","data-[focus-visible=true]:z-10","data-[focus-visible=true]:outline-2","data-[focus-visible=true]:outline-focus","data-[focus-visible=true]:outline-offset-2"],vo={default:["[&+.border-medium.border-default]:ms-[calc(var(--heroui-border-width-medium)*-1)]"],primary:["[&+.border-medium.border-primary]:ms-[calc(var(--heroui-border-width-medium)*-1)]"],secondary:["[&+.border-medium.border-secondary]:ms-[calc(var(--heroui-border-width-medium)*-1)]"],success:["[&+.border-medium.border-success]:ms-[calc(var(--heroui-border-width-medium)*-1)]"],warning:["[&+.border-medium.border-warning]:ms-[calc(var(--heroui-border-width-medium)*-1)]"],danger:["[&+.border-medium.border-danger]:ms-[calc(var(--heroui-border-width-medium)*-1)]"]},Ni=Ti({slots:{base:["z-0","relative","bg-transparent","[transform-origin:var(--trigger-anchor-point)]","before:content-['']","before:hidden","before:z-[-1]","before:absolute","before:rotate-45","before:w-2.5","before:h-2.5","before:rounded-sm","data-[arrow=true]:before:block","data-[placement=top]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top]:before:left-1/2","data-[placement=top]:before:-translate-x-1/2","data-[placement=top-start]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top-start]:before:left-3","data-[placement=top-end]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top-end]:before:right-3","data-[placement=bottom]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom]:before:left-1/2","data-[placement=bottom]:before:-translate-x-1/2","data-[placement=bottom-start]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom-start]:before:left-3","data-[placement=bottom-end]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom-end]:before:right-3","data-[placement=left]:before:-right-[calc(theme(spacing.5)/4_-_2px)]","data-[placement=left]:before:top-1/2","data-[placement=left]:before:-translate-y-1/2","data-[placement=left-start]:before:-right-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=left-start]:before:top-1/4","data-[placement=left-end]:before:-right-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=left-end]:before:bottom-1/4","data-[placement=right]:before:-left-[calc(theme(spacing.5)/4_-_2px)]","data-[placement=right]:before:top-1/2","data-[placement=right]:before:-translate-y-1/2","data-[placement=right-start]:before:-left-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=right-start]:before:top-1/4","data-[placement=right-end]:before:-left-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=right-end]:before:bottom-1/4",...Em],content:["z-10","px-2.5","py-1","w-full","inline-flex","flex-col","items-center","justify-center","box-border","subpixel-antialiased","outline-solid outline-transparent","box-border"],trigger:["z-10"],backdrop:["hidden"],arrow:[]},variants:{size:{sm:{content:"text-tiny"},md:{content:"text-small"},lg:{content:"text-medium"}},color:{default:{base:"before:bg-content1 before:shadow-small",content:"bg-content1"},foreground:{base:"before:bg-foreground",content:ye.solid.foreground},primary:{base:"before:bg-primary",content:ye.solid.primary},secondary:{base:"before:bg-secondary",content:ye.solid.secondary},success:{base:"before:bg-success",content:ye.solid.success},warning:{base:"before:bg-warning",content:ye.solid.warning},danger:{base:"before:bg-danger",content:ye.solid.danger}},radius:{none:{content:"rounded-none"},sm:{content:"rounded-small"},md:{content:"rounded-medium"},lg:{content:"rounded-large"},full:{content:"rounded-full"}},shadow:{none:{content:"shadow-none"},sm:{content:"shadow-small"},md:{content:"shadow-medium"},lg:{content:"shadow-large"}},backdrop:{transparent:{},opaque:{backdrop:"bg-overlay/50 backdrop-opacity-disabled"},blur:{backdrop:"backdrop-blur-sm backdrop-saturate-150 bg-overlay/30"}},triggerScaleOnOpen:{true:{trigger:["aria-expanded:scale-[0.97]","aria-expanded:opacity-70","subpixel-antialiased"]},false:{}},disableAnimation:{true:{base:"animate-none"}},isTriggerDisabled:{true:{trigger:"opacity-disabled pointer-events-none"},false:{}}},defaultVariants:{color:"default",radius:"lg",size:"md",shadow:"md",backdrop:"transparent",triggerScaleOnOpen:!0},compoundVariants:[{backdrop:["opaque","blur"],class:{backdrop:"block w-full h-full fixed inset-0 -z-30"}}]}),zw=Ti({base:["z-0","group","relative","inline-flex","items-center","justify-center","box-border","appearance-none","outline-solid outline-transparent","select-none","whitespace-nowrap","min-w-max","font-normal","subpixel-antialiased","overflow-hidden","tap-highlight-transparent","transform-gpu data-[pressed=true]:scale-[0.97]","cursor-pointer",...Em],variants:{variant:{solid:"",bordered:"border-medium bg-transparent",light:"bg-transparent",flat:"",faded:"border-medium",shadow:"",ghost:"border-medium bg-transparent"},size:{sm:"px-3 min-w-16 h-8 text-tiny gap-2 rounded-small",md:"px-4 min-w-20 h-10 text-small gap-2 rounded-medium",lg:"px-6 min-w-24 h-12 text-medium gap-3 rounded-large"},color:{default:"",primary:"",secondary:"",success:"",warning:"",danger:""},radius:{none:"rounded-none",sm:"rounded-small",md:"rounded-medium",lg:"rounded-large",full:"rounded-full"},fullWidth:{true:"w-full"},isDisabled:{true:"opacity-disabled pointer-events-none"},isInGroup:{true:"[&:not(:first-child):not(:last-child)]:rounded-none"},isIconOnly:{true:"px-0 !gap-0",false:"[&>svg]:max-w-[theme(spacing.8)]"},disableAnimation:{true:"!transition-none data-[pressed=true]:scale-100",false:"transition-transform-colors-opacity motion-reduce:transition-none"}},defaultVariants:{size:"md",variant:"solid",color:"default",fullWidth:!1,isDisabled:!1,isInGroup:!1},compoundVariants:[{variant:"solid",color:"default",class:ye.solid.default},{variant:"solid",color:"primary",class:ye.solid.primary},{variant:"solid",color:"secondary",class:ye.solid.secondary},{variant:"solid",color:"success",class:ye.solid.success},{variant:"solid",color:"warning",class:ye.solid.warning},{variant:"solid",color:"danger",class:ye.solid.danger},{variant:"shadow",color:"default",class:ye.shadow.default},{variant:"shadow",color:"primary",class:ye.shadow.primary},{variant:"shadow",color:"secondary",class:ye.shadow.secondary},{variant:"shadow",color:"success",class:ye.shadow.success},{variant:"shadow",color:"warning",class:ye.shadow.warning},{variant:"shadow",color:"danger",class:ye.shadow.danger},{variant:"bordered",color:"default",class:ye.bordered.default},{variant:"bordered",color:"primary",class:ye.bordered.primary},{variant:"bordered",color:"secondary",class:ye.bordered.secondary},{variant:"bordered",color:"success",class:ye.bordered.success},{variant:"bordered",color:"warning",class:ye.bordered.warning},{variant:"bordered",color:"danger",class:ye.bordered.danger},{variant:"flat",color:"default",class:ye.flat.default},{variant:"flat",color:"primary",class:ye.flat.primary},{variant:"flat",color:"secondary",class:ye.flat.secondary},{variant:"flat",color:"success",class:ye.flat.success},{variant:"flat",color:"warning",class:ye.flat.warning},{variant:"flat",color:"danger",class:ye.flat.danger},{variant:"faded",color:"default",class:ye.faded.default},{variant:"faded",color:"primary",class:ye.faded.primary},{variant:"faded",color:"secondary",class:ye.faded.secondary},{variant:"faded",color:"success",class:ye.faded.success},{variant:"faded",color:"warning",class:ye.faded.warning},{variant:"faded",color:"danger",class:ye.faded.danger},{variant:"light",color:"default",class:[ye.light.default,"data-[hover=true]:bg-default/40"]},{variant:"light",color:"primary",class:[ye.light.primary,"data-[hover=true]:bg-primary/20"]},{variant:"light",color:"secondary",class:[ye.light.secondary,"data-[hover=true]:bg-secondary/20"]},{variant:"light",color:"success",class:[ye.light.success,"data-[hover=true]:bg-success/20"]},{variant:"light",color:"warning",class:[ye.light.warning,"data-[hover=true]:bg-warning/20"]},{variant:"light",color:"danger",class:[ye.light.danger,"data-[hover=true]:bg-danger/20"]},{variant:"ghost",color:"default",class:[ye.ghost.default,"data-[hover=true]:!bg-default"]},{variant:"ghost",color:"primary",class:[ye.ghost.primary,"data-[hover=true]:!bg-primary data-[hover=true]:!text-primary-foreground"]},{variant:"ghost",color:"secondary",class:[ye.ghost.secondary,"data-[hover=true]:!bg-secondary data-[hover=true]:!text-secondary-foreground"]},{variant:"ghost",color:"success",class:[ye.ghost.success,"data-[hover=true]:!bg-success data-[hover=true]:!text-success-foreground"]},{variant:"ghost",color:"warning",class:[ye.ghost.warning,"data-[hover=true]:!bg-warning data-[hover=true]:!text-warning-foreground"]},{variant:"ghost",color:"danger",class:[ye.ghost.danger,"data-[hover=true]:!bg-danger data-[hover=true]:!text-danger-foreground"]},{isInGroup:!0,class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,size:"sm",class:"rounded-none first:rounded-s-small last:rounded-e-small"},{isInGroup:!0,size:"md",class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,size:"lg",class:"rounded-none first:rounded-s-large last:rounded-e-large"},{isInGroup:!0,isRounded:!0,class:"rounded-none first:rounded-s-full last:rounded-e-full"},{isInGroup:!0,radius:"none",class:"rounded-none first:rounded-s-none last:rounded-e-none"},{isInGroup:!0,radius:"sm",class:"rounded-none first:rounded-s-small last:rounded-e-small"},{isInGroup:!0,radius:"md",class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,radius:"lg",class:"rounded-none first:rounded-s-large last:rounded-e-large"},{isInGroup:!0,radius:"full",class:"rounded-none first:rounded-s-full last:rounded-e-full"},{isInGroup:!0,variant:["ghost","bordered"],color:"default",className:vo.default},{isInGroup:!0,variant:["ghost","bordered"],color:"primary",className:vo.primary},{isInGroup:!0,variant:["ghost","bordered"],color:"secondary",className:vo.secondary},{isInGroup:!0,variant:["ghost","bordered"],color:"success",className:vo.success},{isInGroup:!0,variant:["ghost","bordered"],color:"warning",className:vo.warning},{isInGroup:!0,variant:["ghost","bordered"],color:"danger",className:vo.danger},{isIconOnly:!0,size:"sm",class:"min-w-8 w-8 h-8"},{isIconOnly:!0,size:"md",class:"min-w-10 w-10 h-10"},{isIconOnly:!0,size:"lg",class:"min-w-12 w-12 h-12"},{variant:["solid","faded","flat","bordered","shadow"],class:"data-[hover=true]:opacity-hover"}]});Ti({base:"inline-flex items-center justify-center h-auto",variants:{fullWidth:{true:"w-full"}},defaultVariants:{fullWidth:!1}});var Cm={ease:[.36,.66,.4,1]},Ad={scaleSpring:{enter:{transform:"scale(1)",opacity:1,transition:{type:"spring",bounce:0,duration:.2}},exit:{transform:"scale(0.85)",opacity:0,transition:{type:"easeOut",duration:.15}}},scaleSpringOpacity:{initial:{opacity:0,transform:"scale(0.8)"},enter:{opacity:1,transform:"scale(1)",transition:{type:"spring",bounce:0,duration:.3}},exit:{opacity:0,transform:"scale(0.96)",transition:{type:"easeOut",bounce:0,duration:.15}}},fade:{enter:{opacity:1,transition:{duration:.4,ease:Cm.ease}},exit:{opacity:0,transition:{duration:.3,ease:Cm.ease}}}};function Bw(t){return v.forwardRef(t)}var Hw=(t,e,n=!0)=>{if(!e)return[t,{}];const r=e.reduce((o,s)=>s in t?{...o,[s]:t[s]}:o,{});return n?[Object.keys(t).filter(s=>!e.includes(s)).reduce((s,i)=>({...s,[i]:t[i]}),{}),r]:[t,r]},Tm=t=>{const e={top:{originY:1},bottom:{originY:0},left:{originX:1},right:{originX:0},"top-start":{originX:0,originY:1},"top-end":{originX:1,originY:1},"bottom-start":{originX:0,originY:0},"bottom-end":{originX:1,originY:0},"right-start":{originX:0,originY:0},"right-end":{originX:0,originY:1},"left-start":{originX:1,originY:0},"left-end":{originX:1,originY:1}};return(e==null?void 0:e[t])||{}},Nm=t=>({top:"top",bottom:"bottom",left:"left",right:"right","top-start":"top start","top-end":"top end","bottom-start":"bottom start","bottom-end":"bottom end","left-start":"left top","left-end":"left bottom","right-start":"right top","right-end":"right bottom"})[t],Vw=(t,e)=>{if(e.includes("-")){const[n]=e.split("-");if(n.includes(t))return!1}return!0},Mi=(t,e)=>{if(e.includes("-")){const[,n]=e.split("-");return`${t}-${n}`}return t},ns=new WeakMap,zt=[];function Ww(t,e=document.body){let n=new Set(t),r=new Set,o=l=>{for(let f of l.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))n.add(f);let d=f=>{if(n.has(f)||f.parentElement&&r.has(f.parentElement)&&f.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let p of n)if(f.contains(p))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},c=document.createTreeWalker(l,NodeFilter.SHOW_ELEMENT,{acceptNode:d}),u=d(l);if(u===NodeFilter.FILTER_ACCEPT&&s(l),u!==NodeFilter.FILTER_REJECT){let f=c.nextNode();for(;f!=null;)s(f),f=c.nextNode()}},s=l=>{var d;let c=(d=ns.get(l))!=null?d:0;l.getAttribute("aria-hidden")==="true"&&c===0||(c===0&&l.setAttribute("aria-hidden","true"),r.add(l),ns.set(l,c+1))};zt.length&&zt[zt.length-1].disconnect(),o(e);let i=new MutationObserver(l=>{for(let d of l)if(!(d.type!=="childList"||d.addedNodes.length===0)&&![...n,...r].some(c=>c.contains(d.target))){for(let c of d.removedNodes)c instanceof Element&&(n.delete(c),r.delete(c));for(let c of d.addedNodes)(c instanceof HTMLElement||c instanceof SVGElement)&&(c.dataset.liveAnnouncer==="true"||c.dataset.reactAriaTopLayer==="true")?n.add(c):c instanceof Element&&o(c)}});i.observe(e,{childList:!0,subtree:!0});let a={visibleNodes:n,hiddenNodes:r,observe(){i.observe(e,{childList:!0,subtree:!0})},disconnect(){i.disconnect()}};return zt.push(a),()=>{i.disconnect();for(let l of r){let d=ns.get(l);d!=null&&(d===1?(l.removeAttribute("aria-hidden"),ns.delete(l)):ns.set(l,d-1))}a===zt[zt.length-1]?(zt.pop(),zt.length&&zt[zt.length-1].observe()):zt.splice(zt.indexOf(a),1)}}function Uw(t){let e=zt[zt.length-1];if(e&&!e.visibleNodes.has(t))return e.visibleNodes.add(t),()=>{e.visibleNodes.delete(t)}}var Mm=globalThis!=null&&globalThis.document?v.useLayoutEffect:v.useEffect,[HA,Gw]=Pl({name:"ButtonGroupContext",strict:!1});function Am(t,e){let{elementType:n="button",isDisabled:r,onPress:o,onPressStart:s,onPressEnd:i,onPressUp:a,onPressChange:l,preventFocusOnPress:d,allowFocusWhenDisabled:c,onClick:u,href:f,target:p,rel:h,type:b="button",allowTextSelectionOnPress:g}=t,y;n==="button"?y={type:b,disabled:r}:y={role:"button",href:n==="a"&&!r?f:void 0,target:n==="a"?p:void 0,type:n==="input"?b:void 0,disabled:n==="input"?r:void 0,"aria-disabled":!r||n==="input"?void 0:r,rel:n==="a"?h:void 0};let{pressProps:x,isPressed:k}=Q$({onClick:u,onPressStart:s,onPressEnd:i,onPressUp:a,onPressChange:l,onPress:o,isDisabled:r,preventFocusOnPress:d,allowTextSelectionOnPress:g,ref:e}),{focusableProps:E}=ah(t,e);c&&(E.tabIndex=r?-1:E.tabIndex);let S=Nn(E,x,jl(t,{labelable:!0}));return{isPressed:k,buttonProps:Nn(y,S,{"aria-haspopup":t["aria-haspopup"],"aria-expanded":t["aria-expanded"],"aria-controls":t["aria-controls"],"aria-pressed":t["aria-pressed"],"aria-current":t["aria-current"]})}}var Kw=()=>Promise.resolve().then(()=>mf).then(t=>t.default),Pm=t=>{const{ripples:e=[],motionProps:n,color:r="currentColor",style:o,onClear:s}=t;return m.jsx(m.Fragment,{children:e.map(i=>{const a=Cx(.01*i.size,.2,i.size>100?.75:.5);return m.jsx(Rt.LazyMotion,{features:Kw,children:m.jsx(Rt.AnimatePresence,{mode:"popLayout",children:m.jsx(Rt.m.span,{animate:{transform:"scale(2)",opacity:0},className:"heroui-ripple",exit:{opacity:0},initial:{transform:"scale(0)",opacity:.35},style:{position:"absolute",backgroundColor:r,borderRadius:"100%",transformOrigin:"center",pointerEvents:"none",overflow:"hidden",inset:0,zIndex:0,top:i.y,left:i.x,width:`${i.size}px`,height:`${i.size}px`,...o},transition:{duration:a},onAnimationComplete:()=>{s(i.key)},...n})})},i.key)})})};Pm.displayName="HeroUI.Ripple";var qw=Pm;function Yw(t={}){const[e,n]=v.useState([]),r=v.useCallback(s=>{const i=s.target,a=Math.max(i.clientWidth,i.clientHeight);n(l=>[...l,{key:Ex(l.length.toString()),size:a,x:s.x-a/2,y:s.y-a/2}])},[]),o=v.useCallback(s=>{n(i=>i.filter(a=>a.key!==s))},[]);return{ripples:e,onClear:o,onPress:r,...t}}function Jw(t){var e,n,r,o,s,i,a,l,d;const c=Gw(),u=Zs(),f=!!c,{ref:p,as:h,children:b,startContent:g,endContent:y,autoFocus:x,className:k,spinner:E,isLoading:S=!1,disableRipple:C=!1,fullWidth:M=(e=c==null?void 0:c.fullWidth)!=null?e:!1,radius:I=c==null?void 0:c.radius,size:D=(n=c==null?void 0:c.size)!=null?n:"md",color:z=(r=c==null?void 0:c.color)!=null?r:"default",variant:$=(o=c==null?void 0:c.variant)!=null?o:"solid",disableAnimation:O=(i=(s=c==null?void 0:c.disableAnimation)!=null?s:u==null?void 0:u.disableAnimation)!=null?i:!1,isDisabled:T=(a=c==null?void 0:c.isDisabled)!=null?a:!1,isIconOnly:A=(l=c==null?void 0:c.isIconOnly)!=null?l:!1,spinnerPlacement:_="start",onPress:w,onClick:L,...j}=t,B=h||"button",F=typeof B=="string",P=ap(p),V=(d=C||(u==null?void 0:u.disableRipple))!=null?d:O,{isFocusVisible:Y,isFocused:X,focusProps:oe}=hh({autoFocus:x}),W=T||S,H=v.useMemo(()=>zw({size:D,color:z,variant:$,radius:I,fullWidth:M,isDisabled:W,isInGroup:f,disableAnimation:O,isIconOnly:A,className:k}),[D,z,$,I,M,W,f,A,O,k]),{onPress:G,onClear:ce,ripples:fe}=Yw(),ge=v.useCallback(st=>{V||W||O||P.current&&G(st)},[V,W,O,P,G]),{buttonProps:$e,isPressed:Re}=Am({elementType:h,isDisabled:W,onPress:cp(w,ge),onClick:L,...j},P),{isHovered:Ne,hoverProps:ot}=cd({isDisabled:W}),_e=v.useCallback((st={})=>({"data-disabled":mt(W),"data-focus":mt(X),"data-pressed":mt(Re),"data-focus-visible":mt(Y),"data-hover":mt(Ne),"data-loading":mt(S),...Wt($e,oe,ot,hp(j,{enabled:F}),hp(st)),className:H}),[S,W,X,Re,F,Y,Ne,$e,oe,ot,j,H]),Je=st=>v.isValidElement(st)?v.cloneElement(st,{"aria-hidden":!0,focusable:!1}):null,Xe=Je(g),q=Je(y),Ot=v.useMemo(()=>({sm:"sm",md:"sm",lg:"md"})[D],[D]),Tt=v.useCallback(()=>({ripples:fe,onClear:ce}),[fe,ce]);return{Component:B,children:b,domRef:P,spinner:E,styles:H,startContent:Xe,endContent:q,isLoading:S,spinnerPlacement:_,spinnerSize:Ot,disableRipple:V,getButtonProps:_e,getRippleProps:Tt,isIconOnly:A}}function Xw(t){var e,n;const[r,o]=Hw(t,Sm.variantKeys),s=Zs(),i=(n=(e=t==null?void 0:t.variant)!=null?e:s==null?void 0:s.spinnerVariant)!=null?n:"default",{children:a,className:l,classNames:d,label:c,...u}=r,f=v.useMemo(()=>Sm({...o}),[Ol(o)]),p=kr(d==null?void 0:d.base,l),h=c||a,b=v.useMemo(()=>h&&typeof h=="string"?h:u["aria-label"]?"":"Loading",[a,h,u["aria-label"]]),g=v.useCallback(()=>({"aria-label":b,className:f.base({class:p}),...u}),[b,f,p,u]);return{label:h,slots:f,classNames:d,variant:i,getSpinnerProps:g}}var Om=Bw((t,e)=>{const{slots:n,classNames:r,label:o,variant:s,getSpinnerProps:i}=Xw({...t});return s==="wave"||s==="dots"?m.jsxs("div",{ref:e,...i(),children:[m.jsx("div",{className:n.wrapper({class:r==null?void 0:r.wrapper}),children:[...new Array(3)].map((a,l)=>m.jsx("i",{className:n.dots({class:r==null?void 0:r.dots}),style:{"--dot-index":l}},`dot-${l}`))}),o&&m.jsx("span",{className:n.label({class:r==null?void 0:r.label}),children:o})]}):s==="simple"?m.jsxs("div",{ref:e,...i(),children:[m.jsxs("svg",{className:n.wrapper({class:r==null?void 0:r.wrapper}),fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:n.circle1({class:r==null?void 0:r.circle1}),cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:n.circle2({class:r==null?void 0:r.circle2}),d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",fill:"currentColor"})]}),o&&m.jsx("span",{className:n.label({class:r==null?void 0:r.label}),children:o})]}):s==="spinner"?m.jsxs("div",{ref:e,...i(),children:[m.jsx("div",{className:n.wrapper({class:r==null?void 0:r.wrapper}),children:[...new Array(12)].map((a,l)=>m.jsx("i",{className:n.spinnerBars({class:r==null?void 0:r.spinnerBars}),style:{"--bar-index":l}},`star-${l}`))}),o&&m.jsx("span",{className:n.label({class:r==null?void 0:r.label}),children:o})]}):m.jsxs("div",{ref:e,...i(),children:[m.jsxs("div",{className:n.wrapper({class:r==null?void 0:r.wrapper}),children:[m.jsx("i",{className:n.circle1({class:r==null?void 0:r.circle1})}),m.jsx("i",{className:n.circle2({class:r==null?void 0:r.circle2})})]}),o&&m.jsx("span",{className:n.label({class:r==null?void 0:r.label}),children:o})]})});Om.displayName="HeroUI.Spinner";var Zw=Om,Im=vd((t,e)=>{const{Component:n,domRef:r,children:o,spinnerSize:s,spinner:i=m.jsx(Zw,{color:"current",size:s}),spinnerPlacement:a,startContent:l,endContent:d,isLoading:c,disableRipple:u,getButtonProps:f,getRippleProps:p,isIconOnly:h}=Jw({...t,ref:e});return m.jsxs(n,{ref:r,...f(),children:[l,c&&a==="start"&&i,c&&h?null:o,c&&a==="end"&&i,d,!u&&m.jsx(qw,{...p()})]})});Im.displayName="HeroUI.Button";var Qw=Im;function Lm(t){let[e,n]=_$(t.isOpen,t.defaultOpen||!1,t.onOpenChange);const r=v.useCallback(()=>{n(!0)},[n]),o=v.useCallback(()=>{n(!1)},[n]),s=v.useCallback(()=>{n(!e)},[n,e]);return{isOpen:e,setOpen:n,open:r,close:o,toggle:s}}const ek=1500,Dm=500;let Nr={},tk=0,rs=!1,In=null,Mr=null;function nk(t={}){let{delay:e=ek,closeDelay:n=Dm}=t,{isOpen:r,open:o,close:s}=Lm(t),i=v.useMemo(()=>`${++tk}`,[]),a=v.useRef(null),l=v.useRef(s),d=()=>{Nr[i]=f},c=()=>{for(let h in Nr)h!==i&&(Nr[h](!0),delete Nr[h])},u=()=>{a.current&&clearTimeout(a.current),a.current=null,c(),d(),rs=!0,o(),In&&(clearTimeout(In),In=null),Mr&&(clearTimeout(Mr),Mr=null)},f=h=>{h||n<=0?(a.current&&clearTimeout(a.current),a.current=null,l.current()):a.current||(a.current=setTimeout(()=>{a.current=null,l.current()},n)),In&&(clearTimeout(In),In=null),rs&&(Mr&&clearTimeout(Mr),Mr=setTimeout(()=>{delete Nr[i],Mr=null,rs=!1},Math.max(Dm,n)))},p=()=>{c(),d(),!r&&!In&&!rs?In=setTimeout(()=>{In=null,rs=!0,u()},e):r||u()};return v.useEffect(()=>{l.current=s},[s]),v.useEffect(()=>()=>{a.current&&clearTimeout(a.current),Nr[i]&&delete Nr[i]},[i]),{isOpen:r,open:h=>{!h&&e>0&&!a.current?p():u()},close:f}}function rk(t,e){let n=jl(t,{labelable:!0}),{hoverProps:r}=cd({onHoverStart:()=>e==null?void 0:e.open(!0),onHoverEnd:()=>e==null?void 0:e.close()});return{tooltipProps:Nn(n,r,{role:"tooltip"})}}function ok(t,e,n){let{isDisabled:r,trigger:o}=t,s=ni(),i=v.useRef(!1),a=v.useRef(!1),l=()=>{(i.current||a.current)&&e.open(a.current)},d=y=>{!i.current&&!a.current&&e.close(y)};v.useEffect(()=>{let y=x=>{n&&n.current&&x.key==="Escape"&&(x.stopPropagation(),e.close(!0))};if(e.isOpen)return document.addEventListener("keydown",y,!0),()=>{document.removeEventListener("keydown",y,!0)}},[n,e]);let c=()=>{o!=="focus"&&(ad()==="pointer"?i.current=!0:i.current=!1,l())},u=()=>{o!=="focus"&&(a.current=!1,i.current=!1,d())},f=()=>{a.current=!1,i.current=!1,d(!0)},p=()=>{id()&&(a.current=!0,l())},h=()=>{a.current=!1,i.current=!1,d(!0)},{hoverProps:b}=cd({isDisabled:r,onHoverStart:c,onHoverEnd:u}),{focusableProps:g}=ah({isDisabled:r,onFocus:p,onBlur:h},n);return{triggerProps:{"aria-describedby":e.isOpen?s:void 0,...Nn(g,b,{onPointerDown:f,onKeyDown:f}),tabIndex:void 0},tooltipProps:{id:s}}}var yn=[];function jm(t,e){const{disableOutsideEvents:n=!0,isDismissable:r=!1,isKeyboardDismissDisabled:o=!1,isOpen:s,onClose:i,shouldCloseOnBlur:a,shouldCloseOnInteractOutside:l}=t;v.useEffect(()=>{if(s&&!yn.includes(e))return yn.push(e),()=>{let g=yn.indexOf(e);g>=0&&yn.splice(g,1)}},[s,e]);const d=()=>{yn[yn.length-1]===e&&i&&i()},c=g=>{(!l||l(g.target))&&(yn[yn.length-1]===e&&n&&(g.stopPropagation(),g.preventDefault()),b(e)!=="pressEnd"&&d())},u=g=>{(!l||l(g.target))&&(yn[yn.length-1]===e&&n&&(g.stopPropagation(),g.preventDefault()),d())},f=g=>{g.key==="Escape"&&!o&&!g.nativeEvent.isComposing&&(g.stopPropagation(),g.preventDefault(),d())};g3({isDisabled:!(r&&s),onInteractOutside:r&&s?u:void 0,onInteractOutsideStart:c,ref:e});const{focusWithinProps:p}=ld({isDisabled:!a,onBlurWithin:g=>{!g.relatedTarget||$3(g.relatedTarget)||(!l||l(g.relatedTarget))&&d()}}),h=g=>{g.target===g.currentTarget&&g.preventDefault()};function b(g){const y=g.current;if(!y)return"unknown";const x=(y.getAttribute("role")||"").toLowerCase(),k=y.getAttribute("aria-modal");return(x==="dialog"||x==="alertdialog")&&(k===null||k.toLowerCase()==="true")?"pressEnd":["listbox","menu","tree","grid","combobox"].includes(x)?"pressStart":"unknown"}return{overlayProps:{onKeyDown:f,...p},underlayProps:{onPointerDown:h}}}function sk(t){var e,n;const r=Zs(),[o,s]=rm(t,Ni.variantKeys),{ref:i,as:a,isOpen:l,content:d,children:c,defaultOpen:u,onOpenChange:f,isDisabled:p,trigger:h,shouldFlip:b=!0,containerPadding:g=12,placement:y="top",delay:x=0,closeDelay:k=500,showArrow:E=!1,offset:S=7,crossOffset:C=0,isDismissable:M,shouldCloseOnBlur:I=!0,portalContainer:D,isKeyboardDismissDisabled:z=!1,updatePositionDeps:$=[],shouldCloseOnInteractOutside:O,className:T,onClose:A,motionProps:_,classNames:w,...L}=o,j=a||"div",B=(n=(e=t==null?void 0:t.disableAnimation)!=null?e:r==null?void 0:r.disableAnimation)!=null?n:!1,F=nk({delay:x,closeDelay:k,isDisabled:p,defaultOpen:u,isOpen:l,onOpenChange:_e=>{f==null||f(_e),_e||A==null||A()}}),P=v.useRef(null),V=v.useRef(null),Y=v.useId(),X=F.isOpen&&!p;v.useImperativeHandle(i,()=>kx(V));const{triggerProps:oe,tooltipProps:W}=ok({isDisabled:p,trigger:h},F,P),{tooltipProps:H}=rk({isOpen:X,...Wt(o,W)},F),{overlayProps:G,placement:ce,updatePosition:fe}=Bp({isOpen:X,targetRef:P,placement:Nm(y),overlayRef:V,offset:E?S+3:S,crossOffset:C,shouldFlip:b,containerPadding:g});Mm(()=>{$.length&&fe()},$);const{overlayProps:ge}=jm({isOpen:X,onClose:F.close,isDismissable:M,shouldCloseOnBlur:I,isKeyboardDismissDisabled:z,shouldCloseOnInteractOutside:O},V),$e=v.useMemo(()=>{var _e,Je,Xe;return Ni({...s,disableAnimation:B,radius:(_e=t==null?void 0:t.radius)!=null?_e:"md",size:(Je=t==null?void 0:t.size)!=null?Je:"md",shadow:(Xe=t==null?void 0:t.shadow)!=null?Xe:"sm"})},[Ol(s),B,t==null?void 0:t.radius,t==null?void 0:t.size,t==null?void 0:t.shadow]),Re=v.useCallback((_e={},Je=null)=>({...Wt(oe,_e),ref:Px(Je,P),"aria-describedby":X?Y:void 0}),[oe,X,Y,F]),Ne=v.useCallback(()=>({ref:V,"data-slot":"base","data-open":mt(X),"data-arrow":mt(E),"data-disabled":mt(p),"data-placement":Mi(ce||"top",y),...Wt(H,ge,L),style:Wt(G.style,L.style,o.style),className:$e.base({class:w==null?void 0:w.base}),id:Y}),[$e,X,E,p,ce,y,H,ge,L,G,o,Y]),ot=v.useCallback(()=>({"data-slot":"content","data-open":mt(X),"data-arrow":mt(E),"data-disabled":mt(p),"data-placement":Mi(ce||"top",y),className:$e.content({class:kr(w==null?void 0:w.content,T)})}),[$e,X,E,p,ce,y,w]);return{Component:j,content:d,children:c,isOpen:X,triggerRef:P,showArrow:E,portalContainer:D,placement:y,disableAnimation:B,isDisabled:p,motionProps:_,getTooltipContentProps:ot,getTriggerProps:Re,getTooltipProps:Ne}}var ik=()=>Promise.resolve().then(()=>mf).then(t=>t.default),Rm=vd((t,e)=>{var n;const{Component:r,children:o,content:s,isOpen:i,portalContainer:a,placement:l,disableAnimation:d,motionProps:c,getTriggerProps:u,getTooltipProps:f,getTooltipContentProps:p}=sk({...t,ref:e});let h;try{if(v.Children.count(o)!==1)throw new Error;if(!v.isValidElement(o))h=m.jsx("p",{...u(),children:o});else{const S=o,C=(n=S.props.ref)!=null?n:S.ref;h=v.cloneElement(S,u(S.props,C))}}catch{h=m.jsx("span",{}),Tx("Tooltip must have only one child node. Please, check your code.")}const{ref:b,id:g,style:y,...x}=f(),k=m.jsx("div",{ref:b,id:g,style:y,children:m.jsx(Rt.m.div,{animate:"enter",exit:"exit",initial:"exit",variants:Ad.scaleSpring,...Wt(c,x),style:{...Tm(l)},children:m.jsx(r,{...p(),children:s})},`${g}-tooltip-inner`)},`${g}-tooltip-content`);return m.jsxs(m.Fragment,{children:[h,d?i&&m.jsx(yh,{portalContainer:a,children:m.jsx("div",{ref:b,id:g,style:y,...x,children:m.jsx(r,{...p(),children:s})})}):m.jsx(Rt.LazyMotion,{features:ik,children:m.jsx(Rt.AnimatePresence,{children:i&&m.jsx(yh,{portalContainer:a,children:k})})})]})});Rm.displayName="HeroUI.Tooltip";var ak=Rm;function lk(t,e){const{groupRef:n,triggerRef:r,popoverRef:o,showArrow:s,offset:i=7,crossOffset:a=0,scrollRef:l,shouldFlip:d,boundaryElement:c,isDismissable:u=!0,shouldCloseOnBlur:f=!0,shouldCloseOnScroll:p=!0,placement:h="top",containerPadding:b,shouldCloseOnInteractOutside:g,isNonModal:y,isKeyboardDismissDisabled:x,updatePositionDeps:k=[],...E}=t,S=y??!0,C=E.trigger==="SubmenuTrigger",{overlayProps:M,underlayProps:I}=jm({isOpen:e.isOpen,onClose:e.close,shouldCloseOnBlur:f,isDismissable:u||C,isKeyboardDismissDisabled:x,shouldCloseOnInteractOutside:g||(A=>{var _;return!((_=r.current)!=null&&_.contains(A))}),disableOutsideEvents:!S},o),{overlayProps:D,arrowProps:z,placement:$,updatePosition:O,triggerAnchorPoint:T}=Bp({...E,shouldFlip:d,crossOffset:a,targetRef:r,overlayRef:o,isOpen:e.isOpen,scrollRef:l,boundaryElement:c,containerPadding:b,placement:Nm(h),offset:s?i+3:i,onClose:S&&!C&&p?e.close:()=>{}});return Mm(()=>{k.length&&O()},k),v.useEffect(()=>{var A,_;if(e.isOpen&&o.current)return S?Uw((A=n==null?void 0:n.current)!=null?A:o.current):Ww([(_=n==null?void 0:n.current)!=null?_:o.current])},[S,e.isOpen,o,n]),{popoverProps:Wt(M,D),arrowProps:z,underlayProps:I,placement:$,triggerAnchorPoint:T}}var dk="top";function ck(t){var e,n,r;const o=Zs(),[s,i]=rm(t,Ni.variantKeys),{as:a,ref:l,children:d,state:c,triggerRef:u,scrollRef:f,defaultOpen:p,onOpenChange:h,isOpen:b,isNonModal:g=!0,shouldFlip:y=!0,containerPadding:x=12,shouldBlockScroll:k=!1,isDismissable:E=!0,shouldCloseOnBlur:S,portalContainer:C,updatePositionDeps:M,dialogProps:I,placement:D=dk,triggerType:z="dialog",showArrow:$=!1,offset:O=7,crossOffset:T=0,boundaryElement:A,isKeyboardDismissDisabled:_,shouldCloseOnInteractOutside:w,shouldCloseOnScroll:L,triggerAnchorPoint:j,motionProps:B,className:F,classNames:P,onClose:V,...Y}=s,X=a||"div",oe=ap(l),W=v.useRef(null),H=v.useRef(!1),G=u||W,ce=(n=(e=t.disableAnimation)!=null?e:o==null?void 0:o.disableAnimation)!=null?n:!1,fe=Lm({isOpen:b,defaultOpen:p,onOpenChange:R=>{h==null||h(R),R||V==null||V()}}),ge=c||fe,{popoverProps:$e,underlayProps:Re,placement:Ne}=lk({triggerRef:G,isNonModal:g,popoverRef:oe,placement:D,offset:O,scrollRef:f,isDismissable:E,shouldCloseOnBlur:S,boundaryElement:A,crossOffset:T,shouldFlip:y,containerPadding:x,updatePositionDeps:M,isKeyboardDismissDisabled:_,shouldCloseOnScroll:L,shouldCloseOnInteractOutside:w,triggerAnchorPoint:j},ge),ot=v.useMemo(()=>Ne?Vw(Ne,D)?Ne:D:null,[Ne,D]),{triggerProps:_e}=E3({type:z},ge,G),{isFocusVisible:Je,isFocused:Xe,focusProps:q}=hh(),Ot=v.useMemo(()=>Ni({...i}),[Ol(i)]),Tt=kr(P==null?void 0:P.base,F),st={"--trigger-anchor-point":j?`${j.x}px ${j.y}px`:void 0};C3({isDisabled:!(k&&ge.isOpen)});const fn=(R={})=>({ref:oe,...Wt($e,Y,R),style:Wt($e.style,Y.style,R.style)}),pn=(R={})=>({"data-slot":"base","data-open":mt(ge.isOpen),"data-focus":mt(Xe),"data-arrow":mt($),"data-focus-visible":mt(Je),"data-placement":Ne?Mi(Ne,D):void 0,...Wt(q,I,R),className:Ot.base({class:kr(Tt)}),style:{outline:"none",...st}}),ae=v.useCallback((R={})=>({"data-slot":"content","data-open":mt(ge.isOpen),"data-arrow":mt($),"data-placement":Ne?Mi(Ne,D):void 0,className:Ot.content({class:kr(P==null?void 0:P.content,R.className)})}),[Ot,ge.isOpen,$,ot,D,P,Ne]),Me=v.useCallback(R=>{var ee;let ne;return R.pointerType==="touch"&&((t==null?void 0:t.backdrop)==="blur"||(t==null?void 0:t.backdrop)==="opaque")?ne=setTimeout(()=>{H.current=!0},100):H.current=!0,(ee=_e.onPress)==null||ee.call(_e,R),()=>{clearTimeout(ne)}},[_e==null?void 0:_e.onPress]),J=v.useCallback((R={},ee=null)=>{const{isDisabled:ne,...he}=R;return{"data-slot":"trigger",...Wt({"aria-haspopup":"dialog"},_e,he),onPress:Me,isDisabled:ne,className:Ot.trigger({class:kr(P==null?void 0:P.trigger,R.className),isTriggerDisabled:ne}),ref:Mx(ee,G)}},[ge,_e,Me,G]),re=v.useCallback((R={})=>({"data-slot":"backdrop",className:Ot.backdrop({class:P==null?void 0:P.backdrop}),onClick:ee=>{if(!H.current){ee.preventDefault();return}ge.close(),H.current=!1},...Re,...R}),[Ot,ge.isOpen,P,Re]);return{state:ge,Component:X,children:d,classNames:P,showArrow:$,triggerRef:G,placement:ot,isNonModal:g,popoverRef:oe,portalContainer:C,isOpen:ge.isOpen,onClose:ge.close,disableAnimation:ce,shouldBlockScroll:k,backdrop:(r=t.backdrop)!=null?r:"transparent",motionProps:B,getBackdropProps:re,getPopoverProps:fn,getTriggerProps:J,getDialogProps:pn,getContentProps:ae}}function uk(t,e){let{role:n="dialog"}=t,r=u$();r=t["aria-label"]?void 0:r;let o=v.useRef(!1);return v.useEffect(()=>{if(e.current&&!e.current.contains(document.activeElement)){mi(e.current);let s=setTimeout(()=>{(document.activeElement===e.current||document.activeElement===document.body)&&(o.current=!0,e.current&&(e.current.blur(),mi(e.current)),o.current=!1)},500);return()=>{clearTimeout(s)}}},[e]),_3(),{dialogProps:{...jl(t,{labelable:!0}),role:n,tabIndex:-1,"aria-labelledby":t["aria-labelledby"]||r,onBlur:s=>{o.current&&s.stopPropagation()}},titleProps:{id:r}}}var[fk,_m]=Pl({name:"PopoverContext",errorMessage:"usePopoverContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Popover />`"}),Fm=()=>Promise.resolve().then(()=>mf).then(t=>t.default),zm=t=>{const{as:e,children:n,className:r,...o}=t,{Component:s,placement:i,backdrop:a,motionProps:l,disableAnimation:d,getPopoverProps:c,getDialogProps:u,getBackdropProps:f,getContentProps:p,isNonModal:h,onClose:b}=_m(),g=v.useRef(null),{dialogProps:y,titleProps:x}=uk({},g),k=u({ref:g,...y,...o}),E=e||s||"div",S=n&&m.jsxs(m.Fragment,{children:[!h&&m.jsx(tm,{onDismiss:b}),m.jsx(E,{...k,children:m.jsx("div",{...p({className:r}),children:typeof n=="function"?n(x):n})}),m.jsx(tm,{onDismiss:b})]}),C=v.useMemo(()=>a==="transparent"?null:d?m.jsx("div",{...f()}):m.jsx(Rt.LazyMotion,{features:Fm,children:m.jsx(Rt.m.div,{animate:"enter",exit:"exit",initial:"exit",variants:Ad.fade,...f()})}),[a,d,f]),M=i?Tm(i==="center"?"top":i):void 0,I=m.jsx(m.Fragment,{children:d?S:m.jsx(Rt.LazyMotion,{features:Fm,children:m.jsx(Rt.m.div,{animate:"enter",exit:"exit",initial:"initial",style:M,variants:Ad.scaleSpringOpacity,...l,children:S})})});return m.jsxs("div",{...c(),children:[C,I]})};zm.displayName="HeroUI.PopoverContent";var pk=zm,Bm=t=>{var e;const{triggerRef:n,getTriggerProps:r}=_m(),{children:o,...s}=t,i=v.useMemo(()=>typeof o=="string"?m.jsx("p",{children:o}):v.Children.only(o),[o]),a=(e=i.props.ref)!=null?e:i.ref,{onPress:l,isDisabled:d,...c}=v.useMemo(()=>r(Wt(s,i.props),a),[r,i.props,s,a]),[,u]=Ox(o,Qw),{buttonProps:f}=Am({onPress:l,isDisabled:d},n),p=v.useMemo(()=>(u==null?void 0:u[0])!==void 0,[u]);return p||delete c.preventFocusOnPress,v.cloneElement(i,Wt(c,p?{onPress:l,isDisabled:d}:f))};Bm.displayName="HeroUI.PopoverTrigger";var hk=Bm,Hm=vd((t,e)=>{const{children:n,...r}=t,o=ck({...r,ref:e}),[s,i]=v.Children.toArray(n),a=m.jsx(R3,{portalContainer:o.portalContainer,children:i});return m.jsxs(fk,{value:o,children:[s,o.disableAnimation&&o.isOpen?a:m.jsx(Rt.AnimatePresence,{children:o.isOpen?a:null})]})});Hm.displayName="HeroUI.Popover";var mk=Hm,Pd={exports:{}},Od={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vm;function gk(){if(Vm)return Od;Vm=1;var t=v;function e(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,o=t.useEffect,s=t.useLayoutEffect,i=t.useDebugValue;function a(u,f){var p=f(),h=r({inst:{value:p,getSnapshot:f}}),b=h[0].inst,g=h[1];return s(function(){b.value=p,b.getSnapshot=f,l(b)&&g({inst:b})},[u,p,f]),o(function(){return l(b)&&g({inst:b}),u(function(){l(b)&&g({inst:b})})},[u]),i(p),p}function l(u){var f=u.getSnapshot;u=u.value;try{var p=f();return!n(u,p)}catch{return!0}}function d(u,f){return f()}var c=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:a;return Od.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:c,Od}var Id={};/**
 * @license React
 * use-sync-external-store-shim.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wm;function bk(){return Wm||(Wm=1,process.env.NODE_ENV!=="production"&&function(){function t(p,h){return p===h&&(p!==0||1/p===1/h)||p!==p&&h!==h}function e(p,h){c||o.startTransition===void 0||(c=!0,console.error("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));var b=h();if(!u){var g=h();s(b,g)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),u=!0)}g=i({inst:{value:b,getSnapshot:h}});var y=g[0].inst,x=g[1];return l(function(){y.value=b,y.getSnapshot=h,n(y)&&x({inst:y})},[p,b,h]),a(function(){return n(y)&&x({inst:y}),p(function(){n(y)&&x({inst:y})})},[p]),d(b),b}function n(p){var h=p.getSnapshot;p=p.value;try{var b=h();return!s(p,b)}catch{return!0}}function r(p,h){return h()}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var o=v,s=typeof Object.is=="function"?Object.is:t,i=o.useState,a=o.useEffect,l=o.useLayoutEffect,d=o.useDebugValue,c=!1,u=!1,f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?r:e;Id.useSyncExternalStore=o.useSyncExternalStore!==void 0?o.useSyncExternalStore:f,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}()),Id}process.env.NODE_ENV==="production"?Pd.exports=gk():Pd.exports=bk();var Ai=Pd.exports;const yk=ft("border bg-popover text-popover-foreground",{variants:{variant:{default:"border-border shadow-sm",elevated:"border-border shadow-lg",outline:"border-border bg-transparent",ghost:"border-transparent bg-transparent"},color:{primary:"border-primary bg-primary text-primary-foreground",secondary:"border-secondary bg-secondary text-secondary-foreground",success:"border-success bg-success text-success-foreground",warning:"border-warning bg-warning text-warning-foreground",danger:"border-danger bg-danger text-danger-foreground",info:"border-blue-500 bg-blue-500 text-white",neutral:"border-gray-500 bg-gray-500 text-white",light:"border-gray-200 bg-white text-gray-900",custom:""},shadow:{none:"",sm:"shadow-sm",md:"shadow-md",lg:"shadow-lg",xl:"shadow-xl"},rounded:{none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",xl:"rounded-xl","2xl":"rounded-2xl","3xl":"rounded-3xl",full:"rounded-full"}},defaultVariants:{variant:"default",color:"light",shadow:"md",rounded:"lg"}}),Um=({content:t,children:e,placement:n="top",showArrow:r=!0,variant:o="default",color:s="light",customColor:i,rounded:a="lg",shadow:l="md",className:d,isOpen:c,onOpenChange:u,isDisabled:f=!1,delay:p,closeDelay:h=0,offset:b=6,trigger:g="hover",shouldCloseOnScroll:y=!0,portalContainer:x=typeof document<"u"?document.body:void 0,zIndex:k=50,contentZIndex:E})=>{const S=()=>{switch(s){case"primary":return"primary";case"secondary":return"secondary";case"success":return"success";case"warning":return"warning";case"danger":return"danger";case"info":case"neutral":case"light":case"custom":default:return"default"}},M=s==="custom"&&i?{backgroundColor:i,color:"#ffffff"}:{info:"bg-blue-500 text-white border-blue-500",neutral:"bg-gray-500 text-white border-gray-500",light:"bg-white text-gray-900 border-gray-200"}[s]||"",I=S(),D=E!==void 0?E:k,z={content:t,placement:n,showArrow:r,color:I,radius:a,shadow:l,isOpen:c,onOpenChange:u,isDisabled:f,delay:p,closeDelay:h,offset:b,trigger:g,shouldCloseOnScroll:y,portalContainer:x,style:{zIndex:k}};return Object.keys(z).forEach($=>{z[$]===void 0&&delete z[$]}),m.jsx(ak,{...z,classNames:{content:U(yk({variant:o,color:s,shadow:l,rounded:a}),d,M,s==="custom"&&i?"border-0":"")},content:m.jsx("div",{style:{zIndex:D,...s==="custom"&&i?{backgroundColor:i,color:"#ffffff"}:{}},children:t}),children:e})},vk=ft("relative overflow-hidden",{variants:{variant:{bar:"w-full bg-neutral-100",circular:"inline-block"},color:{primary:"text-primary",secondary:"text-secondary",success:"text-success",warning:"text-warning",danger:"text-danger",info:"text-info"},size:{sm:"h-1",md:"h-2",lg:"h-3"}},defaultVariants:{variant:"bar",color:"primary",size:"md"}}),xk={sm:24,md:36,lg:48},$k={primary:"bg-primary",secondary:"bg-secondary",success:"bg-success",warning:"bg-warning",danger:"bg-danger",info:"bg-info"},wk={primary:"#007C99",secondary:"#CEEAE7",success:"#00B37D",warning:"#F59E0B",danger:"#EF4444",info:"#0EA5E9"},Gm=v.forwardRef(({className:t,variant:e="bar",color:n="primary",size:r="md",value:o=0,isIndeterminate:s=!1,showValue:i=!1,label:a,rounded:l="full",icon:d,indicator:c,indicatorPosition:u="on",indicatorSize:f,hideIndicatorOnMax:p=!0,...h},b)=>{const g=Math.min(Math.max(o,0),100),y=xk[r],x=r==="sm"?2:r==="md"?3:4,k=(y-x)/2,E=2*Math.PI*k,S=E-g/100*E,M=f||(r==="sm"?16:r==="md"?20:24);let I="";if(e==="loading"?I="rounded-full":l?I=l==="none"?"":`rounded-${l}`:I="rounded-md",e==="circular")return m.jsxs("div",{className:"inline-flex flex-col items-center gap-2",children:[m.jsxs("div",{className:"relative",style:{width:y,height:y},children:[m.jsxs("svg",{className:U("transform -rotate-90",s?"animate-spin":""),width:y,height:y,children:[m.jsx("circle",{strokeWidth:x,stroke:"#e5e7eb",fill:"transparent",r:k,cx:y/2,cy:y/2}),m.jsx("circle",{className:U("transition-all duration-300 ease-in-out",s?"animate-dash":""),strokeWidth:x,strokeDasharray:E,strokeDashoffset:s?0:S,strokeLinecap:"round",stroke:wk[n],fill:"transparent",r:k,cx:y/2,cy:y/2})]}),d&&m.jsx("span",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:m.jsx(xe,{icon:d,size:y*.5})}),i&&!s&&!d&&m.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-medium",children:[Math.round(g),"%"]})]}),a&&m.jsx("span",{className:"text-sm text-neutral-600",children:a})]});const D=()=>{if(!c||p&&g>=100)return null;const $=typeof c=="string"?m.jsx(xe,{icon:c,size:M}):c,O={position:"absolute",left:`${g}%`,transition:"left 300ms cubic-bezier(0.4, 0, 0.2, 1)",pointerEvents:"none",zIndex:10};return u==="above"?(O.bottom="100%",O.marginBottom="6px",O.transform="translateX(-50%)"):(O.top="50%",O.transform="translate(-50%, -50%)"),m.jsx("div",{style:O,className:"flex items-center justify-center",children:$})};return m.jsxs("div",{className:"flex flex-col gap-1",children:[m.jsxs("div",{className:U("relative",c&&u==="above"&&"pb-8"),children:[c&&u==="above"&&!s&&D(),m.jsxs("div",{ref:b,className:U(vk({variant:e==="loading"?"bar":e,size:r}),I,c&&u==="on"&&"relative overflow-visible",t),role:"progressbar","aria-valuenow":s?void 0:g,"aria-valuemin":0,"aria-valuemax":100,...h,children:[c&&u==="on"&&!s&&D(),m.jsx("div",{className:U("h-full",s?"animate-progress-indeterminate":"",$k[n],I),style:{width:s?"100%":`${g}%`,transition:s?"none":"width 300ms cubic-bezier(0.4, 0, 0.2, 1)"}})]})]}),(i||a)&&m.jsxs("div",{className:"flex justify-between text-xs text-neutral-600",children:[a&&m.jsx("span",{children:a}),i&&!s&&m.jsxs("span",{children:[Math.round(g),"%"]})]})]})});Gm.displayName="Progress";const Ln=[{name:"Afghanistan",code:"+93",iso:"af",flag:"flagpack:af"},{name:"Albania",code:"+355",iso:"al",flag:"flagpack:al"},{name:"Algeria",code:"+213",iso:"dz",flag:"flagpack:dz"},{name:"American Samoa",code:"+1684",iso:"as",flag:"flagpack:as"},{name:"Andorra",code:"+376",iso:"ad",flag:"flagpack:ad"},{name:"Angola",code:"+244",iso:"ao",flag:"flagpack:ao"},{name:"Anguilla",code:"+1264",iso:"ai",flag:"flagpack:ai"},{name:"Antarctica",code:"+672",iso:"aq",flag:"flagpack:aq"},{name:"Antigua and Barbuda",code:"+1268",iso:"ag",flag:"flagpack:ag"},{name:"Argentina",code:"+54",iso:"ar",flag:"flagpack:ar"},{name:"Armenia",code:"+374",iso:"am",flag:"flagpack:am"},{name:"Aruba",code:"+297",iso:"aw",flag:"flagpack:aw"},{name:"Australia",code:"+61",iso:"au",flag:"flagpack:au"},{name:"Austria",code:"+43",iso:"at",flag:"flagpack:at"},{name:"Azerbaijan",code:"+994",iso:"az",flag:"flagpack:az"},{name:"Bahamas",code:"+1242",iso:"bs",flag:"flagpack:bs"},{name:"Bahrain",code:"+973",iso:"bh",flag:"flagpack:bh"},{name:"Bangladesh",code:"+880",iso:"bd",flag:"flagpack:bd"},{name:"Barbados",code:"+1246",iso:"bb",flag:"flagpack:bb"},{name:"Belarus",code:"+375",iso:"by",flag:"flagpack:by"},{name:"Belgium",code:"+32",iso:"be",flag:"flagpack:be"},{name:"Belize",code:"+501",iso:"bz",flag:"flagpack:bz"},{name:"Benin",code:"+229",iso:"bj",flag:"flagpack:bj"},{name:"Bermuda",code:"+1441",iso:"bm",flag:"flagpack:bm"},{name:"Bhutan",code:"+975",iso:"bt",flag:"flagpack:bt"},{name:"Bolivia",code:"+591",iso:"bo",flag:"flagpack:bo"},{name:"Bosnia and Herzegovina",code:"+387",iso:"ba",flag:"flagpack:ba"},{name:"Botswana",code:"+267",iso:"bw",flag:"flagpack:bw"},{name:"Brazil",code:"+55",iso:"br",flag:"flagpack:br"},{name:"British Indian Ocean Territory",code:"+246",iso:"io",flag:"flagpack:io"},{name:"British Virgin Islands",code:"+1284",iso:"vg",flag:"flagpack:vg"},{name:"Brunei",code:"+673",iso:"bn",flag:"flagpack:bn"},{name:"Bulgaria",code:"+359",iso:"bg",flag:"flagpack:bg"},{name:"Burkina Faso",code:"+226",iso:"bf",flag:"flagpack:bf"},{name:"Burundi",code:"+257",iso:"bi",flag:"flagpack:bi"},{name:"Cambodia",code:"+855",iso:"kh",flag:"flagpack:kh"},{name:"Cameroon",code:"+237",iso:"cm",flag:"flagpack:cm"},{name:"Cape Verde",code:"+238",iso:"cv",flag:"flagpack:cv"},{name:"Cayman Islands",code:"+1345",iso:"ky",flag:"flagpack:ky"},{name:"Central African Republic",code:"+236",iso:"cf",flag:"flagpack:cf"},{name:"Chad",code:"+235",iso:"td",flag:"flagpack:td"},{name:"Chile",code:"+56",iso:"cl",flag:"flagpack:cl"},{name:"China",code:"+86",iso:"cn",flag:"flagpack:cn"},{name:"Christmas Island",code:"+61",iso:"cx",flag:"flagpack:cx"},{name:"Cocos Islands",code:"+61",iso:"cc",flag:"flagpack:cc"},{name:"Colombia",code:"+57",iso:"co",flag:"flagpack:co"},{name:"Comoros",code:"+269",iso:"km",flag:"flagpack:km"},{name:"Cook Islands",code:"+682",iso:"ck",flag:"flagpack:ck"},{name:"Costa Rica",code:"+506",iso:"cr",flag:"flagpack:cr"},{name:"Croatia",code:"+385",iso:"hr",flag:"flagpack:hr"},{name:"Cuba",code:"+53",iso:"cu",flag:"flagpack:cu"},{name:"Curacao",code:"+599",iso:"cw",flag:"flagpack:cw"},{name:"Cyprus",code:"+357",iso:"cy",flag:"flagpack:cy"},{name:"Czech Republic",code:"+420",iso:"cz",flag:"flagpack:cz"},{name:"Democratic Republic of the Congo",code:"+243",iso:"cd",flag:"flagpack:cd"},{name:"Denmark",code:"+45",iso:"dk",flag:"flagpack:dk"},{name:"Djibouti",code:"+253",iso:"dj",flag:"flagpack:dj"},{name:"Dominica",code:"+1767",iso:"dm",flag:"flagpack:dm"},{name:"Dominican Republic",code:"+1809",iso:"do",flag:"flagpack:do"},{name:"East Timor",code:"+670",iso:"tl",flag:"flagpack:tl"},{name:"Ecuador",code:"+593",iso:"ec",flag:"flagpack:ec"},{name:"Egypt",code:"+20",iso:"eg",flag:"flagpack:eg"},{name:"El Salvador",code:"+503",iso:"sv",flag:"flagpack:sv"},{name:"Equatorial Guinea",code:"+240",iso:"gq",flag:"flagpack:gq"},{name:"Eritrea",code:"+291",iso:"er",flag:"flagpack:er"},{name:"Estonia",code:"+372",iso:"ee",flag:"flagpack:ee"},{name:"Ethiopia",code:"+251",iso:"et",flag:"flagpack:et"},{name:"Falkland Islands",code:"+500",iso:"fk",flag:"flagpack:fk"},{name:"Faroe Islands",code:"+298",iso:"fo",flag:"flagpack:fo"},{name:"Fiji",code:"+679",iso:"fj",flag:"flagpack:fj"},{name:"Finland",code:"+358",iso:"fi",flag:"flagpack:fi"},{name:"France",code:"+33",iso:"fr",flag:"flagpack:fr"},{name:"French Polynesia",code:"+689",iso:"pf",flag:"flagpack:pf"},{name:"Gabon",code:"+241",iso:"ga",flag:"flagpack:ga"},{name:"Gambia",code:"+220",iso:"gm",flag:"flagpack:gm"},{name:"Georgia",code:"+995",iso:"ge",flag:"flagpack:ge"},{name:"Germany",code:"+49",iso:"de",flag:"flagpack:de"},{name:"Ghana",code:"+233",iso:"gh",flag:"flagpack:gh"},{name:"Gibraltar",code:"+350",iso:"gi",flag:"flagpack:gi"},{name:"Greece",code:"+30",iso:"gr",flag:"flagpack:gr"},{name:"Greenland",code:"+299",iso:"gl",flag:"flagpack:gl"},{name:"Grenada",code:"+1473",iso:"gd",flag:"flagpack:gd"},{name:"Guam",code:"+1671",iso:"gu",flag:"flagpack:gu"},{name:"Guatemala",code:"+502",iso:"gt",flag:"flagpack:gt"},{name:"Guernsey",code:"+441481",iso:"gg",flag:"flagpack:gg"},{name:"Guinea",code:"+224",iso:"gn",flag:"flagpack:gn"},{name:"GuineaBissau",code:"+245",iso:"gw",flag:"flagpack:gw"},{name:"Guyana",code:"+592",iso:"gy",flag:"flagpack:gy"},{name:"Haiti",code:"+509",iso:"ht",flag:"flagpack:ht"},{name:"Honduras",code:"+504",iso:"hn",flag:"flagpack:hn"},{name:"Hong Kong",code:"+852",iso:"hk",flag:"flagpack:hk"},{name:"Hungary",code:"+36",iso:"hu",flag:"flagpack:hu"},{name:"Iceland",code:"+354",iso:"is",flag:"flagpack:is"},{name:"India",code:"+91",iso:"in",flag:"flagpack:in"},{name:"Indonesia",code:"+62",iso:"id",flag:"flagpack:id"},{name:"Iran",code:"+98",iso:"ir",flag:"flagpack:ir"},{name:"Iraq",code:"+964",iso:"iq",flag:"flagpack:iq"},{name:"Ireland",code:"+353",iso:"ie",flag:"flagpack:ie"},{name:"Isle of Man",code:"+441624",iso:"im",flag:"flagpack:im"},{name:"Israel",code:"+972",iso:"il",flag:"flagpack:il"},{name:"Italy",code:"+39",iso:"it",flag:"flagpack:it"},{name:"Ivory Coast",code:"+225",iso:"ci",flag:"flagpack:ci"},{name:"Jamaica",code:"+1876",iso:"jm",flag:"flagpack:jm"},{name:"Japan",code:"+81",iso:"jp",flag:"flagpack:jp"},{name:"Jersey",code:"+441534",iso:"je",flag:"flagpack:je"},{name:"Jordan",code:"+962",iso:"jo",flag:"flagpack:jo"},{name:"Kazakhstan",code:"+7",iso:"kz",flag:"flagpack:kz"},{name:"Kenya",code:"+254",iso:"ke",flag:"flagpack:ke"},{name:"Kiribati",code:"+686",iso:"ki",flag:"flagpack:ki"},{name:"Kosovo",code:"+383",iso:"xk",flag:"flagpack:xk"},{name:"Kuwait",code:"+965",iso:"kw",flag:"flagpack:kw"},{name:"Kyrgyzstan",code:"+996",iso:"kg",flag:"flagpack:kg"},{name:"Laos",code:"+856",iso:"la",flag:"flagpack:la"},{name:"Latvia",code:"+371",iso:"lv",flag:"flagpack:lv"},{name:"Lebanon",code:"+961",iso:"lb",flag:"flagpack:lb"},{name:"Lesotho",code:"+266",iso:"ls",flag:"flagpack:ls"},{name:"Liberia",code:"+231",iso:"lr",flag:"flagpack:lr"},{name:"Libya",code:"+218",iso:"ly",flag:"flagpack:ly"},{name:"Liechtenstein",code:"+423",iso:"li",flag:"flagpack:li"},{name:"Lithuania",code:"+370",iso:"lv",flag:"flagpack:lv"},{name:"Luxembourg",code:"+352",iso:"lu",flag:"flagpack:lu"},{name:"Macao",code:"+853",iso:"mo",flag:"flagpack:mo"},{name:"Macedonia",code:"+389",iso:"mk",flag:"flagpack:mk"},{name:"Madagascar",code:"+261",iso:"mg",flag:"flagpack:mg"},{name:"Malawi",code:"+265",iso:"mw",flag:"flagpack:mw"},{name:"Malaysia",code:"+60",iso:"my",flag:"flagpack:my"},{name:"Maldives",code:"+960",iso:"mv",flag:"flagpack:mv"},{name:"Mali",code:"+223",iso:"ml",flag:"flagpack:ml"},{name:"Malta",code:"+356",iso:"mt",flag:"flagpack:mt"},{name:"Marshall Islands",code:"+692",iso:"mh",flag:"flagpack:mh"},{name:"Mauritania",code:"+222",iso:"mr",flag:"flagpack:mr"},{name:"Mauritius",code:"+230",iso:"mu",flag:"flagpack:mu"},{name:"Mayotte",code:"+262",iso:"yt",flag:"flagpack:yt"},{name:"Mexico",code:"+52",iso:"mx",flag:"flagpack:mx"},{name:"Micronesia",code:"+691",iso:"fm",flag:"flagpack:fm"},{name:"Moldova",code:"+373",iso:"md",flag:"flagpack:md"},{name:"Monaco",code:"+377",iso:"mc",flag:"flagpack:mc"},{name:"Mongolia",code:"+976",iso:"mn",flag:"flagpack:mn"},{name:"Montenegro",code:"+382",iso:"me",flag:"flagpack:me"},{name:"Montserrat",code:"+1664",iso:"ms",flag:"flagpack:ms"},{name:"Morocco",code:"+212",iso:"ma",flag:"flagpack:ma"},{name:"Mozambique",code:"+258",iso:"mz",flag:"flagpack:mz"},{name:"Myanmar",code:"+95",iso:"mm",flag:"flagpack:mm"},{name:"Namibia",code:"+264",iso:"na",flag:"flagpack:na"},{name:"Nauru",code:"+674",iso:"nr",flag:"flagpack:nr"},{name:"Nepal",code:"+977",iso:"np",flag:"flagpack:np"},{name:"Netherlands",code:"+31",iso:"nl",flag:"flagpack:nl"},{name:"Netherlands Antilles",code:"+599",iso:"an",flag:"flagpack:an"},{name:"New Caledonia",code:"+687",iso:"nc",flag:"flagpack:nc"},{name:"New Zealand",code:"+64",iso:"nz",flag:"flagpack:nz"},{name:"Nicaragua",code:"+505",iso:"ni",flag:"flagpack:ni"},{name:"Niger",code:"+227",iso:"ne",flag:"flagpack:ne"},{name:"Nigeria",code:"+234",iso:"ng",flag:"flagpack:ng"},{name:"Niue",code:"+683",iso:"nu",flag:"flagpack:nu"},{name:"North Korea",code:"+850",iso:"kp",flag:"flagpack:kp"},{name:"Northern Mariana Islands",code:"+1670",iso:"mp",flag:"flagpack:mp"},{name:"Norway",code:"+47",iso:"no",flag:"flagpack:no"},{name:"Oman",code:"+968",iso:"om",flag:"flagpack:om"},{name:"Pakistan",code:"+92",iso:"pk",flag:"flagpack:pk"},{name:"Palau",code:"+680",iso:"pw",flag:"flagpack:pw"},{name:"Palestine",code:"+970",iso:"ps",flag:"flagpack:ps"},{name:"Panama",code:"+507",iso:"pa",flag:"flagpack:pa"},{name:"Papua New Guinea",code:"+675",iso:"pg",flag:"flagpack:pg"},{name:"Paraguay",code:"+595",iso:"py",flag:"flagpack:py"},{name:"Peru",code:"+51",iso:"pe",flag:"flagpack:pe"},{name:"Philippines",code:"+63",iso:"ph",flag:"flagpack:ph"},{name:"Pitcairn",code:"+64",iso:"pn",flag:"flagpack:pn"},{name:"Poland",code:"+48",iso:"pl",flag:"flagpack:pl"},{name:"Portugal",code:"+351",iso:"pt",flag:"flagpack:pt"},{name:"Puerto Rico",code:"+1787, +1939",iso:"pr",flag:"flagpack:pr"},{name:"Qatar",code:"+974",iso:"qa",flag:"flagpack:qa"},{name:"Republic of the Congo",code:"+242",iso:"cg",flag:"flagpack:cg"},{name:"Reunion",code:"+262",iso:"re",flag:"flagpack:re"},{name:"Romania",code:"+40",iso:"ro",flag:"flagpack:ro"},{name:"Russia",code:"+7",iso:"ru",flag:"flagpack:ru"},{name:"Rwanda",code:"+250",iso:"rw",flag:"flagpack:rw"},{name:"Saint Barthelemy",code:"+590",iso:"bl",flag:"flagpack:bl"},{name:"Saint Helena",code:"+290",iso:"sh",flag:"flagpack:sh"},{name:"Saint Kitts and Nevis",code:"+1869",iso:"kn",flag:"flagpack:kn"},{name:"Saint Lucia",code:"+1758",iso:"lc",flag:"flagpack:lc"},{name:"Saint Martin",code:"+590",iso:"mf",flag:"flagpack:mf"},{name:"Saint Pierre and Miquelon",code:"+508",iso:"pm",flag:"flagpack:pm"},{name:"Saint Vincent and the Grenadines",code:"+1784",iso:"vc",flag:"flagpack:vc"},{name:"Samoa",code:"+685",iso:"ws",flag:"flagpack:ws"},{name:"San Marino",code:"+378",iso:"sm",flag:"flagpack:sm"},{name:"Sao Tome and Principe",code:"+239",iso:"st",flag:"flagpack:st"},{name:"Saudi Arabia",code:"+966",iso:"sa",flag:"flagpack:sa"},{name:"Senegal",code:"+221",iso:"sn",flag:"flagpack:sn"},{name:"Serbia",code:"+381",iso:"rs",flag:"flagpack:rs"},{name:"Seychelles",code:"+248",iso:"sc",flag:"flagpack:sc"},{name:"Sierra Leone",code:"+232",iso:"sl",flag:"flagpack:sl"},{name:"Singapore",code:"+65",iso:"sg",flag:"flagpack:sg"},{name:"Sint Maarten",code:"+1721",iso:"sx",flag:"flagpack:sx"},{name:"Slovakia",code:"+421",iso:"sk",flag:"flagpack:sk"},{name:"Slovenia",code:"+386",iso:"si",flag:"flagpack:si"},{name:"Solomon Islands",code:"+677",iso:"sb",flag:"flagpack:sb"},{name:"Somalia",code:"+252",iso:"so",flag:"flagpack:so"},{name:"South Africa",code:"+27",iso:"za",flag:"flagpack:za"},{name:"South Korea",code:"+82",iso:"kr",flag:"flagpack:kr"},{name:"South Sudan",code:"+211",iso:"ss",flag:"flagpack:ss"},{name:"Spain",code:"+34",iso:"es",flag:"flagpack:es"},{name:"Sri Lanka",code:"+94",iso:"lk",flag:"flagpack:lk"},{name:"Sudan",code:"+249",iso:"sd",flag:"flagpack:sd"},{name:"Suriname",code:"+597",iso:"sr",flag:"flagpack:sr"},{name:"Svalbard and Jan Mayen",code:"+47",iso:"sj",flag:"flagpack:sj"},{name:"Swaziland",code:"+268",iso:"sz",flag:"flagpack:sz"},{name:"Sweden",code:"+46",iso:"se",flag:"flagpack:se"},{name:"Switzerland",code:"+41",iso:"ch",flag:"flagpack:ch"},{name:"Syria",code:"+963",iso:"sy",flag:"flagpack:sy"},{name:"Taiwan",code:"+886",iso:"tw",flag:"flagpack:tw"},{name:"Tajikistan",code:"+992",iso:"tj",flag:"flagpack:tj"},{name:"Tanzania",code:"+255",iso:"tz",flag:"flagpack:tz"},{name:"Thailand",code:"+66",iso:"th",flag:"flagpack:th"},{name:"Togo",code:"+228",iso:"tg",flag:"flagpack:tg"},{name:"Tokelau",code:"+690",iso:"tk",flag:"flagpack:tk"},{name:"Tonga",code:"+676",iso:"to",flag:"flagpack:to"},{name:"Trinidad and Tobago",code:"+1868",iso:"tt",flag:"flagpack:tt"},{name:"Tunisia",code:"+216",iso:"tn",flag:"flagpack:tn"},{name:"Turkey",code:"+90",iso:"tr",flag:"flagpack:tr"},{name:"Turkmenistan",code:"+993",iso:"tm",flag:"flagpack:tm"},{name:"Turks and Caicos Islands",code:"+1649",iso:"tc",flag:"flagpack:tc"},{name:"Tuvalu",code:"+688",iso:"tv",flag:"flagpack:tv"},{name:"U.S. Virgin Islands",code:"+1340",iso:"vi",flag:"flagpack:vi"},{name:"Uganda",code:"+256",iso:"ug",flag:"flagpack:ug"},{name:"Ukraine",code:"+380",iso:"ua",flag:"flagpack:ua"},{name:"United Arab Emirates",code:"+971",iso:"ae",flag:"flagpack:ae"},{name:"United Kingdom",code:"+44",iso:"gb",flag:"flagpack:gb"},{name:"United States",code:"+1",iso:"us",flag:"flagpack:us"},{name:"Canada",code:"+1",iso:"ca",flag:"flagpack:ca"},{name:"Uruguay",code:"+598",iso:"uy",flag:"flagpack:uy"},{name:"Uzbekistan",code:"+998",iso:"uz",flag:"flagpack:uz"},{name:"Vanuatu",code:"+678",iso:"vu",flag:"flagpack:vu"},{name:"Vatican",code:"+379",iso:"va",flag:"flagpack:va"},{name:"Venezuela",code:"+58",iso:"ve",flag:"flagpack:ve"},{name:"Vietnam",code:"+84",iso:"vn",flag:"flagpack:vn"},{name:"Wallis and Futuna",code:"+681",iso:"wf",flag:"flagpack:wf"},{name:"Western Sahara",code:"+212",iso:"eh",flag:"flagpack:eh"},{name:"Yemen",code:"+967",iso:"ye",flag:"flagpack:ye"},{name:"Zambia",code:"+260",iso:"zm",flag:"flagpack:zm"},{name:"Zimbabwe",code:"+263",iso:"zw",flag:"flagpack:zw"}],kk={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:48|5[0-3579]|[6-9])|7(?:20|32|8)|[89]","(?:31|4)6|51|6(?:485|5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:241|349)0\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|[34]\\d\\d)|91(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79]))))\\d{3}|(?:2(?:[0-26-9]\\d|3[0-8]|4[02-9]|5[0135-9])|3(?:[0-3589]\\d|4[0-578]|6[1-9]|7[0-35-9])|7(?:[013-57-9]\\d|2[0-8])|8(?:55|6[0-8]|[78]\\d|9[02-9]))\\d{6}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","(?:[025-7]\\d|44)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[024-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|8)\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","[1-467]\\d{9,10}|55[0-46-9]\\d{8}|[34]\\d{7}|55\\d{7,8}|(?:5[0-46-9]|[89]\\d)\\d{7,9}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37|86)","300|4(?:0(?:0|20)|370|864)"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[178]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-6]|7[246]|8[2-4]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|[78]"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|5[07]|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["60|809"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9(?:10|[2-9])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-8]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|9[14]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|3[13])"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,"0|180020",0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-5])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|5[01]))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0|180020","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","[2-69]\\d{8}|80\\d{5,7}|[1-79]\\d{7}|6\\d{6}",[7,8,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","[2-589]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0|180020","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|8(?:28[235-7]|3))|73179|807(?:1|9[1-3])|(?:1552|6(?:(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689])\\d|8(?:[14-6]\\d|2[0-79]))|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,11}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[03]"]]],0,0,0,0,0,0,[["0(?:669[0-79]\\d{1,6}|831\\d{2,8})|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[2356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}"],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0|180020","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|427|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[47]"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[25-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]","3|4(?:2(?:0|9[02-69])|7(?:0[019]|1))|6[1-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[25-9]"],"0$1"]],"0",0,"(000[2569]\\d{4,6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33622|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["3"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-6]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[2457]\\d|33|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|78|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2679]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:[19]|2[2-46-9]|3[3-9])|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:(?:18|4[0679]|5[03])\\d|2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9]))\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[016-8]\\d|2[0-8]|5[0-5]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|[67]\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[67]"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:20|9\\d)\\d{8}|[78]\\d{9,13}",[10,11,12,13,14],[["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:222|444|(?:55|8\\d)\\d|666|777|999)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[24-9]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[136]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[0-3]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-6]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,0,[["336(?:[013-9]\\d|2[013-9])\\d{5}|(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15-7]|6[0-35-79]|7[1-37-9]))\\d{7}",[10]],["9\\d{9}",[10]],["8(?:0[04]|108\\d{3})\\d{7}"],["80[39]\\d{7}",[10]],["808\\d{7}",[10]]],"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","(?:[15]\\d|800|92)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|7[67]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|[6-8]\\d|90)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-9]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[25-7]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[25-7]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-359]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-4]|5[1-3]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[59]"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|30|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[236-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","(?:[0-57-9]\\d|66)\\d{7}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["\\d"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["3052(?:0[0-8]|[1-9]\\d)\\d{4}|(?:2742|305[3-9])\\d{6}|(?:472|983)[2-47-9]\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[013-79]|3[0-24679]|4[167]|5[0-2]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-269])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[0378]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[0168]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|2\\d{3,4}|(?:[49]\\d|80)\\d{5}",[4,5,6,7,8,9,10,11,12,13],[["(\\d{4,5})","$1",["21"]],["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|[579]\\d|63)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[579]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};function Sk(t,e){var n=Array.prototype.slice.call(e);return n.push(kk),t.apply(this,n)}function Km(t,e){t=t.split("-"),e=e.split("-");for(var n=t[0].split("."),r=e[0].split("."),o=0;o<3;o++){var s=Number(n[o]),i=Number(r[o]);if(s>i)return 1;if(i>s)return-1;if(!isNaN(s)&&isNaN(i))return 1;if(isNaN(s)&&!isNaN(i))return-1}return t[1]&&e[1]?t[1]>e[1]?1:t[1]<e[1]?-1:0:!t[1]&&e[1]?1:t[1]&&!e[1]?-1:0}var Ek={}.constructor;function xo(t){return t!=null&&t.constructor===Ek}function $o(t){"@babel/helpers - typeof";return $o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$o(t)}function Pi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ck(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tk(r.key),r)}}function Oi(t,e,n){return e&&Ck(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tk(t){var e=Nk(t,"string");return $o(e)=="symbol"?e:e+""}function Nk(t,e){if($o(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($o(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mk="1.2.0",Ak="1.7.35",qm=" ext. ",Pk=/^\d+$/,Nt=function(){function t(e){Pi(this,t),Xm(e),this.metadata=e,Zm.call(this,e)}return Oi(t,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(n){return n!=="001"})}},{key:"getCountryMetadata",value:function(n){return this.metadata.countries[n]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(n){return this.getCountryMetadata(n)!==void 0}},{key:"hasCallingCode",value:function(n){if(this.getCountryCodesForCallingCode(n))return!0;if(this.nonGeographic()){if(this.nonGeographic()[n])return!0}else{var r=this.countryCallingCodes()[n];if(r&&r.length===1&&r[0]==="001")return!0}}},{key:"isNonGeographicCallingCode",value:function(n){return this.nonGeographic()?!!this.nonGeographic()[n]:!this.getCountryCodesForCallingCode(n)}},{key:"country",value:function(n){return this.selectNumberingPlan(n)}},{key:"selectNumberingPlan",value:function(n,r){if(n&&Pk.test(n)&&(r=n,n=null),n&&n!=="001"){if(!this.hasCountry(n))throw new Error("Unknown country: ".concat(n));this.numberingPlan=new Ym(this.getCountryMetadata(n),this)}else if(r){if(!this.hasCallingCode(r))throw new Error("Unknown calling code: ".concat(r));this.numberingPlan=new Ym(this.getNumberingPlanMetadata(r),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(n){var r=this.countryCallingCodes()[n];if(r)return r.length===1&&r[0].length===3?void 0:r}},{key:"getCountryCodeForCallingCode",value:function(n){var r=this.getCountryCodesForCallingCode(n);if(r)return r[0]}},{key:"getNumberingPlanMetadata",value:function(n){var r=this.getCountryCodeForCallingCode(n);if(r)return this.getCountryMetadata(r);if(this.nonGeographic()){var o=this.nonGeographic()[n];if(o)return o}else{var s=this.countryCallingCodes()[n];if(s&&s.length===1&&s[0]==="001")return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(n){return this.numberingPlan.type(n)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(n){return this.selectNumberingPlan(n)}},{key:"hasSelectedNumberingPlan",value:function(){return this.numberingPlan!==void 0}}])}(),Ym=function(){function t(e,n){Pi(this,t),this.globalMetadataObject=n,this.metadata=e,Zm.call(this,n.metadata)}return Oi(t,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(n){return n[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var n=this,r=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return r.map(function(o){return new Ok(o,n)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(n){return n[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return this.types()&&this.types().length===0?!1:!!this.types()}},{key:"type",value:function(n){if(this.hasTypes()&&Jm(this.types(),n))return new Lk(Jm(this.types(),n),this)}},{key:"ext",value:function(){return this.v1||this.v2?qm:this.metadata[13]||qm}}])}(),Ok=function(){function t(e,n){Pi(this,t),this._format=e,this.metadata=n}return Oi(t,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!(this.nationalPrefixFormattingRule()&&!Ik.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}])}(),Ik=/^\(?\$1\)?$/,Lk=function(){function t(e,n){Pi(this,t),this.type=e,this.metadata=n}return Oi(t,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}])}();function Jm(t,e){switch(e){case"FIXED_LINE":return t[0];case"MOBILE":return t[1];case"TOLL_FREE":return t[2];case"PREMIUM_RATE":return t[3];case"PERSONAL_NUMBER":return t[4];case"VOICEMAIL":return t[5];case"UAN":return t[6];case"PAGER":return t[7];case"VOIP":return t[8];case"SHARED_COST":return t[9]}}function Xm(t){if(!t)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!xo(t)||!xo(t.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(xo(t)?"an object of shape: { "+Object.keys(t).join(", ")+" }":"a "+Dk(t)+": "+t,"."))}var Dk=function(e){return $o(e)};function Ld(t,e){if(e=new Nt(e),e.hasCountry(t))return e.selectNumberingPlan(t).countryCallingCode();throw new Error("Unknown country: ".concat(t))}function jk(t,e){return e.countries.hasOwnProperty(t)}function Zm(t){var e=t.version;typeof e=="number"?(this.v1=e===1,this.v2=e===2,this.v3=e===3,this.v4=e===4):e?Km(e,Mk)===-1?this.v2=!0:Km(e,Ak)===-1?this.v3=!0:this.v4=!0:this.v1=!0}function Dd(t,e,n){return Rk(t,e,void 0,n)}function Rk(t,e,n,r){e&&(r=new Nt(r.metadata),r.selectNumberingPlan(e));var o=r.type(n),s=o&&o.possibleLengths()||r.possibleLengths();if(!s)return"IS_POSSIBLE";var i=t.length,a=s[0];return a===i?"IS_POSSIBLE":a>i?"TOO_SHORT":s[s.length-1]<i?"TOO_LONG":s.indexOf(i,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function _k(t,e,n){if(e===void 0&&(e={}),n=new Nt(n),e.v2){if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(t.countryCallingCode)}else{if(!t.phone)return!1;if(t.country){if(!n.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));n.selectNumberingPlan(t.country)}else{if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(t.countryCallingCode)}}if(n.possibleLengths())return Qm(t.phone||t.nationalNumber,t.country,n);if(t.countryCallingCode&&n.isNonGeographicCallingCode(t.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function Qm(t,e,n){switch(Dd(t,e,n)){case"IS_POSSIBLE":return!0;default:return!1}}function Dn(t,e){return t=t||"",new RegExp("^(?:"+e+")$").test(t)}function Fk(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=zk(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zk(t,e){if(t){if(typeof t=="string")return eg(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eg(t,e):void 0}}function eg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Bk=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function jd(t,e,n){if(e=e||{},!(!t.country&&!t.countryCallingCode)){n=new Nt(n),n.selectNumberingPlan(t.country,t.countryCallingCode);var r=e.v2?t.nationalNumber:t.phone;if(Dn(r,n.nationalNumberPattern())){if(Rd(r,"FIXED_LINE",n))return n.type("MOBILE")&&n.type("MOBILE").pattern()===""||!n.type("MOBILE")||Rd(r,"MOBILE",n)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var o=Fk(Bk),s;!(s=o()).done;){var i=s.value;if(Rd(r,i,n))return i}}}}function Rd(t,e,n){return e=n.type(e),!e||!e.pattern()||e.possibleLengths()&&e.possibleLengths().indexOf(t.length)<0?!1:Dn(t,e.pattern())}function Hk(t,e,n){if(e=e||{},n=new Nt(n),n.selectNumberingPlan(t.country,t.countryCallingCode),n.hasTypes())return jd(t,e,n.metadata)!==void 0;var r=e.v2?t.nationalNumber:t.phone;return Dn(r,n.nationalNumberPattern())}function Vk(t,e,n){var r=new Nt(n),o=r.getCountryCodesForCallingCode(t);return o?o.filter(function(s){return Wk(e,s,n)}):[]}function Wk(t,e,n){var r=new Nt(n);return r.selectNumberingPlan(e),r.numberingPlan.possibleLengths().indexOf(t.length)>=0}var _d=2,Uk=17,Gk=3,an="0-9---",Kk="--",qk="/",Yk=".",Jk=" ",Xk="()\\[\\]",Zk="~",Ii="".concat(Kk).concat(qk).concat(Yk).concat(Jk).concat(Xk).concat(Zk),Fd="+",Qk=new RegExp("(["+an+"])");function e4(t,e,n,r){if(e){var o=new Nt(r);o.selectNumberingPlan(e,n);var s=new RegExp(o.IDDPrefix());if(t.search(s)===0){t=t.slice(t.match(s)[0].length);var i=t.match(Qk);if(!(i&&i[1]!=null&&i[1].length>0&&i[1]==="0"))return t}}}function t4(t,e){if(t&&e.numberingPlan.nationalPrefixForParsing()){var n=new RegExp("^(?:"+e.numberingPlan.nationalPrefixForParsing()+")"),r=n.exec(t);if(r){var o,s,i=r.length-1,a=i>0&&r[i];if(e.nationalPrefixTransformRule()&&a)o=t.replace(n,e.nationalPrefixTransformRule()),i>1&&(s=r[1]);else{var l=r[0];o=t.slice(l.length),a&&(s=r[1])}var d;if(a){var c=t.indexOf(r[1]),u=t.slice(0,c);u===e.numberingPlan.nationalPrefix()&&(d=e.numberingPlan.nationalPrefix())}else d=r[0];return{nationalNumber:o,nationalPrefix:d,carrierCode:s}}}return{nationalNumber:t}}function n4(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=r4(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r4(t,e){if(t){if(typeof t=="string")return tg(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tg(t,e):void 0}}function tg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function o4(t,e){var n=e.countries,r=e.metadata;r=new Nt(r);for(var o=n4(n),s;!(s=o()).done;){var i=s.value;if(r.selectNumberingPlan(i),r.leadingDigits()){if(t&&t.search(r.leadingDigits())===0)return i}else if(jd({phone:t,country:i},void 0,r.metadata))return i}}function ng(t,e){var n=e.nationalNumber,r=e.metadata,o=r.getCountryCodesForCallingCode(t);if(o)return o.length===1?o[0]:o4(n,{countries:o,metadata:r.metadata})}function zd(t,e,n){var r=t4(t,n),o=r.carrierCode,s=r.nationalNumber;if(s!==t){if(!s4(t,s,n))return{nationalNumber:t};if(n.numberingPlan.possibleLengths()&&(e||(e=ng(n.numberingPlan.callingCode(),{nationalNumber:s,metadata:n})),!i4(s,e,n)))return{nationalNumber:t}}return{nationalNumber:s,carrierCode:o}}function s4(t,e,n){return!(Dn(t,n.nationalNumberPattern())&&!Dn(e,n.nationalNumberPattern()))}function i4(t,e,n){switch(Dd(t,e,n)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function a4(t,e,n,r,o){var s=n?Ld(n,o):r;if(t.indexOf(s)===0){o=new Nt(o),o.selectNumberingPlan(n,s);var i=t.slice(s.length),a=zd(i,e,o),l=a.nationalNumber,d=zd(t,e,o),c=d.nationalNumber;if(!Dn(c,o.nationalNumberPattern())&&Dn(l,o.nationalNumberPattern())||Dd(c,e,o)==="TOO_LONG")return{countryCallingCode:s,number:i}}return{number:t}}function rg(t,e,n,r,o){if(!t)return{};var s;if(t[0]!=="+"){var i=e4(t,n,r,o);if(i&&i!==t)s=!0,t="+"+i;else{if(n||r){var a=a4(t,e,n,r,o),l=a.countryCallingCode,d=a.number;if(l)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:l,number:d}}return{number:t}}}if(t[1]==="0")return{};o=new Nt(o);for(var c=2;c-1<=Gk&&c<=t.length;){var u=t.slice(1,c);if(o.hasCallingCode(u))return o.selectNumberingPlan(u),{countryCallingCodeSource:s?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:u,number:t.slice(c)};c++}return{}}function l4(t){return t.replace(new RegExp("[".concat(Ii,"]+"),"g")," ").trim()}var d4=/(\$\d)/;function c4(t,e,n){var r=n.useInternationalFormat,o=n.withNationalPrefix,s=t.replace(new RegExp(e.pattern()),r?e.internationalFormat():o&&e.nationalPrefixFormattingRule()?e.format().replace(d4,e.nationalPrefixFormattingRule()):e.format());return r?l4(s):s}var u4=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function f4(t,e,n){var r=new Nt(n);if(r.selectNumberingPlan(t,e),r.defaultIDDPrefix())return r.defaultIDDPrefix();if(u4.test(r.IDDPrefix()))return r.IDDPrefix()}var p4=";ext=",wo=function(e){return"([".concat(an,"]{1,").concat(e,"})")};function og(t){var e="20",n="15",r="9",o="6",s="[ \\t,]*",i="[:\\.]?[ \\t,-]*",a="#?",l="(?:e?xt(?:ensi(?:o?|))?n?|??||anexo)",d="(?:[x#~]|int|)",c="[- ]+",u="[ \\t]*",f="(?:,{2}|;)",p=p4+wo(e),h=s+l+i+wo(e)+a,b=s+d+i+wo(r)+a,g=c+wo(o)+"#",y=u+f+i+wo(n)+a,x=u+"(?:,)+"+i+wo(r)+a;return p+"|"+h+"|"+b+"|"+g+"|"+y+"|"+x}var h4="["+an+"]{"+_d+"}",m4="["+Fd+"]{0,1}(?:["+Ii+"]*["+an+"]){3,}["+Ii+an+"]*",g4=new RegExp("^["+Fd+"]{0,1}(?:["+Ii+"]*["+an+"]){1,2}$","i"),b4=m4+"(?:"+og()+")?",y4=new RegExp("^"+h4+"$|^"+b4+"$","i");function v4(t){return t.length>=_d&&y4.test(t)}function x4(t){return g4.test(t)}function $4(t){var e=t.number,n=t.ext;if(!e)return"";if(e[0]!=="+")throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(e).concat(n?";ext="+n:"")}var sg={formatExtension:function(e,n,r){return"".concat(e).concat(r.ext()).concat(n)}};function w4(t,e,n,r){if(n?n=E4({},sg,n):n=sg,r=new Nt(r),t.country&&t.country!=="001"){if(!r.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));r.selectNumberingPlan(t.country)}else if(t.countryCallingCode)r.selectNumberingPlan(t.countryCallingCode);else return t.phone||"";var o=r.countryCallingCode(),s=n.v2?t.nationalNumber:t.phone,i;switch(e){case"NATIONAL":return s?(i=Li(s,t.carrierCode,"NATIONAL",r,n),Bd(i,t.ext,r,n.formatExtension)):"";case"INTERNATIONAL":return s?(i=Li(s,null,"INTERNATIONAL",r,n),i="+".concat(o," ").concat(i),Bd(i,t.ext,r,n.formatExtension)):"+".concat(o);case"E.164":return"+".concat(o).concat(s);case"RFC3966":return $4({number:"+".concat(o).concat(s),ext:t.ext});case"IDD":if(!n.fromCountry)return;var a=S4(s,t.carrierCode,o,n.fromCountry,r);return Bd(a,t.ext,r,n.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(e,'"'))}}function Li(t,e,n,r,o){var s=k4(r.formats(),t);return s?c4(t,s,{useInternationalFormat:n==="INTERNATIONAL",withNationalPrefix:!(s.nationalPrefixIsOptionalWhenFormattingInNationalFormat()&&o&&o.nationalPrefix===!1)}):t}function k4(t,e){return C4(t,function(n){if(n.leadingDigitsPatterns().length>0){var r=n.leadingDigitsPatterns()[n.leadingDigitsPatterns().length-1];if(e.search(r)!==0)return!1}return Dn(e,n.pattern())})}function Bd(t,e,n,r){return e?r(t,e,n):t}function S4(t,e,n,r,o){var s=Ld(r,o.metadata);if(s===n){var i=Li(t,e,"NATIONAL",o);return n==="1"?n+" "+i:i}var a=f4(r,void 0,o.metadata);if(a)return"".concat(a," ").concat(n," ").concat(Li(t,null,"INTERNATIONAL",o))}function E4(){for(var t=1,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(;t<n.length;){if(n[t])for(var o in n[t])n[0][o]=n[t][o];t++}return n[0]}function C4(t,e){for(var n=0;n<t.length;){if(e(t[n]))return t[n];n++}}function ss(t){"@babel/helpers - typeof";return ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ss(t)}function ig(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function ag(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ig(Object(n),!0).forEach(function(r){T4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ig(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T4(t,e,n){return(e=lg(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lg(r.key),r)}}function A4(t,e,n){return e&&M4(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lg(t){var e=P4(t,"string");return ss(e)=="symbol"?e:e+""}function P4(t,e){if(ss(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ss(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var O4=function(){function t(e,n,r){if(N4(this,t),!e)throw new TypeError("First argument is required");if(typeof e!="string")throw new TypeError("First argument must be a string");if(e[0]==="+"&&!n)throw new TypeError("`metadata` argument not passed");if(xo(n)&&xo(n.countries)){r=n;var o=e;if(!D4.test(o))throw new Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var s=rg(o,void 0,void 0,void 0,r),i=s.countryCallingCode,a=s.number;if(n=a,e=i,!n)throw new Error("Invalid `number` argument passed: too short")}if(!n)throw new TypeError("`nationalNumber` argument is required");if(typeof n!="string")throw new TypeError("`nationalNumber` argument must be a string");Xm(r);var l=L4(e,r),d=l.country,c=l.countryCallingCode;this.country=d,this.countryCallingCode=c,this.nationalNumber=n,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return r}}return A4(t,[{key:"setExt",value:function(n){this.ext=n}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:Vk(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return _k(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return Hk(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){var n=new Nt(this.getMetadata());return n.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(n){return this.number===n.number&&this.ext===n.ext}},{key:"getType",value:function(){return jd(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(n,r){return w4(this,n,r?ag(ag({},r),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(n){return this.format("NATIONAL",n)}},{key:"formatInternational",value:function(n){return this.format("INTERNATIONAL",n)}},{key:"getURI",value:function(n){return this.format("RFC3966",n)}}])}(),I4=function(e){return/^[A-Z]{2}$/.test(e)};function L4(t,e){var n,r,o=new Nt(e);return I4(t)?(n=t,o.selectNumberingPlan(n),r=o.countryCallingCode()):r=t,{country:n,countryCallingCode:r}}var D4=/^\+\d+$/;function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function j4(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function R4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _4(t,e,n){return e=as(e),F4(t,Wd()?Reflect.construct(e,n||[],as(t).constructor):e.apply(t,n))}function F4(t,e){if(e&&(Hd(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z4(t)}function z4(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&is(t,e)}function Vd(t){var e=typeof Map=="function"?new Map:void 0;return Vd=function(r){if(r===null||!V4(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(r))return e.get(r);e.set(r,o)}function o(){return H4(r,arguments,as(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),is(o,r)},Vd(t)}function H4(t,e,n){if(Wd())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return n&&is(o,n.prototype),o}function Wd(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wd=function(){return!!t})()}function V4(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function is(t,e){return is=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},is(t,e)}function as(t){return as=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},as(t)}var jn=function(t){function e(n){var r;return R4(this,e),r=_4(this,e,[n]),Object.setPrototypeOf(r,e.prototype),r.name=r.constructor.name,r}return B4(e,t),j4(e)}(Vd(Error)),dg=new RegExp("(?:"+og()+")$","i");function W4(t){var e=t.search(dg);if(e<0)return{};for(var n=t.slice(0,e),r=t.match(dg),o=1;o<r.length;){if(r[o])return{number:n,ext:r[o]};o++}}var U4={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};function G4(t){return U4[t]}function K4(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=q4(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q4(t,e){if(t){if(typeof t=="string")return cg(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cg(t,e):void 0}}function cg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ug(t){for(var e="",n=K4(t.split("")),r;!(r=n()).done;){var o=r.value;e+=Y4(o,e)||""}return e}function Y4(t,e,n){return t==="+"?e?void 0:"+":G4(t)}var fg="+",J4="[\\-\\.\\(\\)]?",pg="(["+an+"]|"+J4+")",X4="^\\"+fg+pg+"*["+an+"]"+pg+"*$",Z4=new RegExp(X4,"g"),Ud=an,Q4="["+Ud+"]+((\\-)*["+Ud+"])*",e5="a-zA-Z",t5="["+e5+"]+((\\-)*["+Ud+"])*",n5="^("+Q4+"\\.)*"+t5+"\\.?$",r5=new RegExp(n5,"g"),hg="tel:",Gd=";phone-context=",o5=";isub=";function s5(t){var e=t.indexOf(Gd);if(e<0)return null;var n=e+Gd.length;if(n>=t.length)return"";var r=t.indexOf(";",n);return r>=0?t.substring(n,r):t.substring(n)}function i5(t){return t===null?!0:t.length===0?!1:Z4.test(t)||r5.test(t)}function a5(t,e){var n=e.extractFormattedPhoneNumber,r=s5(t);if(!i5(r))throw new jn("NOT_A_NUMBER");var o;if(r===null)o=n(t)||"";else{o="",r.charAt(0)===fg&&(o+=r);var s=t.indexOf(hg),i;s>=0?i=s+hg.length:i=0;var a=t.indexOf(Gd);o+=t.substring(i,a)}var l=o.indexOf(o5);if(l>0&&(o=o.substring(0,l)),o!=="")return o}var l5=250,d5=new RegExp("["+Fd+an+"]"),c5=new RegExp("[^"+an+"#]+$");function u5(t,e,n){if(e=e||{},n=new Nt(n),e.defaultCountry&&!n.hasCountry(e.defaultCountry))throw e.v2?new jn("INVALID_COUNTRY"):new Error("Unknown country: ".concat(e.defaultCountry));var r=p5(t,e.v2,e.extract),o=r.number,s=r.ext,i=r.error;if(!o){if(e.v2)throw i==="TOO_SHORT"?new jn("TOO_SHORT"):new jn("NOT_A_NUMBER");return{}}var a=m5(o,e.defaultCountry,e.defaultCallingCode,n),l=a.country,d=a.nationalNumber,c=a.countryCallingCode,u=a.countryCallingCodeSource,f=a.carrierCode;if(!n.hasSelectedNumberingPlan()){if(e.v2)throw new jn("INVALID_COUNTRY");return{}}if(!d||d.length<_d){if(e.v2)throw new jn("TOO_SHORT");return{}}if(d.length>Uk){if(e.v2)throw new jn("TOO_LONG");return{}}if(e.v2){var p=new O4(c,d,n.metadata);return l&&(p.country=l),f&&(p.carrierCode=f),s&&(p.ext=s),p.__countryCallingCodeSource=u,p}var h=(e.extended?n.hasSelectedNumberingPlan():l)?Dn(d,n.nationalNumberPattern()):!1;return e.extended?{country:l,countryCallingCode:c,carrierCode:f,valid:h,possible:h?!0:!!(e.extended===!0&&n.possibleLengths()&&Qm(d,l,n)),phone:d,ext:s}:h?h5(l,d,s):{}}function f5(t,e,n){if(t){if(t.length>l5){if(n)throw new jn("TOO_LONG");return}if(e===!1)return t;var r=t.search(d5);if(!(r<0))return t.slice(r).replace(c5,"")}}function p5(t,e,n){var r=a5(t,{extractFormattedPhoneNumber:function(i){return f5(i,n,e)}});if(!r)return{};if(!v4(r))return x4(r)?{error:"TOO_SHORT"}:{};var o=W4(r);return o.ext?o:{number:r}}function h5(t,e,n){var r={country:t,phone:e};return n&&(r.ext=n),r}function m5(t,e,n,r){var o=rg(ug(t),void 0,e,n,r.metadata),s=o.countryCallingCodeSource,i=o.countryCallingCode,a=o.number,l;if(i)r.selectNumberingPlan(i);else if(a&&(e||n))r.selectNumberingPlan(e,n),e&&(l=e),i=n||Ld(e,r.metadata);else return{};if(!a)return{countryCallingCodeSource:s,countryCallingCode:i};var d=zd(ug(a),l,r),c=d.nationalNumber,u=d.carrierCode,f=ng(i,{nationalNumber:c,metadata:r});return f&&(l=f,f==="001"||r.selectNumberingPlan(l)),{country:l,countryCallingCode:i,countryCallingCodeSource:s,nationalNumber:c,carrierCode:u}}function ls(t){"@babel/helpers - typeof";return ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ls(t)}function mg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function gg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mg(Object(n),!0).forEach(function(r){g5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g5(t,e,n){return(e=b5(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b5(t){var e=y5(t,"string");return ls(e)=="symbol"?e:e+""}function y5(t,e){if(ls(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ls(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function v5(t,e,n){return u5(t,gg(gg({},e),{},{v2:!0}),n)}function ds(t){"@babel/helpers - typeof";return ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ds(t)}function bg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function x5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bg(Object(n),!0).forEach(function(r){$5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $5(t,e,n){return(e=w5(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w5(t){var e=k5(t,"string");return ds(e)=="symbol"?e:e+""}function k5(t,e){if(ds(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ds(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function S5(t,e){return N5(t)||T5(t,e)||C5(t,e)||E5()}function E5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C5(t,e){if(t){if(typeof t=="string")return yg(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yg(t,e):void 0}}function yg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function T5(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,o,s,i,a=[],l=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){d=!0,o=c}finally{try{if(!l&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(d)throw o}}return a}}function N5(t){if(Array.isArray(t))return t}function M5(t){var e=Array.prototype.slice.call(t),n=S5(e,4),r=n[0],o=n[1],s=n[2],i=n[3],a,l,d;if(typeof r=="string")a=r;else throw new TypeError("A text for parsing must be a string.");if(!o||typeof o=="string")i?(l=s,d=i):(l=void 0,d=s),o&&(l=x5({defaultCountry:o},l));else if(xo(o))s?(l=o,d=s):d=o;else throw new Error("Invalid second argument: ".concat(o));return{text:a,options:l,metadata:d}}function cs(t){"@babel/helpers - typeof";return cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cs(t)}function vg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function xg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vg(Object(n),!0).forEach(function(r){A5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A5(t,e,n){return(e=P5(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P5(t){var e=O5(t,"string");return cs(e)=="symbol"?e:e+""}function O5(t,e){if(cs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I5(t,e,n){e&&e.defaultCountry&&!jk(e.defaultCountry,n)&&(e=xg(xg({},e),{},{defaultCountry:void 0}));try{return v5(t,e,n)}catch(r){if(!(r instanceof jn))throw r}}function L5(){var t=M5(arguments),e=t.text,n=t.options,r=t.metadata;return I5(e,n,r)}function $g(){return Sk(L5,arguments)}function D5(t){var o;const e=$g(t);if(!e)return null;const n=(o=e.country)==null?void 0:o.toLowerCase(),r=Ln.find(s=>s.iso===n);return r?{...r,formatted:e.formatInternational(),isValid:e.isValid()}:null}function j5(t){var r;const e=$g(t);if(!e)return null;const n=(r=e.country)==null?void 0:r.toLowerCase();return Ln.find(o=>o.iso===n)||null}const R5=ft("border bg-white px-3 py-2 ring-0 transition-colors placeholder:text-neutral placeholder:text-sm focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",{variants:{variant:{default:"border-neutral-200 hover:border-primary-300 focus:border-primary-300 hover:bg-primary-50",error:"border-danger hover:border-danger-600 focus:border-danger-600 hover:bg-danger-50",success:"border-success hover:border-success-600 focus:border-success-600 hover:bg-success-50",ghost:"border-transparent bg-transparent hover:bg-primary-50 focus:bg-primary-50",underline:"border-0 border-b-2 border-neutral-200 rounded-none bg-transparent hover:border-primary-300 focus:border-primary-300 hover:bg-transparent focus:bg-transparent"},size:{sm:"h-8 px-2 py-1 text-sm",md:"h-10 px-3 py-2 text-base",lg:"h-12 px-4 py-3 text-lg"},rounded:{none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",xl:"rounded-xl","2xl":"rounded-2xl","3xl":"rounded-3xl",full:"rounded-full"},fullWidth:{true:"w-full",false:"w-fit"}},defaultVariants:{variant:"default",size:"md",rounded:"xl",fullWidth:!0}}),Di=t=>{if(!t)return null;const e=t.startsWith("+")?t:`+${t}`;return j5(e)},_5=t=>t.startsWith("0")&&t.length>=9&&t.length<=12?"+62"+t.slice(1):t,F5=t=>t.startsWith("0")&&t.length>=3,Kd=v.forwardRef(({className:t,variant:e="default",size:n="md",rounded:r="xl",error:o=!1,errorText:s,helperText:i,label:a,required:l=!1,fullWidth:d=!1,value:c="",onChange:u,disabled:f=!1,defaultCountry:p="id",placeholder:h="Enter phone number",autoDetect:b=!0,name:g,...y},x)=>{const[k,E]=v.useState(!1),[S,C]=v.useState(()=>Ln.find(W=>W.iso===p)||Ln[0]),[M,I]=v.useState(""),[D,z]=v.useState(()=>{if(b&&c){const H=Di(c);return H&&C(H),c}const W=S.code;return c.startsWith(W)?c.slice(W.length):c});v.useEffect(()=>{if(c&&u)if(b){const W=Di(c);if(W){const H=W.code,G=c.startsWith(H)?c.slice(H.length):c,ce={iso:W.iso,code:W.code.replace("+",""),value:G};u(c,ce)}else u(c)}else{const W=S.code,H=c.startsWith(W)?c.slice(W.length):c,G={iso:S.iso,code:S.code.replace("+",""),value:H};u(c,G)}},[]);const[$,O]=v.useState(()=>b&&c?!!Di(c):!1),T=v.useRef(null),A=v.useRef(null),_=v.useRef(null),w=v.useId(),L=`${w}-helper`,j=`${w}-error`;v.useImperativeHandle(x,()=>_.current||F.current,[]);const B=Ln.filter(W=>W.name.toLowerCase().includes(M.toLowerCase())||W.code.includes(M)),F=v.useRef(null),P=()=>{if(k&&T.current&&A.current){const W=T.current.getBoundingClientRect(),H=A.current,G=typeof window<"u"?window:{innerHeight:0},ce=G.innerHeight-W.bottom,fe=W.top,$e=W.bottom+(H.offsetHeight||0)+4>=G.innerHeight,Re=fe>ce,Ne=$e&&Re;H.style.position="fixed",H.style.left=`${W.left}px`,H.style.minWidth=`${W.width}px`,H.style.maxWidth="340px",H.style.width="auto",Ne?(H.style.bottom=`${G.innerHeight-W.top+4}px`,H.style.top="auto",H.style.maxHeight=`${fe-8}px`):(H.style.top=`${W.bottom+4}px`,H.style.bottom="auto",H.style.maxHeight=`${ce-8}px`)}};v.useEffect(()=>{const W=typeof window<"u"?window:void 0,H=()=>{k&&P()},G=()=>{k&&P()};return k&&(P(),W==null||W.addEventListener("scroll",H,!0),W==null||W.addEventListener("resize",G)),()=>{W==null||W.removeEventListener("scroll",H,!0),W==null||W.removeEventListener("resize",G)}},[k]),v.useEffect(()=>{if(!k)return;const W=H=>{const G=H.target;T.current&&A.current&&!T.current.contains(G)&&!A.current.contains(G)&&E(!1)};return document.addEventListener("click",W),()=>document.removeEventListener("click",W)},[k]);const V=W=>{if(C(W),E(!1),I(""),b){const H=W.code+D.replace(/^\+?\d*/,"");z(H);const G=H.replace(/[^\d]/g,""),ce=D.replace(/^\+?\d*/,""),fe={iso:W.iso,code:W.code.replace("+",""),value:ce};u==null||u(G,fe)}else{const G=(W.code+D).replace(/[^\d]/g,""),ce={iso:W.iso,code:W.code.replace("+",""),value:D};u==null||u(G,ce)}},Y=W=>{const H=W.target.value;if(/^[+\d]*$/.test(H))if(b&&H.startsWith("+")){const ce=Di(H);if(ce){C(ce),O(!0),z(H);const fe=H.replace(/[^\d]/g,""),ge=ce.code,$e=H.startsWith(ge)?H.slice(ge.length):H,Re={iso:ce.iso,code:ce.code.replace("+",""),value:$e};u==null||u(fe,Re)}else{z(H),O(!1);const fe=H.replace(/[^\d]/g,"");u==null||u(fe)}}else if(b&&!H.startsWith("+")&&H.length>0){const ce=_5(H);if(ce!==H){z(ce),C(Ln.find(Re=>Re.iso==="id")||Ln[0]),O(!0);const fe=ce.replace(/[^\d]/g,""),$e={iso:"id",code:"62",value:H.slice(1)};u==null||u(fe,$e)}else if(F5(H)){const fe="+62"+H.slice(1);z(fe),C(Ln.find(Ne=>Ne.iso==="id")||Ln[0]),O(!0);const ge=fe.replace(/[^\d]/g,""),Re={iso:"id",code:"62",value:H.slice(1)};u==null||u(ge,Re)}else if(H.startsWith("0"))z(H),O(!1);else{const fe="+"+H;z(fe);const ge=fe.replace(/[^\d]/g,"");u==null||u(ge)}}else{const ce=H.replace(/[^\d]/g,"");z(ce);const ge=(S.code+ce).replace(/[^\d]/g,""),$e={iso:S.iso,code:S.code.replace("+",""),value:ce};u==null||u(ge,$e)}},X=U(R5({variant:o?"error":e,size:n,rounded:r,fullWidth:d}),"!w-full"),oe=!b||b&&$;return v.useEffect(()=>{if(_.current){const W=D||"";_.current.value=W;const H=new Event("input",{bubbles:!0});_.current.dispatchEvent(H)}},[D]),m.jsxs("div",{ref:F,className:U(d?"w-full":"inline-block",t),...y,children:[m.jsx("input",{type:"hidden",ref:_,name:g,value:D||"",onChange:()=>{}}),a&&m.jsxs("label",{htmlFor:w,className:"mb-1.5 block text-sm text-neutral-900",children:[a,l&&m.jsx("span",{className:"text-danger ml-0.5",children:"*"})]}),m.jsxs("div",{className:U("relative",!d&&"inline-block"),children:[m.jsxs("div",{className:"flex",children:[oe&&m.jsxs("button",{type:"button",ref:T,onClick:()=>!f&&E(!k),className:U(X,"flex items-center gap-2 rounded-r-none justify-between",b?"max-w-[60px]":"max-w-[100px]",f&&"cursor-not-allowed opacity-50"),children:[m.jsxs("span",{className:"flex items-center gap-2",children:[m.jsx(xe,{icon:S.flag,className:"w-5 h-5"}),!b&&m.jsx("span",{className:"text-sm",children:S.code})]}),m.jsx(xe,{icon:"mdi:chevron-down",className:U("transition-transform",k&&"rotate-180")})]}),m.jsx("input",{type:"tel",id:w,value:D,onChange:Y,disabled:f,className:U(X,oe?"rounded-l-none":`rounded-l-${r}`,"flex-1 min-w-0 w-full"),placeholder:b?"e.g. +6281234567890":h})]}),k&&sn.createPortal(m.jsxs("div",{ref:A,className:"border border-neutral-200 bg-white shadow-lg overflow-y-auto rounded-md",children:[m.jsx("div",{className:"p-2 border-b border-neutral-200",children:m.jsx("input",{type:"text",value:M,onChange:W=>{const H=W.target.value;/^[a-zA-Z0-9\s]*$/.test(H)&&I(H)},placeholder:"Search countries...",className:"w-full px-3 py-2 text-sm border border-neutral-200 rounded-md focus:outline-none focus:border-primary-300"})}),m.jsx("div",{className:"max-h-[300px] overflow-y-auto",children:B.map(W=>m.jsx("button",{type:"button",onClick:()=>V(W),className:U("w-full px-3 py-2 text-sm text-left hover:bg-primary-50 cursor-pointer",S.iso===W.iso&&"bg-primary-50"),children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(xe,{icon:W.flag,className:"w-5 h-5"}),m.jsx("span",{className:"text-sm font-medium",children:W.code}),m.jsx("span",{className:"text-sm text-neutral-600",children:W.name})]})},W.iso+W.code))})]}),typeof document<"u"?document.body:document)]}),o&&s&&m.jsx("p",{className:"mt-1 text-xs text-danger",id:j,children:s}),!o&&i&&m.jsx("p",{className:"mt-1 text-xs text-neutral",id:L,children:i})]})});Kd.displayName="PhoneInput";const z5=()=>{const[t,e]=v.useState(""),[n,r]=v.useState(null),o=s=>{e(s);const i=D5(`+${s}`);r(i)};return m.jsxs("div",{className:"p-6 max-w-md mx-auto",children:[m.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Phone Input with libphonenumber-js Integration"}),m.jsx(Kd,{label:"Phone Number",placeholder:"Enter phone number",value:t,onChange:o,autoDetect:!0,helperText:"Try typing: +12025551234 (US), +14165551234 (Canada), +18765551234 (Jamaica)"}),n&&m.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[m.jsx("h3",{className:"font-medium mb-2",children:"Detected Country Info:"}),m.jsxs("div",{className:"space-y-1 text-sm",children:[m.jsxs("p",{children:[m.jsx("strong",{children:"Country:"})," ",n.name]}),m.jsxs("p",{children:[m.jsx("strong",{children:"ISO Code:"})," ",n.iso]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Dial Code:"})," ",n.code]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Formatted:"})," ",n.formatted]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Valid:"})," ",n.isValid?"Yes":"No"]})]})]})]})},B5=ft("border bg-popover text-popover-foreground",{variants:{variant:{default:"border-border shadow-sm",elevated:"border-border shadow-lg",outline:"border-border bg-transparent",ghost:"border-transparent bg-transparent"},color:{primary:"border-primary bg-primary text-primary-foreground",secondary:"border-secondary bg-secondary text-secondary-foreground",success:"border-success bg-success text-success-foreground",warning:"border-warning bg-warning text-warning-foreground",danger:"border-danger bg-danger text-danger-foreground",info:"border-info bg-info text-info-foreground",neutral:"border-neutral bg-neutral text-neutral-foreground",light:"border-gray-200 bg-white text-gray-900",custom:""},shadow:{none:"",sm:"shadow-sm",md:"shadow-md",lg:"shadow-lg",xl:"shadow-xl"},rounded:{none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",xl:"rounded-xl","2xl":"rounded-2xl","3xl":"rounded-3xl",full:"rounded-full"}},defaultVariants:{variant:"default",color:"light",shadow:"md",rounded:"lg"}}),H5=({content:t,children:e,placement:n="bottom",showArrow:r=!1,variant:o="default",color:s="light",customColor:i,rounded:a="lg",shadow:l="md",className:d,isOpen:c,onOpenChange:u,backdrop:f="transparent",disableAnimation:p=!1,offset:h=7,isDismissable:b=!0,shouldCloseOnScroll:g=!0,shouldCloseOnBlur:y=!1,shouldBlockScroll:x=!1,containerPadding:k=12,crossOffset:E=0,portalContainer:S=typeof document<"u"?document.body:void 0,triggerType:C="dialog",shouldFlip:M=!0,triggerScaleOnOpen:I=!0,zIndex:D=50,contentZIndex:z})=>{const $=()=>{switch(s){case"primary":return"primary";case"secondary":return"secondary";case"success":return"success";case"warning":return"warning";case"danger":return"danger";case"info":case"neutral":return"default";case"light":return"default";case"custom":return"default";default:return"default"}},O=()=>s==="custom"&&i?{backgroundColor:i,color:"#ffffff"}:{info:"bg-blue-500 text-white border-blue-500",neutral:"bg-gray-500 text-white border-gray-500",light:"bg-white text-gray-900 border-gray-200"}[s]||"",T=()=>{switch(f){case"blur":return"blur";case"dark":return"opaque";case"transparent":default:return"transparent"}},A=O(),_=$(),w=T(),L=z!==void 0?z:D,j={placement:n,showArrow:r,color:_,radius:a,shadow:l,isOpen:c,onOpenChange:u,backdrop:w,disableAnimation:p,offset:h,isDismissable:b,shouldCloseOnScroll:g,shouldCloseOnBlur:y,shouldBlockScroll:x,containerPadding:k,crossOffset:E,portalContainer:S,triggerType:C,shouldFlip:M,triggerScaleOnOpen:I,isKeyboardDismissDisabled:!1,style:{zIndex:D}};return Object.keys(j).forEach(B=>{j[B]===void 0&&delete j[B]}),m.jsxs(mk,{...j,children:[m.jsx(hk,{children:e}),m.jsx(pk,{className:U(B5({variant:o,color:s,shadow:l,rounded:a}),d,A,s==="custom"&&i?"border-0":""),style:{...s==="custom"&&i?{backgroundColor:i,color:"#ffffff"}:{},zIndex:L},children:t})]})},V5=ft("flex items-center text-sm",{variants:{variant:{default:"text-neutral-600",light:"text-neutral-400",dark:"text-neutral-800"},size:{sm:"text-xs",md:"text-sm",lg:"text-base"}},defaultVariants:{variant:"default",size:"md"}}),wg=v.forwardRef(({className:t,variant:e="default",size:n="md",items:r,separator:o=m.jsx(xe,{icon:"mdi:slash-forward",className:"h-4 w-4 flex-shrink-0"}),activeLastItem:s=!0,...i},a)=>m.jsx("nav",{ref:a,className:U(V5({variant:e,size:n}),t),"aria-label":"Breadcrumb",...i,children:m.jsx("ol",{className:"flex flex-wrap items-center gap-1.5",children:r.map((l,d)=>{const c=d===r.length-1,u=c&&s;return m.jsxs("li",{className:U("flex items-center gap-1.5",u&&"text-primary font-medium"),children:[l.icon&&m.jsx(xe,{icon:l.icon,className:U("flex-shrink-0",n==="sm"&&"h-3.5 w-3.5",n==="md"&&"h-4 w-4",n==="lg"&&"h-5 w-5")}),l.href&&!u?m.jsx("a",{href:l.href,className:U("transition-colors duration-200","hover:text-primary hover:underline focus:outline-none","focus-visible:text-primary focus-visible:underline","active:text-primary-600"),children:m.jsx("span",{className:"truncate max-w-[200px] inline-block align-bottom",children:l.label})}):m.jsx("span",{className:U("truncate max-w-[200px] inline-block",u&&"text-primary"),children:l.label}),!c&&m.jsx("span",{className:U("text-neutral-400 flex-shrink-0",n==="sm"&&"scale-90",n==="lg"&&"scale-110"),children:o})]},l.label)})})}));wg.displayName="Breadcrumbs";const kg=t=>{const e={header:{primary:"bg-primary text-white",default:"bg-primary text-white",secondary:"bg-secondary text-white",warning:"bg-warning text-white",danger:"bg-danger text-white",ghost:"bg-gray-100 text-gray-700",success:"bg-success text-white"},row:{primary:"hover:bg-primary-50",default:"hover:bg-primary-50",secondary:"hover:bg-secondary-50",warning:"hover:bg-warning-50",danger:"hover:bg-danger-50",ghost:"hover:bg-gray-50",success:"hover:bg-success-50"},border:{primary:"border-primary",default:"border-primary",secondary:"border-secondary",warning:"border-warning",danger:"border-danger",ghost:"border-gray-200",success:"border-success"},stripe:{primary:"bg-primary-50",default:"bg-none",secondary:"bg-secondary-50",warning:"bg-warning-50",danger:"bg-danger-50",ghost:"bg-gray-50",success:"bg-success-50"},hoverStripe:{primary:"group-hover:bg-primary-50",default:"group-hover:bg-primary-50",secondary:"group-hover:bg-secondary-50",warning:"group-hover:bg-warning-50",danger:"group-hover:bg-danger-50",ghost:"group-hover:bg-gray-50",success:"group-hover:bg-success-50"}};return{header:e.header[t],row:e.row[t],border:e.border[t],stripe:e.stripe[t],hoverStripe:e.hoverStripe[t]}},W5=({schema:t,variant:e="default",showIndexSticky:n=!1,isMobile:r=!1})=>{const o=[{name:"no",label:"No.",accessorKey:"no",type:"number",width:80,sticky:n,stickyPosition:"left"},...t],s=kg(e);return m.jsx("div",{className:"bg-white rounded-md flex flex-col h-full max-h-[600px]",children:m.jsx("div",{className:"p-0 w-full overflow-auto rounded-t-md [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar]:h-2 [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300 [&::-webkit-scrollbar-thumb]:rounded-full flex-1",children:m.jsxs("table",{className:"w-full border-spacing-0 border-separate min-w-full",children:[m.jsx("thead",{className:U("border-2 sticky top-0 z-20 rounded-t-md",s.border),children:m.jsx("tr",{children:o.map((i,a)=>{const l=()=>{var c;if(r||!i.sticky||i.stickyPosition!=="left")return 0;let d=0;for(let u=0;u<a;u++){const f=o[u];if(f.sticky&&f.stickyPosition==="left"){const p=typeof f.width=="number"?f.width:parseInt(((c=f.width)==null?void 0:c.toString())||"0")||0;d+=p}}return d};return m.jsx("th",{className:U("text-sm text-wrap border-y p-4 text-left",s.header,{"rounded-tl-md":a===0,"rounded-tr-md":a===o.length-1,"sticky z-30":!r&&i.sticky,"left-0":!r&&i.sticky&&i.stickyPosition==="left","right-0":!r&&i.sticky&&i.stickyPosition==="right"}),style:{width:typeof i.width=="number"?`${i.width}px`:i.width,minWidth:typeof i.width=="number"?`${i.width}px`:i.width,left:!r&&i.sticky&&i.stickyPosition==="left"?`${l()}px`:void 0},children:i.label},a)})})}),m.jsx("tbody",{children:[...Array(5)].map((i,a)=>m.jsx("tr",{className:U("p-3",{[s.stripe]:a%2!==0,"bg-white":a%2===0}),children:o.map((l,d)=>{const c=()=>{var f;if(!l.sticky||l.stickyPosition!=="left")return 0;let u=0;for(let p=0;p<d;p++){const h=o[p];if(h.sticky&&h.stickyPosition==="left"){const b=typeof h.width=="number"?h.width:parseInt(((f=h.width)==null?void 0:f.toString())||"0")||0;u+=b}}return u};return m.jsx("td",{className:U("text-left text-nowrap text-sm p-4",{"sticky z-10":l.sticky,"left-0":l.sticky&&l.stickyPosition==="left","right-0":l.sticky&&l.stickyPosition==="right","bg-white":l.sticky&&(a%2===0||e==="default"),[s.stripe]:l.sticky&&a%2!==0&&e!=="default",[s.hoverStripe]:l.sticky,"border-b border-gray-200":e==="default"}),style:{width:typeof l.width=="number"?`${l.width}px`:l.width,minWidth:typeof l.width=="number"?`${l.width}px`:l.width,left:l.sticky&&l.stickyPosition==="left"?`${c()}px`:void 0},children:m.jsx(Xf,{className:"h-10 w-full rounded-md"})},`${a}-${d}`)})},a))})]})})})},U5=({schema:t,data:e,className:n,headerClassName:r,rowClassName:o,cellClassName:s,emptyState:i,isLoading:a,loadingState:l,showIndex:d=!1,showIndexSticky:c=!1,onPageChange:u,onPageSizeChange:f,onSortChange:p,onRowClick:h,showPagination:b=!1,variant:g="default",meta:y={current_page:1,total_page:1,total_data:0,limit_number:10}})=>{const[x,k]=v.useState(()=>{const z=t.find($=>$.sortable&&$.sort);return z?[{id:z.accessorKey.toString(),desc:z.sort==="desc"}]:[]}),[E,S]=v.useState(!1);v.useEffect(()=>{const z=()=>S(window.innerWidth<768);return z(),window.addEventListener("resize",z),()=>window.removeEventListener("resize",z)},[]);const C=v.useMemo(()=>{const z=t.map($=>({accessorKey:$.accessorKey,header:$.label,enableSorting:!!$.sortable,cell:$.render?({row:O})=>{var T;return(T=$.render)==null?void 0:T.call($,O.original[$.accessorKey],O.original,O.index)}:({row:O})=>O.original[$.accessorKey]||"-",meta:{align:$.align||"left",width:$.width,sticky:$.sticky,stickyPosition:$.stickyPosition||"left"}}));return d?[{accessorKey:"no",header:"No.",enableSorting:!1,cell:({row:$})=>(y.current_page-1)*y.limit_number+$.index+1,meta:{align:"left",width:80,sticky:c,stickyPosition:"left"}},...z]:z},[t,d,c,y]),M=Qr.useReactTable({data:e,columns:C,state:{sorting:x},onSortingChange:z=>{const $=typeof z=="function"?z(x):z;k($),$.length>0?p==null||p($[0].desc?"desc":"asc",$[0].id):p==null||p("","")},getCoreRowModel:Qr.getCoreRowModel(),getSortedRowModel:Qr.getSortedRowModel(),getPaginationRowModel:Qr.getPaginationRowModel(),manualPagination:!0,pageCount:y.total_page}),I=kg(g);if(a)return l||m.jsx(W5,{schema:t,variant:g,showIndexSticky:c,isMobile:E});const D=(z,$,O)=>{const T=z.target;T.tagName==="BUTTON"||T.tagName==="A"||T.tagName==="INPUT"||T.tagName==="SELECT"||T.closest("button")!==null||T.closest("a")!==null||T.closest("input")!==null||T.closest("select")!==null||h==null||h($,O)};return m.jsxs("div",{className:"bg-white rounded-md flex flex-col h-full max-h-[600px]",children:[m.jsx("div",{className:"p-0 w-full overflow-auto rounded-t-md [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar]:h-2 [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300 [&::-webkit-scrollbar-thumb]:rounded-full flex-1",children:m.jsxs("table",{className:U("w-full border-spacing-0 border-separate min-w-full",n),children:[m.jsx("thead",{className:U("border-2 sticky top-0 z-20 rounded-t-md",I.border),children:M.getHeaderGroups().map(z=>m.jsx("tr",{children:z.headers.map(($,O)=>{const T=$.column.columnDef.meta,A=()=>{var w;if(E||!(T!=null&&T.sticky)||T.stickyPosition!=="left")return 0;let _=0;for(let L=0;L<O;L++){const B=z.headers[L].column.columnDef.meta;if(B!=null&&B.sticky&&B.stickyPosition==="left"){const F=typeof B.width=="number"?B.width:parseInt(((w=B.width)==null?void 0:w.toString())||"0")||0;_+=F}}return _};return m.jsx("th",{className:U("text-sm text-wrap border-y p-4",I.header,{"cursor-pointer":$.column.getCanSort(),"rounded-tl-md":O===0,"rounded-tr-md":O===z.headers.length-1,"text-left":(T==null?void 0:T.align)==="left","text-center":(T==null?void 0:T.align)==="center","text-right":(T==null?void 0:T.align)==="right","sticky z-30":!E&&(T==null?void 0:T.sticky),"left-0":!E&&(T==null?void 0:T.sticky)&&T.stickyPosition==="left","right-0":!E&&(T==null?void 0:T.sticky)&&T.stickyPosition==="right"},r),style:{width:typeof(T==null?void 0:T.width)=="number"?`${T.width}px`:T==null?void 0:T.width,minWidth:typeof(T==null?void 0:T.width)=="number"?`${T.width}px`:T==null?void 0:T.width,left:!E&&(T!=null&&T.sticky)&&T.stickyPosition==="left"?`${A()}px`:void 0},onClick:$.column.getCanSort()?$.column.getToggleSortingHandler():void 0,children:m.jsxs("div",{className:"flex items-center gap-2 relative z-10",children:[m.jsx("span",{className:U({"font-semibold":O===0}),children:Qr.flexRender($.column.columnDef.header,$.getContext())}),$.column.getCanSort()&&m.jsx(xe,{icon:$.column.getIsSorted()?$.column.getIsSorted()==="desc"?"mdi:keyboard-arrow-up":"mdi:keyboard-arrow-down":"mdi:unfold-more-horizontal",className:U("h-4 w-4 flex-shrink-0",{"text-white":g!=="ghost","text-gray-700":g==="ghost"})})]})},$.id)})},z.id))}),m.jsx("tbody",{children:M.getRowModel().rows.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:M.getAllColumns().length,className:U("text-center border h-full w-full rounded-b-md"),children:i||m.jsxs("div",{className:"flex mx-auto w-full text-center justify-center gap-3 items-center",children:[m.jsx("p",{children:"Data Not Found"}),m.jsx(xe,{icon:"mdi:face-frown-open",size:34})]})})}):M.getRowModel().rows.map((z,$)=>m.jsx("tr",{className:U("p-3 group",I.row,{[I.stripe]:$%2!==0,"bg-white":$%2===0,"cursor-pointer":h},o),onClick:O=>D(O,z.original,$),children:z.getVisibleCells().map(O=>{const T=O.column.columnDef.meta,A=()=>{var j;if(E||!(T!=null&&T.sticky)||T.stickyPosition!=="left")return 0;let _=0;const w=M.getAllColumns(),L=w.findIndex(B=>B.id===O.column.id);for(let B=0;B<L;B++){const P=w[B].columnDef.meta;if(P!=null&&P.sticky&&P.stickyPosition==="left"){const V=typeof P.width=="number"?P.width:parseInt(((j=P.width)==null?void 0:j.toString())||"0")||0;_+=V}}return _};return m.jsx("td",{className:U("px-4 py-3 text-sm text-gray-900",{"text-left":(T==null?void 0:T.align)==="left","text-center":(T==null?void 0:T.align)==="center","text-right":(T==null?void 0:T.align)==="right","sticky z-10":!E&&(T==null?void 0:T.sticky),"left-0":!E&&(T==null?void 0:T.sticky)&&T.stickyPosition==="left","right-0":!E&&(T==null?void 0:T.sticky)&&T.stickyPosition==="right","bg-white":!E&&(T==null?void 0:T.sticky)&&($%2===0||g==="default"),[I.stripe]:!E&&(T==null?void 0:T.sticky)&&$%2!==0&&g!=="default",[I.hoverStripe]:!E&&(T==null?void 0:T.sticky),"border-b border-gray-200":g==="default"},s),style:{width:typeof(T==null?void 0:T.width)=="number"?`${T.width}px`:T==null?void 0:T.width,minWidth:typeof(T==null?void 0:T.width)=="number"?`${T.width}px`:T==null?void 0:T.width,left:!E&&(T!=null&&T.sticky)&&T.stickyPosition==="left"?`${A()}px`:void 0},children:Qr.flexRender(O.column.columnDef.cell,O.getContext())},O.id)})},z.id))})]})}),!!e.length&&b&&m.jsx("div",{className:"p-4 bg-white rounded-b-md border-t border-gray-200 sticky bottom-0 z-10 flex-shrink-0",children:m.jsx(qf,{currentPage:y.current_page,totalPages:y.total_page,totalData:y.total_data,onPageChange:u||(()=>{}),perPage:y.limit_number,onPerPageChange:f||(()=>{}),perPageOptions:[5,10,20,50,100],siblingCount:1})})]})},G5={none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",full:"rounded-full"},qd=v.forwardRef(({className:t,variant:e="default",rounded:n="lg",title:r,description:o,onClose:s,icon:i,showIcon:a=!0,showClose:l=!0,...d},c)=>{const f=i||(a?{default:"mdi:information",success:"mdi:check-circle",error:"mdi:alert-circle",warning:"mdi:alert",info:"mdi:information"}[e]:void 0),p=r||o;return m.jsxs("div",{ref:c,className:U("flex",o?"items-start gap-3 p-4":"items-center gap-2 py-2.5 px-3","border border-gray-200",G5[n],{"bg-white":e==="default","bg-success-50":e==="success","bg-danger-50":e==="error","bg-warning-50":e==="warning","bg-info-50":e==="info"},t),...d,children:[f&&m.jsx(xe,{icon:f,className:U("flex-shrink-0",o?"h-5 w-5 mt-0.5":"h-4 w-4",{"text-gray":e==="default","text-success":e==="success","text-danger":e==="error","text-warning":e==="warning","text-info":e==="info"})}),m.jsxs("div",{className:"flex-1",children:[r&&m.jsx("h3",{className:U("text-sm font-medium leading-5",{"text-gray-900":e==="default","text-success-900":e==="success","text-danger-900":e==="error","text-warning-900":e==="warning","text-info-900":e==="info"}),children:r}),o&&m.jsx("p",{className:U(r?"mt-1":"","text-sm leading-5",{"text-gray":e==="default","text-success-700":e==="success","text-danger-700":e==="error","text-warning-700":e==="warning","text-info-700":e==="info"}),children:o}),!p&&m.jsx("span",{className:"text-sm leading-5",children:d.children})]}),l&&s&&m.jsx(Ae,{variant:"ghost",size:"sm",onClick:s,className:U("flex-shrink-0 !p-1",o?"ml-4":"ml-2",{"text-gray-400 hover:text-gray":e==="default","text-success-400 hover:text-success":e==="success","text-danger-400 hover:text-danger":e==="error","text-warning-400 hover:text-warning":e==="warning","text-info-400 hover:text-info":e==="info"}),children:m.jsx(xe,{icon:"mdi:close",className:U(o?"h-5 w-5":"h-4 w-4")})})]})});qd.displayName="Toast";const Yd=v.createContext(void 0),K5={"top-left":"top-4 left-4","top-right":"top-4 right-4","bottom-left":"bottom-4 left-4","bottom-right":"bottom-4 right-4","top-center":"top-4 left-1/2 -translate-x-1/2","bottom-center":"bottom-4 left-1/2 -translate-x-1/2"},q5=({children:t})=>{const[e,n]=v.useState([]),r=v.useCallback(a=>{n(l=>l.filter(d=>d.id!==a))},[]),o=v.useCallback(a=>{const l=Math.random().toString(36).substr(2,9),d=a.position||"top-right",c=a.duration||5e3,u={...a,id:l,position:d};return n(f=>[...f,u]),c>0&&setTimeout(()=>{r(l)},c),l},[r]),s=e.reduce((a,l)=>(a[l.position]||(a[l.position]=[]),a[l.position].push(l),a),{"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[],"top-center":[],"bottom-center":[]}),i=wt();return"body"in i?m.jsxs(Yd.Provider,{value:{showToast:o,removeToast:r},children:[t,sn.createPortal(m.jsx(m.Fragment,{children:Object.entries(s).map(([a,l])=>m.jsx("div",{className:U("fixed z-[100] flex flex-col gap-2 min-w-[320px] max-w-[420px]",K5[a],a.includes("bottom")?"flex-col-reverse":"flex-col"),children:l.map(d=>m.jsx(qd,{...d,onClose:()=>r(d.id),className:"animate-slide-in"},d.id))},a))}),i.body)]}):m.jsx(Yd.Provider,{value:{showToast:o,removeToast:r},children:t})},Y5=()=>{const t=v.useContext(Yd);if(!t)throw new Error("useToast must be used within a ToastProvider");return t},J5={400:{image:"https://design-system-eaip.onrender.com/img/error.svg",message:"Bad request. Please check your input and try again."},401:{image:"https://design-system-eaip.onrender.com/img/error.svg",message:"Please sign in to access this resource."},403:{image:"https://design-system-eaip.onrender.com/img/error.svg",message:"You do not have permission to access this resource."},404:{image:"https://design-system-eaip.onrender.com/img/page-not-found.svg",message:"The page you are looking for does not exist."},500:{image:"https://design-system-eaip.onrender.com/img/error.svg",message:"Something went wrong on our end. Please try again later."},502:{image:"https://design-system-eaip.onrender.com/img/error.svg",message:"Bad gateway. Our servers are having trouble connecting."},503:{image:"https://design-system-eaip.onrender.com/img/error.svg",message:"Service unavailable. We are currently performing maintenance."},504:{image:"https://design-system-eaip.onrender.com/img/error.svg",message:"Gateway timeout. The server took too long to respond."}},Sg={PAGE_NOT_FOUND:{image:"https://design-system-eaip.onrender.com/img/page-not-found.svg",message:"The page you are looking for does not exist."},NO_INTERNET:{image:"https://design-system-eaip.onrender.com/img/no-internet.svg",message:"Please check your internet connection and try again."},DATA_NOT_FOUND:{image:"https://design-system-eaip.onrender.com/img/search-not-found.svg",message:"No data available for your request."},UNDER_DEVELOPMENT:{image:"https://design-system-eaip.onrender.com/img/under-development.svg",message:"This feature is currently under development."},INFORMATION_UNAVAILABLE:{image:"https://design-system-eaip.onrender.com/img/search-not-found.svg",message:"The requested information is currently unavailable."},PAYMENT_SUCCESS:{image:"https://design-system-eaip.onrender.com/img/payment-success.svg",message:"Operation completed successfully."},PAYMENT_FAILED:{image:"https://design-system-eaip.onrender.com/img/payment-failed.svg",message:"Payment failed. Please try again."},NO_ORDER:{image:"https://design-system-eaip.onrender.com/img/no-order.svg",message:"No order found."},TIMEOUT:{image:"https://design-system-eaip.onrender.com/img/timeout.svg",message:"Request timed out. Please try again."},ON_PROCESS:{image:"https://design-system-eaip.onrender.com/img/on-process.svg",message:"Your request is being processed. Please wait for a moment."}},X5={"no-internet":"NO_INTERNET","data-not-found":"DATA_NOT_FOUND","under-development":"UNDER_DEVELOPMENT","information-unavailable":"INFORMATION_UNAVAILABLE","payment-success":"PAYMENT_SUCCESS","payment-failed":"PAYMENT_FAILED","no-order":"NO_ORDER",timeout:"TIMEOUT","on-process":"ON_PROCESS","page-not-found":"PAGE_NOT_FOUND"},Eg={...J5,...Sg},Cg={image:"https://design-system-eaip.onrender.com/img/error.svg",message:"An unexpected error occurred. Our team is currently investigating the issue."},Tg=t=>typeof t=="object"&&t!==null&&("code"in t||"message"in t),Z5=({error:t,reload:e,children:n,className:r="",variant:o,customImage:s,customMessage:i})=>{if(!t&&!o)return n?m.jsx(m.Fragment,{children:n}):null;const l=(()=>{if(o){const u=X5[o];return Sg[u]}return Tg(t)&&t.code&&Eg[t.code]?Eg[t.code]:Cg})(),d=s||l.image,c=i||(Tg(t)?t.message:null)||l.message;return m.jsxs("div",{className:`flex flex-col items-center justify-center p-8 text-center gap-4 ${r}`,children:[m.jsx("img",{src:d,alt:"Error illustration",className:"max-w-[300px] h-auto"}),typeof c=="string"?m.jsx(ao,{variant:"body1",className:"m-0",children:c}):m.jsx("div",{className:"m-0",children:c}),e&&m.jsx(Ae,{onClick:e,rounded:"full",variant:"primary",size:"md",children:"Try Again"})]})},Ng=ft("border bg-white flex items-center justify-center aspect-square transition-colors placeholder:text-neutral placeholder:text-sm focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 text-center",{variants:{variant:{default:"border-neutral-200 hover:border-primary-300 focus:border-primary-300 hover:bg-primary-50",error:"border-danger hover:border-danger-600 focus:border-danger-600 hover:bg-danger-50",success:"border-success hover:border-success-600 focus:border-success-600 hover:bg-success-50",ghost:"border-transparent bg-transparent hover:bg-primary-50 focus:bg-primary-50",underline:"border-0 border-b-2 border-neutral-200 rounded-none bg-transparent hover:border-primary-300 focus:border-primary-300 hover:bg-transparent focus:bg-transparent"},size:{sm:"h-8 w-8 text-sm",md:"h-12 w-12 text-lg",lg:"h-16 w-16 text-xl"},rounded:{none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",full:"rounded-full"}},defaultVariants:{variant:"default",size:"md",rounded:"md"}}),Mg=v.forwardRef(({className:t,variant:e="default",size:n="md",rounded:r="md",error:o=!1,errorText:s,helperText:i,label:a,bottomLabel:l,required:d=!1,showSubmitButton:c=!1,submitButtonLabel:u="Submit",submitButtonVariant:f="primary",length:p=6,numericOnly:h=!0,onComplete:b,onChange:g,onSubmit:y,value:x,defaultValue:k="",disabled:E=!1,autoFocus:S=!1,...C},M)=>{const[I,D]=v.useState(k||""),z=v.useRef([]);v.useEffect(()=>{x!==void 0&&D(x)},[x]);const $=x!==void 0,O=$?x:I,T=P=>{$||D(P),g==null||g(P),P.length===p&&(b==null||b(P),c||y==null||y(P))},A=P=>V=>{z.current[P]=V},_=P=>{P.target.select()},w=(P,V)=>{var H;const Y=P.target.value;let X="";if(Y.length>=1)X=Y.slice(-1);else if(Y.length===0){const G=O.split("");G[V]="",T(G.join(""));return}if(h&&!/^\d$/.test(X))return;const oe=O.split("");for(;oe.length<=V;)oe.push("");oe[V]=X;const W=oe.join("");T(W),V<p-1&&X&&((H=z.current[V+1])==null||H.focus())},L=(P,V)=>{var Y,X,oe;if(P.key==="Backspace"){const W=O.split("");O[V]?(P.preventDefault(),W[V]="",T(W.join(""))):V>0&&(P.preventDefault(),W[V-1]="",T(W.join("")),(Y=z.current[V-1])==null||Y.focus())}else if(P.key==="Delete"){if(O[V]){P.preventDefault();const W=O.split("");W[V]="",T(W.join(""))}}else if(P.key==="ArrowLeft"&&V>0)P.preventDefault(),(X=z.current[V-1])==null||X.focus();else if(P.key==="ArrowRight"&&V<p-1)P.preventDefault(),(oe=z.current[V+1])==null||oe.focus();else if(!P.ctrlKey&&!P.altKey&&!P.metaKey&&P.key.length===1&&h&&!/^\d$/.test(P.key)){P.preventDefault();return}},j=P=>{var W;P.preventDefault();const V=P.clipboardData.getData("text/plain").trim();if(h&&!/^\d+$/.test(V))return;const X=V.slice(0,p).padEnd(O.length,"").slice(0,p);T(X);const oe=X.length<p?X.length:p-1;(W=z.current[oe])==null||W.focus()},B=()=>{O.length===p&&(y==null||y(O))},F=O.split("").concat(Array(p-O.length).fill(""));return m.jsxs("div",{ref:M,className:U("w-full",t),...C,children:[a&&m.jsxs("label",{className:"mb-1.5 block text-sm text-neutral-900",children:[a,d&&m.jsx("span",{className:"text-danger ml-0.5",children:"*"})]}),m.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[m.jsx("div",{className:"flex items-center justify-center gap-2",children:Array.from({length:p}).map((P,V)=>m.jsx("input",{ref:A(V),type:h?"tel":"text",inputMode:h?"numeric":"text",maxLength:1,value:F[V]||"",onChange:Y=>w(Y,V),onKeyDown:Y=>L(Y,V),onPaste:V===0?j:void 0,onFocus:_,disabled:E,autoFocus:S&&V===0,className:U(Ng({variant:o?"error":e,size:n,rounded:r})),"aria-invalid":o},V))}),o&&s&&m.jsx("p",{className:"mt-1 text-xs text-danger self-start",children:s}),!o&&i&&m.jsx("p",{className:"mt-1 text-xs text-neutral self-start",children:i}),l&&m.jsx("p",{className:"text-sm text-neutral-600",children:l}),c&&m.jsx(Ae,{variant:f,disabled:O.length!==p||E,onClick:B,className:"mt-4",children:u})]})]})});Mg.displayName="InputOTP";const Ag={primary:"#007C99",secondary:"#CEEAE7",danger:"#CA0000",warning:"#FF9319",info:"#0073E6",success:"#00B37D",disabled:"#959595"},Q5=({icon:t,className:e,color:n="primary",value:r,maxValue:o=99,children:s,...i})=>{const a="top-0 right-0",l=typeof r=="number"&&!isNaN(r);let d="";l&&(r>o?d=`${o}+`:d=String(r));const c=l?"px-2":"",u=l?"min-w-[20px]":"w-2.5 h-2.5",f=l?"h-5":"h-2.5",p=typeof n=="string"&&n in Ag?Ag[n]:n;return m.jsxs("div",{className:U("relative inline-block",e),children:[s||(t?m.jsx(xe,{icon:t,color:p,size:32,...i}):null),m.jsx("span",{className:U("absolute flex items-center justify-center rounded-xl bg-[#FF4C4C] text-white text-[10px] font-semibold",a,c,u,f,!l&&"p-0",!l&&"rounded-full"),style:{transform:"translate(50%,-50%)"},children:l?d:""})]})},e9={FLIGHT_LIGHT:{image:"https://design-system-eaip.onrender.com/img/flight-loader-light.gif",message:"Loading, please wait..."},FLIGHT_DARK:{image:"https://design-system-eaip.onrender.com/img/flight-loader-dark.gif",message:"Loading, please wait..."},"TIXIA-CIRCULAR":{image:"https://design-system-eaip.onrender.com/img/tixia-circular.gif",message:"Loading, please wait..."},"TIXIA-LINEAR":{image:"https://design-system-eaip.onrender.com/img/tixia-linear.gif",message:"Loading, please wait..."},"HOTEL-LOADER":{image:"https://design-system-eaip.onrender.com/img/hotel-loader.gif",message:"Loading, please wait..."}},t9={"flight-light":"FLIGHT_LIGHT","flight-dark":"FLIGHT_DARK","tixia-circular":"TIXIA-CIRCULAR","tixia-linear":"TIXIA-LINEAR","hotel-loader":"HOTEL-LOADER"},ji=(t,e)=>t===void 0?{className:e}:typeof t=="number"?{className:"",style:{width:`${t}px`,height:`${t}px`}}:{className:t},n9=({variant:t,customImage:e,customMessage:n,width:r="w-full",height:o="h-full",widthImg:s="w-auto",heightImg:i="h-auto",className:a=""})=>{const l=t9[t],d=e9[l],c=ji(r,"w-full"),u=ji(o,"h-full"),f=ji(s,"w-auto"),p=ji(i,"h-auto");return m.jsxs("div",{className:`flex flex-col items-center justify-center p-8 text-center gap-4 ${c.className} ${u.className} ${a}`,style:{...c.style,...u.style},children:[m.jsx("img",{src:e||d.image,alt:"Loading animation",className:`${f.className} ${p.className}`,style:{...f.style,...p.style}}),n?typeof n=="string"?m.jsx(ao,{variant:"body1",className:"m-0",children:n}):m.jsx("div",{className:"m-0",children:n}):m.jsx(ao,{variant:"body1",className:"m-0",children:d.message})]})},r9={PAGE_NOT_FOUND:{image:"https://design-system-eaip.onrender.com/img/page-not-found.svg",message:"The page you are looking for does not exist."},PAGE_NOT_FOUND_V2:{image:"https://design-system-eaip.onrender.com/img/page-not-found-v2.svg",message:"The page you are looking for does not exist."},NO_INTERNET:{image:"https://design-system-eaip.onrender.com/img/no-internet.svg",message:"Please check your internet connection and try again."},DATA_NOT_FOUND:{image:"https://design-system-eaip.onrender.com/img/search-not-found.svg",message:"No data available for your request."},UNDER_DEVELOPMENT:{image:"https://design-system-eaip.onrender.com/img/under-development.svg",message:"This feature is currently under development."},INFORMATION_UNAVAILABLE:{image:"https://design-system-eaip.onrender.com/img/search-not-found.svg",message:"The requested information is currently unavailable."},PAYMENT_SUCCESS:{image:"https://design-system-eaip.onrender.com/img/payment-success.svg",message:"Operation completed successfully."},PAYMENT_FAILED:{image:"https://design-system-eaip.onrender.com/img/payment-failed.svg",message:"Payment failed. Please try again."},NO_ORDER:{image:"https://design-system-eaip.onrender.com/img/no-order.svg",message:"No order found."},TIMEOUT:{image:"https://design-system-eaip.onrender.com/img/timeout.svg",message:"Request timed out. Please try again."},ON_PROCESS:{image:"https://design-system-eaip.onrender.com/img/on-process.svg",message:"Your request is being processed. Please wait for a moment."},NO_SEAT_AVAILABLE:{image:"https://design-system-eaip.onrender.com/img/seat-not-available.svg",message:"No seat available. Please try again later."},CHANGE_PRICE:{image:"https://design-system-eaip.onrender.com/img/change-price.svg",message:"The price has been changed. Please try again."},HELP_DESK:{image:"https://design-system-eaip.onrender.com/img/help-desk.svg",message:"Please contact our help desk for assistance."},APPROVED:{image:"https://design-system-eaip.onrender.com/img/approved.svg",message:"Your request has been approved."},REJECTED:{image:"https://design-system-eaip.onrender.com/img/rejected.svg",message:"Your request has been rejected."}},o9={"no-internet":"NO_INTERNET","data-not-found":"DATA_NOT_FOUND","under-development":"UNDER_DEVELOPMENT","information-unavailable":"INFORMATION_UNAVAILABLE","payment-success":"PAYMENT_SUCCESS","payment-failed":"PAYMENT_FAILED","no-order":"NO_ORDER",timeout:"TIMEOUT","on-process":"ON_PROCESS","page-not-found":"PAGE_NOT_FOUND","page-not-found-v2":"PAGE_NOT_FOUND_V2","no-seat-available":"NO_SEAT_AVAILABLE","change-price":"CHANGE_PRICE","help-desk":"HELP_DESK",approved:"APPROVED",rejected:"REJECTED"},s9=({variant:t,customMessage:e,reload:n,reloadText:r="Try Again",customImage:o,width:s,height:i,className:a=""})=>{const l=o9[t],d=r9[l];return m.jsxs("div",{className:`flex flex-col items-center justify-center p-8 text-center gap-4 ${a}`,children:[m.jsx("img",{src:o||d.image,alt:"Negative case illustration",className:"max-w-[300px] h-auto",style:{width:s,height:i}}),e?typeof e=="string"?m.jsx(ao,{variant:"body1",className:"m-0",children:e}):m.jsx("div",{className:"m-0",children:e}):m.jsx(ao,{variant:"body1",className:"m-0",children:d.message}),n&&m.jsx(Ae,{onClick:n,rounded:"full",variant:"primary",size:"md",children:r})]})},i9=({children:t,delay:e=0,index:n,onMouseEnter:r,onClick:o})=>{const s=v.useRef(null),i=Rt.useInView(s,{amount:.5});return m.jsx(Rt.motion.div,{ref:s,"data-index":n,onMouseEnter:r,onClick:o,initial:{scale:.7,opacity:0},animate:i?{scale:1,opacity:1}:{scale:.7,opacity:0},transition:{duration:.2,delay:e},style:{marginBottom:"1rem",cursor:"pointer"},children:t})},a9=({items:t,children:e,onItemSelect:n,showGradients:r=!1,enableArrowNavigation:o=!1,className:s="",itemClassName:i="",displayScrollbar:a=!0,initialSelectedIndex:l=-1})=>{const d=v.useRef(null),[c,u]=v.useState(l),[f,p]=v.useState(!1),[h,b]=v.useState(0),[g,y]=v.useState(1),x=v.useMemo(()=>e?v.Children.toArray(e):t||[],[e,t]),k=v.useMemo(()=>!!e,[e]),E=S=>{const{scrollTop:C,scrollHeight:M,clientHeight:I}=S.currentTarget;b(Math.min(C/50,1));const D=M-(C+I);y(M<=I?0:Math.min(D/50,1))};return v.useEffect(()=>{if(!o)return;const S=C=>{C.key==="ArrowDown"||C.key==="Tab"&&!C.shiftKey?(C.preventDefault(),p(!0),u(M=>Math.min(M+1,x.length-1))):C.key==="ArrowUp"||C.key==="Tab"&&C.shiftKey?(C.preventDefault(),p(!0),u(M=>Math.max(M-1,0))):C.key==="Enter"&&c>=0&&c<x.length&&(C.preventDefault(),n&&n(x[c],c))};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[x,c,n,o]),v.useEffect(()=>{if(!f||c<0||!d.current)return;const S=d.current,C=S.querySelector(`[data-index="${c}"]`);if(C){const I=S.scrollTop,D=S.clientHeight,z=C.offsetTop,$=z+C.offsetHeight;z<I+50?S.scrollTo({top:z-50,behavior:"smooth"}):$>I+D-50&&S.scrollTo({top:$-D+50,behavior:"smooth"})}p(!1)},[c,f]),m.jsxs("div",{className:`scroll-list-container ${s}`,children:[m.jsx("div",{ref:d,className:`scroll-list ${a?"":"no-scrollbar"}`,onScroll:E,children:x.map((S,C)=>m.jsx(i9,{delay:.1,index:C,onMouseEnter:()=>u(C),onClick:()=>{u(C),n&&n(S,C)},children:k?m.jsx("div",{className:`${c===C?"selected":""} ${i}`,children:S}):m.jsx("div",{className:`border border-gray-200 rounded-md p-2 w-full hover:bg-gray-300 ${c===C?"selected":""} ${i}`,children:m.jsx("p",{className:"item-text",children:S})})},C))}),r&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"top-gradient",style:{opacity:h}}),m.jsx("div",{className:"bottom-gradient",style:{opacity:g}})]})]})};function kt(t){this.content=t}kt.prototype={constructor:kt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,o=r.find(t),s=r.content.slice();return o==-1?s.push(n||t,e):(s[o+1]=e,n&&(s[o]=n)),new kt(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new kt(n)},addToStart:function(t,e){return new kt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new kt(n)},addBefore:function(t,e,n){var r=this.remove(e),o=r.content.slice(),s=r.find(t);return o.splice(s==-1?o.length:s,0,e,n),new kt(o)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=kt.from(t),t.size?new kt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=kt.from(t),t.size?new kt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=kt.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}},kt.from=function(t){if(t instanceof kt)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new kt(e)};function Pg(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let o=t.child(r),s=e.child(r);if(o==s){n+=o.nodeSize;continue}if(!o.sameMarkup(s))return n;if(o.isText&&o.text!=s.text){for(let i=0;o.text[i]==s.text[i];i++)n++;return n}if(o.content.size||s.content.size){let i=Pg(o.content,s.content,n+1);if(i!=null)return i}n+=o.nodeSize}}function Og(t,e,n,r){for(let o=t.childCount,s=e.childCount;;){if(o==0||s==0)return o==s?null:{a:n,b:r};let i=t.child(--o),a=e.child(--s),l=i.nodeSize;if(i==a){n-=l,r-=l;continue}if(!i.sameMarkup(a))return{a:n,b:r};if(i.isText&&i.text!=a.text){let d=0,c=Math.min(i.text.length,a.text.length);for(;d<c&&i.text[i.text.length-d-1]==a.text[a.text.length-d-1];)d++,n--,r--;return{a:n,b:r}}if(i.content.size||a.content.size){let d=Og(i.content,a.content,n-1,r-1);if(d)return d}n-=l,r-=l}}class K{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,o=0,s){for(let i=0,a=0;a<n;i++){let l=this.content[i],d=a+l.nodeSize;if(d>e&&r(l,o+a,s||null,i)!==!1&&l.content.size){let c=a+1;l.nodesBetween(Math.max(0,e-c),Math.min(l.content.size,n-c),r,o+c)}a=d}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,o){let s="",i=!0;return this.nodesBetween(e,n,(a,l)=>{let d=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?o?typeof o=="function"?o(a):o:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&d||a.isTextblock)&&r&&(i?i=!1:s+=r),s+=d},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,o=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(o[o.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)o.push(e.content[s]);return new K(o,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],o=0;if(n>e)for(let s=0,i=0;i<n;s++){let a=this.content[s],l=i+a.nodeSize;l>e&&((i<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-i),Math.min(a.text.length,n-i)):a=a.cut(Math.max(0,e-i-1),Math.min(a.content.size,n-i-1))),r.push(a),o+=a.nodeSize),i=l}return new K(r,o)}cutByIndex(e,n){return e==n?K.empty:e==0&&n==this.content.length?this:new K(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let o=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return o[e]=n,new K(o,s)}addToStart(e){return new K([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new K(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let o=this.content[n];e(o,r,n),r+=o.nodeSize}}findDiffStart(e,n=0){return Pg(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return Og(this,e,n,r)}findIndex(e){if(e==0)return Ri(0,e);if(e==this.size)return Ri(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let o=this.child(n),s=r+o.nodeSize;if(s>=e)return s==e?Ri(n+1,s):Ri(n,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return K.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new K(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return K.empty;let n,r=0;for(let o=0;o<e.length;o++){let s=e[o];r+=s.nodeSize,o&&s.isText&&e[o-1].sameMarkup(s)?(n||(n=e.slice(0,o)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new K(n||e,r)}static from(e){if(!e)return K.empty;if(e instanceof K)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new K([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}K.empty=new K([],0);const Jd={index:0,offset:0};function Ri(t,e){return Jd.index=t,Jd.offset=e,Jd}function _i(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!_i(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!_i(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Be=class vf{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let o=0;o<e.length;o++){let s=e[o];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,o));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,o)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&_i(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let o=r.create(n.attrs);return r.checkAttrs(o.attrs),o}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return vf.none;if(e instanceof vf)return[e];let n=e.slice();return n.sort((r,o)=>r.type.rank-o.type.rank),n}};Be.none=[];class Fi extends Error{}class te{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=Lg(this.content,e+this.openStart,n);return r&&new te(r,this.openStart,this.openEnd)}removeBetween(e,n){return new te(Ig(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return te.empty;let r=n.openStart||0,o=n.openEnd||0;if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new te(K.fromJSON(e,n.content),r,o)}static maxOpen(e,n=!0){let r=0,o=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)o++;return new te(e,r,o)}}te.empty=new te(K.empty,0,0);function Ig(t,e,n){let{index:r,offset:o}=t.findIndex(e),s=t.maybeChild(r),{index:i,offset:a}=t.findIndex(n);if(o==e||s.isText){if(a!=n&&!t.child(i).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=i)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(Ig(s.content,e-o-1,n-o-1)))}function Lg(t,e,n,r){let{index:o,offset:s}=t.findIndex(e),i=t.maybeChild(o);if(s==e||i.isText)return r&&!r.canReplace(o,o,n)?null:t.cut(0,e).append(n).append(t.cut(e));let a=Lg(i.content,e-s-1,n,i);return a&&t.replaceChild(o,i.copy(a))}function l9(t,e,n){if(n.openStart>t.depth)throw new Fi("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Fi("Inconsistent open depths");return Dg(t,e,n,0)}function Dg(t,e,n,r){let o=t.index(r),s=t.node(r);if(o==e.index(r)&&r<t.depth-n.openStart){let i=Dg(t,e,n,r+1);return s.copy(s.content.replaceChild(o,i))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let i=t.parent,a=i.content;return Pr(i,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:i,end:a}=d9(n,t);return Pr(s,Rg(t,i,a,e,r))}else return Pr(s,zi(t,e,r))}function jg(t,e){if(!e.type.compatibleContent(t.type))throw new Fi("Cannot join "+e.type.name+" onto "+t.type.name)}function Xd(t,e,n){let r=t.node(n);return jg(r,e.node(n)),r}function Ar(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function us(t,e,n,r){let o=(e||t).node(n),s=0,i=e?e.index(n):o.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(Ar(t.nodeAfter,r),s++));for(let a=s;a<i;a++)Ar(o.child(a),r);e&&e.depth==n&&e.textOffset&&Ar(e.nodeBefore,r)}function Pr(t,e){return t.type.checkContent(e),t.copy(e)}function Rg(t,e,n,r,o){let s=t.depth>o&&Xd(t,e,o+1),i=r.depth>o&&Xd(n,r,o+1),a=[];return us(null,t,o,a),s&&i&&e.index(o)==n.index(o)?(jg(s,i),Ar(Pr(s,Rg(t,e,n,r,o+1)),a)):(s&&Ar(Pr(s,zi(t,e,o+1)),a),us(e,n,o,a),i&&Ar(Pr(i,zi(n,r,o+1)),a)),us(r,null,o,a),new K(a)}function zi(t,e,n){let r=[];if(us(null,t,n,r),t.depth>n){let o=Xd(t,e,n+1);Ar(Pr(o,zi(t,e,n+1)),r)}return us(e,null,n,r),new K(r)}function d9(t,e){let n=e.depth-t.openStart,o=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)o=e.node(s).copy(K.from(o));return{start:o.resolveNoCache(t.openStart+n),end:o.resolveNoCache(o.content.size-t.openEnd-n)}}class fs{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],o=e.child(n);return r?e.child(n).cut(r):o}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],o=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)o+=r.child(s).nodeSize;return o}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Be.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),o=e.maybeChild(n);if(!r){let a=r;r=o,o=a}let s=r.marks;for(var i=0;i<s.length;i++)s[i].type.spec.inclusive===!1&&(!o||!s[i].isInSet(o.marks))&&(s=s[i--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,o=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!o||!r[s].isInSet(o.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Bi(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],o=0,s=n;for(let i=e;;){let{index:a,offset:l}=i.content.findIndex(s),d=s-l;if(r.push(i,a,o+l),!d||(i=i.child(a),i.isText))break;s=d-1,o+=l+1}return new fs(n,r,s)}static resolveCached(e,n){let r=_g.get(e);if(r)for(let s=0;s<r.elts.length;s++){let i=r.elts[s];if(i.pos==n)return i}else _g.set(e,r=new c9);let o=r.elts[r.i]=fs.resolve(e,n);return r.i=(r.i+1)%u9,o}}class c9{constructor(){this.elts=[],this.i=0}}const u9=12,_g=new WeakMap;class Bi{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const f9=Object.create(null);let tr=class xf{constructor(e,n,r,o=Be.none){this.type=e,this.attrs=n,this.marks=o,this.content=r||K.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,o=0){this.content.nodesBetween(e,n,r,o,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,o){return this.content.textBetween(e,n,r,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&_i(this.attrs,n||e.defaultAttrs||f9)&&Be.sameSet(this.marks,r||Be.none)}copy(e=null){return e==this.content?this:new xf(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new xf(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return te.empty;let o=this.resolve(e),s=this.resolve(n),i=r?0:o.sharedDepth(n),a=o.start(i),d=o.node(i).content.cut(o.pos-a,s.pos-a);return new te(d,o.depth-i,s.depth-i)}replace(e,n,r){return l9(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:o}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(o==e||n.isText)return n;e-=o+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}}resolve(e){return fs.resolveCached(this,e)}resolveNoCache(e){return fs.resolve(this,e)}rangeHasMark(e,n,r){let o=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Fg(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=K.empty,o=0,s=r.childCount){let i=this.contentMatchAt(e).matchFragment(r,o,s),a=i&&i.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=o;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,o){if(o&&!this.type.allowsMarks(o))return!1;let s=this.contentMatchAt(e).matchType(r),i=s&&s.matchFragment(this.content,n);return i?i.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Be.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Be.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let o=K.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,o,r);return s.type.checkAttrs(s.attrs),s}};tr.prototype.text=void 0;class Hi extends tr{constructor(e,n,r,o){if(super(e,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Fg(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Hi(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Hi(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Fg(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Or{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new p9(e,n);if(r.next==null)return Or.empty;let o=zg(r);r.next&&r.err("Unexpected trailing text");let s=x9(v9(o));return $9(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let o=this;for(let s=n;o&&s<r;s++)o=o.matchType(e.child(s).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let o=[this];function s(i,a){let l=i.matchFragment(e,r);if(l&&(!n||l.validEnd))return K.from(a.map(d=>d.createAndFill()));for(let d=0;d<i.next.length;d++){let{type:c,next:u}=i.next[d];if(!(c.isText||c.hasRequiredAttrs())&&o.indexOf(u)==-1){o.push(u);let f=s(u,a.concat(c));if(f)return f}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let o=r.shift(),s=o.match;if(s.matchType(e)){let i=[];for(let a=o;a.type;a=a.via)i.push(a.type);return i.reverse()}for(let i=0;i<s.next.length;i++){let{type:a,next:l}=s.next[i];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!o.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:o}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let o=0;o<r.next.length;o++)e.indexOf(r.next[o].next)==-1&&n(r.next[o].next)}return n(this),e.map((r,o)=>{let s=o+(r.validEnd?"*":" ")+" ";for(let i=0;i<r.next.length;i++)s+=(i?", ":"")+r.next[i].type.name+"->"+e.indexOf(r.next[i].next);return s}).join(`
`)}}Or.empty=new Or(!0);class p9{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function zg(t){let e=[];do e.push(h9(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function h9(t){let e=[];do e.push(m9(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function m9(t){let e=y9(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=g9(t,e);else break;return e}function Bg(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function g9(t,e){let n=Bg(t),r=n;return t.eat(",")&&(t.next!="}"?r=Bg(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function b9(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let o=[];for(let s in n){let i=n[s];i.isInGroup(e)&&o.push(i)}return o.length==0&&t.err("No node type or group '"+e+"' found"),o}function y9(t){if(t.eat("(")){let e=zg(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=b9(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function v9(t){let e=[[]];return o(s(t,0),n()),e;function n(){return e.push([])-1}function r(i,a,l){let d={term:l,to:a};return e[i].push(d),d}function o(i,a){i.forEach(l=>l.to=a)}function s(i,a){if(i.type=="choice")return i.exprs.reduce((l,d)=>l.concat(s(d,a)),[]);if(i.type=="seq")for(let l=0;;l++){let d=s(i.exprs[l],a);if(l==i.exprs.length-1)return d;o(d,a=n())}else if(i.type=="star"){let l=n();return r(a,l),o(s(i.expr,l),l),[r(l)]}else if(i.type=="plus"){let l=n();return o(s(i.expr,a),l),o(s(i.expr,l),l),[r(l)]}else{if(i.type=="opt")return[r(a)].concat(s(i.expr,a));if(i.type=="range"){let l=a;for(let d=0;d<i.min;d++){let c=n();o(s(i.expr,l),c),l=c}if(i.max==-1)o(s(i.expr,l),l);else for(let d=i.min;d<i.max;d++){let c=n();r(l,c),o(s(i.expr,l),c),l=c}return[r(l)]}else{if(i.type=="name")return[r(a,void 0,i.value)];throw new Error("Unknown expr type")}}}}function Hg(t,e){return e-t}function Vg(t,e){let n=[];return r(e),n.sort(Hg);function r(o){let s=t[o];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(o);for(let i=0;i<s.length;i++){let{term:a,to:l}=s[i];!a&&n.indexOf(l)==-1&&r(l)}}}function x9(t){let e=Object.create(null);return n(Vg(t,0));function n(r){let o=[];r.forEach(i=>{t[i].forEach(({term:a,to:l})=>{if(!a)return;let d;for(let c=0;c<o.length;c++)o[c][0]==a&&(d=o[c][1]);Vg(t,l).forEach(c=>{d||o.push([a,d=[]]),d.indexOf(c)==-1&&d.push(c)})})});let s=e[r.join(",")]=new Or(r.indexOf(t.length-1)>-1);for(let i=0;i<o.length;i++){let a=o[i][1].sort(Hg);s.next.push({type:o[i][0],next:e[a.join(",")]||n(a)})}return s}}function $9(t,e){for(let n=0,r=[t];n<r.length;n++){let o=r[n],s=!o.validEnd,i=[];for(let a=0;a<o.next.length;a++){let{type:l,next:d}=o.next[a];i.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(d)==-1&&r.push(d)}s&&e.err("Only non-generatable nodes ("+i.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Wg(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function Ug(t,e){let n=Object.create(null);for(let r in t){let o=e&&e[r];if(o===void 0){let s=t[r];if(s.hasDefault)o=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=o}return n}function Gg(t,e,n,r){for(let o in e)if(!(o in t))throw new RangeError(`Unsupported attribute ${o} for ${n} of type ${o}`);for(let o in t){let s=t[o];s.validate&&s.validate(e[o])}}function Kg(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new k9(t,r,e[r]);return n}let qg=class tv{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Kg(e,r.attrs),this.defaultAttrs=Wg(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Or.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Ug(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new tr(this,this.computeAttrs(e),K.from(n),Be.setFrom(r))}createChecked(e=null,n,r){return n=K.from(n),this.checkContent(n),new tr(this,this.computeAttrs(e),n,Be.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=K.from(n),n.size){let i=this.contentMatch.fillBefore(n);if(!i)return null;n=i.append(n)}let o=this.contentMatch.matchFragment(n),s=o&&o.fillBefore(K.empty,!0);return s?new tr(this,e,n.append(s),Be.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Gg(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Be.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,i)=>r[s]=new tv(s,n,i));let o=n.spec.topNode||"doc";if(!r[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function w9(t,e,n){let r=n.split("|");return o=>{let s=o===null?"null":typeof o;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class k9{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?w9(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Vi{constructor(e,n,r,o){this.name=e,this.rank=n,this.schema=r,this.spec=o,this.attrs=Kg(e,o.attrs),this.excluded=null;let s=Wg(this.attrs);this.instance=s?new Be(this,s):null}create(e=null){return!e&&this.instance?this.instance:new Be(this,Ug(this.attrs,e))}static compile(e,n){let r=Object.create(null),o=0;return e.forEach((s,i)=>r[s]=new Vi(s,o++,n,i)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){Gg(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class Yg{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let o in e)n[o]=e[o];n.nodes=kt.from(e.nodes),n.marks=kt.from(e.marks||{}),this.nodes=qg.compile(this.spec.nodes,this),this.marks=Vi.compile(this.spec.marks,this);let r=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let s=this.nodes[o],i=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=r[i]||(r[i]=Or.parse(i,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?Jg(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let o in this.marks){let s=this.marks[o],i=s.spec.excludes;s.excluded=i==null?[s]:i==""?[]:Jg(this,i.split(" "))}this.nodeFromJSON=o=>tr.fromJSON(this,o),this.markFromJSON=o=>Be.fromJSON(this,o),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,o){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof qg){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,o)}text(e,n){let r=this.nodes.text;return new Hi(r,r.defaultAttrs,e,Be.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function Jg(t,e){let n=[];for(let r=0;r<e.length;r++){let o=e[r],s=t.marks[o],i=s;if(s)n.push(s);else for(let a in t.marks){let l=t.marks[a];(o=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(o)>-1)&&n.push(i=l)}if(!i)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function S9(t){return t.tag!=null}function E9(t){return t.style!=null}class nr{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(o=>{if(S9(o))this.tags.push(o);else if(E9(o)){let s=/[^=]*/.exec(o.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(o)}}),this.normalizeLists=!this.tags.some(o=>{if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;let s=e.nodes[o.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new e0(this,n,!1);return r.addAll(e,Be.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new e0(this,n,!0);return r.addAll(e,Be.none,n.from,n.to),te.maxOpen(r.finish())}matchTag(e,n,r){for(let o=r?this.tags.indexOf(r)+1:0;o<this.tags.length;o++){let s=this.tags[o];if(N9(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let i=s.getAttrs(e);if(i===!1)continue;s.attrs=i||void 0}return s}}}matchStyle(e,n,r,o){for(let s=o?this.styles.indexOf(o)+1:0;s<this.styles.length;s++){let i=this.styles[s],a=i.style;if(!(a.indexOf(e)!=0||i.context&&!r.matchesContext(i.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(i.getAttrs){let l=i.getAttrs(n);if(l===!1)continue;i.attrs=l||void 0}return i}}}static schemaRules(e){let n=[];function r(o){let s=o.priority==null?50:o.priority,i=0;for(;i<n.length;i++){let a=n[i];if((a.priority==null?50:a.priority)<s)break}n.splice(i,0,o)}for(let o in e.marks){let s=e.marks[o].spec.parseDOM;s&&s.forEach(i=>{r(i=t0(i)),i.mark||i.ignore||i.clearMark||(i.mark=o)})}for(let o in e.nodes){let s=e.nodes[o].spec.parseDOM;s&&s.forEach(i=>{r(i=t0(i)),i.node||i.ignore||i.mark||(i.node=o)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new nr(e,nr.schemaRules(e)))}}const Xg={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},C9={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Zg={ol:!0,ul:!0},ps=1,Zd=2,hs=4;function Qg(t,e,n){return e!=null?(e?ps:0)|(e==="full"?Zd:0):t&&t.whitespace=="pre"?ps|Zd:n&~hs}class Wi{constructor(e,n,r,o,s,i){this.type=e,this.attrs=n,this.marks=r,this.solid=o,this.options=i,this.content=[],this.activeMarks=Be.none,this.match=s||(i&hs?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(K.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,o;return(o=r.findWrapping(e.type))?(this.match=r,o):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&ps)){let r=this.content[this.content.length-1],o;if(r&&r.isText&&(o=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-o[0].length))}}let n=K.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(K.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Xg.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class e0{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let o=n.topNode,s,i=Qg(null,n.preserveWhitespace,0)|(r?hs:0);o?s=new Wi(o.type,o.attrs,Be.none,!0,n.topMatch||o.type.contentMatch,i):r?s=new Wi(null,null,Be.none,!0,null,i):s=new Wi(e.schema.topNodeType,null,Be.none,!0,null,i),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,o=this.top,s=o.options&Zd?"full":this.localPreserveWS||(o.options&ps)>0,{schema:i}=this.parser;if(s==="full"||o.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)if(s==="full")r=r.replace(/\r\n?/g,`
`);else if(i.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(i.linebreakReplacement.create())){let a=r.split(/\r?\n|\r/);for(let l=0;l<a.length;l++)l&&this.insertNode(i.linebreakReplacement.create(),n,!0),a[l]&&this.insertNode(i.text(a[l]),n,!/\S/.test(a[l]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=o.content[o.content.length-1],l=e.previousSibling;(!a||l&&l.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(i.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let o=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let i=e.nodeName.toLowerCase(),a;Zg.hasOwnProperty(i)&&this.parser.normalizeLists&&T9(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,r));e:if(l?l.ignore:C9.hasOwnProperty(i))this.findInside(e),this.ignoreFallback(e,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let d,c=this.needsBlock;if(Xg.hasOwnProperty(i))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),d=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let u=l&&l.skip?n:this.readStyles(e,n);u&&this.addAll(e,u),d&&this.sync(s),this.needsBlock=c}else{let d=this.readStyles(e,n);d&&this.addElementByRule(e,l,d,l.consuming===!1?a:void 0)}this.localPreserveWS=o}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let o=0;o<this.parser.matchedStyles.length;o++){let s=this.parser.matchedStyles[o],i=r.getPropertyValue(s);if(i)for(let a=void 0;;){let l=this.parser.matchStyle(s,i,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(d=>!l.clearMark(d)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(e,n,r,o){let s,i;if(n.node)if(i=this.parser.schema.nodes[n.node],i.isLeaf)this.insertNode(i.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let l=this.enter(i,n.attrs||null,r,n.preserveWhitespace);l&&(s=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(i&&i.isLeaf)this.findInside(e);else if(o)this.addElement(e,r,o);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}s&&this.sync(a)&&this.open--}addAll(e,n,r,o){let s=r||0;for(let i=r?e.childNodes[r]:e.firstChild,a=o==null?null:e.childNodes[o];i!=a;i=i.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(i,n);this.findAtPoint(e,s)}findPlace(e,n,r){let o,s;for(let i=this.open,a=0;i>=0;i--){let l=this.nodes[i],d=l.findWrapping(e);if(d&&(!o||o.length>d.length+a)&&(o=d,s=l,!d.length))break;if(l.solid){if(r)break;a+=2}}if(!o)return null;this.sync(s);for(let i=0;i<o.length;i++)n=this.enterInner(o[i],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let o=this.findPlace(e,n,r);if(o){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let i=Be.none;for(let a of o.concat(e.marks))(s.type?s.type.allowsMarkType(a.type):n0(a.type,e.type))&&(i=a.addToSet(i));return s.content.push(e.mark(i)),!0}return!1}enter(e,n,r,o){let s=this.findPlace(e.create(n),r,!1);return s&&(s=this.enterInner(e,n,r,!0,o)),s}enterInner(e,n,r,o=!1,s){this.closeExtra();let i=this.top;i.match=i.match&&i.match.matchType(e);let a=Qg(e,s,i.options);i.options&hs&&i.content.length==0&&(a|=hs);let l=Be.none;return r=r.filter(d=>(i.type?i.type.allowsMarkType(d.type):n0(d.type,e))?(l=d.addToSet(l),!1):!0),this.nodes.push(new Wi(e,n,l,o,null,a)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=ps)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let o=r.length-1;o>=0;o--)e+=r[o].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&e.nodeType==1&&e.contains(this.find[o].node)&&n.compareDocumentPosition(this.find[o].node)&(r?2:4)&&(this.find[o].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,o=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(o?0:1),i=(a,l)=>{for(;a>=0;a--){let d=n[a];if(d==""){if(a==n.length-1||a==0)continue;for(;l>=s;l--)if(i(a-1,l))return!0;return!1}else{let c=l>0||l==0&&o?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!c||c.name!=d&&!c.isInGroup(d))return!1;l--}}return!0};return i(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function T9(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&Zg.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function N9(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function t0(t){let e={};for(let n in t)e[n]=t[n];return e}function n0(t,e){let n=e.schema.nodes;for(let r in n){let o=n[r];if(!o.allowsMarkType(t))continue;let s=[],i=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:d,next:c}=a.edge(l);if(d==e||s.indexOf(c)<0&&i(c))return!0}};if(i(o.contentMatch))return!0}}class Ir{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Qd(n).createDocumentFragment());let o=r,s=[];return e.forEach(i=>{if(s.length||i.marks.length){let a=0,l=0;for(;a<s.length&&l<i.marks.length;){let d=i.marks[l];if(!this.marks[d.type.name]){l++;continue}if(!d.eq(s[a][0])||d.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)o=s.pop()[1];for(;l<i.marks.length;){let d=i.marks[l++],c=this.serializeMark(d,i.isInline,n);c&&(s.push([d,o]),o.appendChild(c.dom),o=c.contentDOM||c.dom)}}o.appendChild(this.serializeNodeInner(i,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:o}=Ui(Qd(n),this.nodes[e.type.name](e),null,e.attrs);if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,o)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let o=e.marks.length-1;o>=0;o--){let s=this.serializeMark(e.marks[o],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let o=this.marks[e.type.name];return o&&Ui(Qd(r),o(e,n),null,e.attrs)}static renderSpec(e,n,r=null,o){return Ui(e,n,r,o)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Ir(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=r0(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return r0(e.marks)}}function r0(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Qd(t){return t.document||window.document}const o0=new WeakMap;function M9(t){let e=o0.get(t);return e===void 0&&o0.set(t,e=A9(t)),e}function A9(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let o=0;o<r.length;o++)n(r[o]);else for(let o in r)n(r[o])}return n(t),e}function Ui(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let o=e[0],s;if(typeof o!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=M9(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let i=o.indexOf(" ");i>0&&(n=o.slice(0,i),o=o.slice(i+1));let a,l=n?t.createElementNS(n,o):t.createElement(o),d=e[1],c=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){c=2;for(let u in d)if(d[u]!=null){let f=u.indexOf(" ");f>0?l.setAttributeNS(u.slice(0,f),u.slice(f+1),d[u]):u=="style"&&l.style?l.style.cssText=d[u]:l.setAttribute(u,d[u])}}for(let u=c;u<e.length;u++){let f=e[u];if(f===0){if(u<e.length-1||u>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:p,contentDOM:h}=Ui(t,f,n,r);if(l.appendChild(p),h){if(a)throw new RangeError("Multiple content holes");a=h}}}return{dom:l,contentDOM:a}}const s0=65535,i0=Math.pow(2,16);function P9(t,e){return t+e*i0}function a0(t){return t&s0}function O9(t){return(t-(t&s0))/i0}const l0=1,d0=2,Gi=4,c0=8;class ec{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&c0)>0}get deletedBefore(){return(this.delInfo&(l0|Gi))>0}get deletedAfter(){return(this.delInfo&(d0|Gi))>0}get deletedAcross(){return(this.delInfo&Gi)>0}}class Ut{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Ut.empty)return Ut.empty}recover(e){let n=0,r=a0(e);if(!this.inverted)for(let o=0;o<r;o++)n+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[r*3]+n+O9(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let o=0,s=this.inverted?2:1,i=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?o:0);if(l>e)break;let d=this.ranges[a+s],c=this.ranges[a+i],u=l+d;if(e<=u){let f=d?e==l?-1:e==u?1:n:n,p=l+o+(f<0?0:c);if(r)return p;let h=e==(n<0?l:u)?null:P9(a/3,e-l),b=e==l?d0:e==u?l0:Gi;return(n<0?e!=l:e!=u)&&(b|=c0),new ec(p,b,h)}o+=c-d}return r?e+o:new ec(e+o,0,null)}touches(e,n){let r=0,o=a0(n),s=this.inverted?2:1,i=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let d=this.ranges[a+s],c=l+d;if(e<=c&&a==o*3)return!0;r+=this.ranges[a+i]-d}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let o=0,s=0;o<this.ranges.length;o+=3){let i=this.ranges[o],a=i-(this.inverted?s:0),l=i+(this.inverted?0:s),d=this.ranges[o+n],c=this.ranges[o+r];e(a,a+d,l,l+c),s+=c-d}}invert(){return new Ut(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Ut.empty:new Ut(e<0?[0,-e,0]:[0,0,e])}}Ut.empty=new Ut([]);class ms{constructor(e,n,r=0,o=e?e.length:0){this.mirror=n,this.from=r,this.to=o,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new ms(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let o=e.getMirror(n);this.appendMap(e._maps[n],o!=null&&o<n?r+o:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let o=e.getMirror(n);this.appendMap(e._maps[n].invert(),o!=null&&o>n?r-o-1:void 0)}}invert(){let e=new ms;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let o=0;for(let s=this.from;s<this.to;s++){let i=this._maps[s],a=i.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this._maps[l].recover(a.recover);continue}}o|=a.delInfo,e=a.pos}return r?e:new ec(e,o,null)}}const tc=Object.create(null);class Mt{getMap(){return Ut.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=tc[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in tc)throw new RangeError("Duplicate use of step JSON ID "+e);return tc[e]=n,n.prototype.jsonID=e,n}}class lt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new lt(e,null)}static fail(e){return new lt(null,e)}static fromReplace(e,n,r,o){try{return lt.ok(e.replace(n,r,o))}catch(s){if(s instanceof Fi)return lt.fail(s.message);throw s}}}function nc(t,e,n){let r=[];for(let o=0;o<t.childCount;o++){let s=t.child(o);s.content.size&&(s=s.copy(nc(s.content,e,s))),s.isInline&&(s=e(s,n,o)),r.push(s)}return K.fromArray(r)}class rr extends Mt{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),o=r.node(r.sharedDepth(this.to)),s=new te(nc(n.content,(i,a)=>!i.isAtom||!a.type.allowsMarkType(this.mark.type)?i:i.mark(this.mark.addToSet(i.marks)),o),n.openStart,n.openEnd);return lt.fromReplace(e,this.from,this.to,s)}invert(){return new ln(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new rr(n.pos,r.pos,this.mark)}merge(e){return e instanceof rr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new rr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new rr(n.from,n.to,e.markFromJSON(n.mark))}}Mt.jsonID("addMark",rr);class ln extends Mt{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new te(nc(n.content,o=>o.mark(this.mark.removeFromSet(o.marks)),e),n.openStart,n.openEnd);return lt.fromReplace(e,this.from,this.to,r)}invert(){return new rr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ln(n.pos,r.pos,this.mark)}merge(e){return e instanceof ln&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ln(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ln(n.from,n.to,e.markFromJSON(n.mark))}}Mt.jsonID("removeMark",ln);class or extends Mt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return lt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return lt.fromReplace(e,this.pos,this.pos+1,new te(K.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let o=0;o<n.marks.length;o++)if(!n.marks[o].isInSet(r))return new or(this.pos,n.marks[o]);return new or(this.pos,this.mark)}}return new Lr(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new or(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new or(n.pos,e.markFromJSON(n.mark))}}Mt.jsonID("addNodeMark",or);class Lr extends Mt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return lt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return lt.fromReplace(e,this.pos,this.pos+1,new te(K.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new or(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Lr(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Lr(n.pos,e.markFromJSON(n.mark))}}Mt.jsonID("removeNodeMark",Lr);class bt extends Mt{constructor(e,n,r,o=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=o}apply(e){return this.structure&&rc(e,this.from,this.to)?lt.fail("Structure replace would overwrite content"):lt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Ut([this.from,this.to-this.from,this.slice.size])}invert(e){return new bt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new bt(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof bt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?te.empty:new te(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new bt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?te.empty:new te(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new bt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new bt(n.from,n.to,te.fromJSON(e,n.slice),!!n.structure)}}Mt.jsonID("replace",bt);class yt extends Mt{constructor(e,n,r,o,s,i,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=s,this.insert=i,this.structure=a}apply(e){if(this.structure&&(rc(e,this.from,this.gapFrom)||rc(e,this.gapTo,this.to)))return lt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return lt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?lt.fromReplace(e,this.from,this.to,r):lt.fail("Content does not fit in gap")}getMap(){return new Ut([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new yt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||o<n.pos||s>r.pos?null:new yt(n.pos,r.pos,o,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new yt(n.from,n.to,n.gapFrom,n.gapTo,te.fromJSON(e,n.slice),n.insert,!!n.structure)}}Mt.jsonID("replaceAround",yt);function rc(t,e,n){let r=t.resolve(e),o=n-e,s=r.depth;for(;o>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,o--;if(o>0){let i=r.node(s).maybeChild(r.indexAfter(s));for(;o>0;){if(!i||i.isLeaf)return!0;i=i.firstChild,o--}}return!1}function I9(t,e,n,r){let o=[],s=[],i,a;t.doc.nodesBetween(e,n,(l,d,c)=>{if(!l.isInline)return;let u=l.marks;if(!r.isInSet(u)&&c.type.allowsMarkType(r.type)){let f=Math.max(d,e),p=Math.min(d+l.nodeSize,n),h=r.addToSet(u);for(let b=0;b<u.length;b++)u[b].isInSet(h)||(i&&i.to==f&&i.mark.eq(u[b])?i.to=p:o.push(i=new ln(f,p,u[b])));a&&a.to==f?a.to=p:s.push(a=new rr(f,p,r))}}),o.forEach(l=>t.step(l)),s.forEach(l=>t.step(l))}function L9(t,e,n,r){let o=[],s=0;t.doc.nodesBetween(e,n,(i,a)=>{if(!i.isInline)return;s++;let l=null;if(r instanceof Vi){let d=i.marks,c;for(;c=r.isInSet(d);)(l||(l=[])).push(c),d=c.removeFromSet(d)}else r?r.isInSet(i.marks)&&(l=[r]):l=i.marks;if(l&&l.length){let d=Math.min(a+i.nodeSize,n);for(let c=0;c<l.length;c++){let u=l[c],f;for(let p=0;p<o.length;p++){let h=o[p];h.step==s-1&&u.eq(o[p].style)&&(f=h)}f?(f.to=d,f.step=s):o.push({style:u,from:Math.max(a,e),to:d,step:s})}}}),o.forEach(i=>t.step(new ln(i.from,i.to,i.style)))}function oc(t,e,n,r=n.contentMatch,o=!0){let s=t.doc.nodeAt(e),i=[],a=e+1;for(let l=0;l<s.childCount;l++){let d=s.child(l),c=a+d.nodeSize,u=r.matchType(d.type);if(!u)i.push(new bt(a,c,te.empty));else{r=u;for(let f=0;f<d.marks.length;f++)n.allowsMarkType(d.marks[f].type)||t.step(new ln(a,c,d.marks[f]));if(o&&d.isText&&n.whitespace!="pre"){let f,p=/\r?\n|\r/g,h;for(;f=p.exec(d.text);)h||(h=new te(K.from(n.schema.text(" ",n.allowedMarks(d.marks))),0,0)),i.push(new bt(a+f.index,a+f.index+f[0].length,h))}}a=c}if(!r.validEnd){let l=r.fillBefore(K.empty,!0);t.replace(a,a,new te(l,0,0))}for(let l=i.length-1;l>=0;l--)t.step(i[l])}function D9(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function ko(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth,o=0,s=0;;--r){let i=t.$from.node(r),a=t.$from.index(r)+o,l=t.$to.indexAfter(r)-s;if(r<t.depth&&i.canReplace(a,l,n))return r;if(r==0||i.type.spec.isolating||!D9(i,a,l))break;a&&(o=1),l<i.childCount&&(s=1)}return null}function j9(t,e,n){let{$from:r,$to:o,depth:s}=e,i=r.before(s+1),a=o.after(s+1),l=i,d=a,c=K.empty,u=0;for(let h=s,b=!1;h>n;h--)b||r.index(h)>0?(b=!0,c=K.from(r.node(h).copy(c)),u++):l--;let f=K.empty,p=0;for(let h=s,b=!1;h>n;h--)b||o.after(h+1)<o.end(h)?(b=!0,f=K.from(o.node(h).copy(f)),p++):d++;t.step(new yt(l,d,i,a,new te(c.append(f),u,p),c.size-u,!0))}function sc(t,e,n=null,r=t){let o=R9(t,e),s=o&&_9(r,e);return s?o.map(u0).concat({type:e,attrs:n}).concat(s.map(u0)):null}function u0(t){return{type:t,attrs:null}}function R9(t,e){let{parent:n,startIndex:r,endIndex:o}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let i=s.length?s[0]:e;return n.canReplaceWith(r,o,i)?s:null}function _9(t,e){let{parent:n,startIndex:r,endIndex:o}=t,s=n.child(r),i=e.contentMatch.findWrapping(s.type);if(!i)return null;let l=(i.length?i[i.length-1]:e).contentMatch;for(let d=r;l&&d<o;d++)l=l.matchType(n.child(d).type);return!l||!l.validEnd?null:i}function F9(t,e,n){let r=K.empty;for(let i=n.length-1;i>=0;i--){if(r.size){let a=n[i].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=K.from(n[i].type.create(n[i].attrs,r))}let o=e.start,s=e.end;t.step(new yt(o,s,o,s,new te(r,0,0),n.length,!0))}function z9(t,e,n,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(i,a)=>{let l=typeof o=="function"?o(i):o;if(i.isTextblock&&!i.hasMarkup(r,l)&&B9(t.doc,t.mapping.slice(s).map(a),r)){let d=null;if(r.schema.linebreakReplacement){let p=r.whitespace=="pre",h=!!r.contentMatch.matchType(r.schema.linebreakReplacement);p&&!h?d=!1:!p&&h&&(d=!0)}d===!1&&p0(t,i,a,s),oc(t,t.mapping.slice(s).map(a,1),r,void 0,d===null);let c=t.mapping.slice(s),u=c.map(a,1),f=c.map(a+i.nodeSize,1);return t.step(new yt(u,f,u+1,f-1,new te(K.from(r.create(l,null,i.marks)),0,0),1,!0)),d===!0&&f0(t,i,a,s),!1}})}function f0(t,e,n,r){e.forEach((o,s)=>{if(o.isText){let i,a=/\r?\n|\r/g;for(;i=a.exec(o.text);){let l=t.mapping.slice(r).map(n+1+s+i.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function p0(t,e,n,r){e.forEach((o,s)=>{if(o.type==o.type.schema.linebreakReplacement){let i=t.mapping.slice(r).map(n+1+s);t.replaceWith(i,i+1,e.type.schema.text(`
`))}})}function B9(t,e,n){let r=t.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}function H9(t,e,n,r,o){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let i=n.create(r,null,o||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,i);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new yt(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new te(K.from(i),0,0),1,!0))}function Rn(t,e,n=1,r){let o=t.resolve(e),s=o.depth-n,i=r&&r[r.length-1]||o.parent;if(s<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!i.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let d=o.depth-1,c=n-2;d>s;d--,c--){let u=o.node(d),f=o.index(d);if(u.type.spec.isolating)return!1;let p=u.content.cutByIndex(f,u.childCount),h=r&&r[c+1];h&&(p=p.replaceChild(0,h.type.create(h.attrs)));let b=r&&r[c]||u;if(!u.canReplace(f+1,u.childCount)||!b.type.validContent(p))return!1}let a=o.indexAfter(s),l=r&&r[0];return o.node(s).canReplaceWith(a,a,l?l.type:o.node(s+1).type)}function V9(t,e,n=1,r){let o=t.doc.resolve(e),s=K.empty,i=K.empty;for(let a=o.depth,l=o.depth-n,d=n-1;a>l;a--,d--){s=K.from(o.node(a).copy(s));let c=r&&r[d];i=K.from(c?c.type.create(c.attrs,i):o.node(a).copy(i))}t.step(new bt(e,e,new te(s.append(i),n,n),!0))}function sr(t,e){let n=t.resolve(e),r=n.index();return h0(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function W9(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let o=0;o<e.childCount;o++){let s=e.child(o),i=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(i),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function h0(t,e){return!!(t&&e&&!t.isLeaf&&W9(t,e))}function Ki(t,e,n=-1){let r=t.resolve(e);for(let o=r.depth;;o--){let s,i,a=r.index(o);if(o==r.depth?(s=r.nodeBefore,i=r.nodeAfter):n>0?(s=r.node(o+1),a++,i=r.node(o).maybeChild(a)):(s=r.node(o).maybeChild(a-1),i=r.node(o+1)),s&&!s.isTextblock&&h0(s,i)&&r.node(o).canReplace(a,a+1))return e;if(o==0)break;e=n<0?r.before(o):r.after(o)}}function U9(t,e,n){let r=null,{linebreakReplacement:o}=t.doc.type.schema,s=t.doc.resolve(e-n),i=s.node().type;if(o&&i.inlineContent){let c=i.whitespace=="pre",u=!!i.contentMatch.matchType(o);c&&!u?r=!1:!c&&u&&(r=!0)}let a=t.steps.length;if(r===!1){let c=t.doc.resolve(e+n);p0(t,c.node(),c.before(),a)}i.inlineContent&&oc(t,e+n-1,i,s.node().contentMatchAt(s.index()),r==null);let l=t.mapping.slice(a),d=l.map(e-n);if(t.step(new bt(d,l.map(e+n,-1),te.empty,!0)),r===!0){let c=t.doc.resolve(d);f0(t,c.node(),c.before(),t.steps.length)}return t}function G9(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let o=r.depth-1;o>=0;o--){let s=r.index(o);if(r.node(o).canReplaceWith(s,s,n))return r.before(o+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let o=r.depth-1;o>=0;o--){let s=r.indexAfter(o);if(r.node(o).canReplaceWith(s,s,n))return r.after(o+1);if(s<r.node(o).childCount)return null}return null}function m0(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let o=n.content;for(let s=0;s<n.openStart;s++)o=o.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let i=r.depth;i>=0;i--){let a=i==r.depth?0:r.pos<=(r.start(i+1)+r.end(i+1))/2?-1:1,l=r.index(i)+(a>0?1:0),d=r.node(i),c=!1;if(s==1)c=d.canReplace(l,l,o);else{let u=d.contentMatchAt(l).findWrapping(o.firstChild.type);c=u&&d.canReplaceWith(l,l,u[0])}if(c)return a==0?r.pos:a<0?r.before(i+1):r.after(i+1)}return null}function qi(t,e,n=e,r=te.empty){if(e==n&&!r.size)return null;let o=t.resolve(e),s=t.resolve(n);return g0(o,s,r)?new bt(e,n,r):new K9(o,s,r).fit()}function g0(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class K9{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=K.empty;for(let o=0;o<=e.depth;o++){let s=e.node(o);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(o))})}for(let o=e.depth;o>0;o--)this.placed=K.from(e.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(e<0?this.$to:r.doc.resolve(e));if(!o)return null;let s=this.placed,i=r.depth,a=o.depth;for(;i&&a&&s.childCount==1;)s=s.firstChild.content,i--,a--;let l=new te(s,i,a);return e>-1?new yt(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new bt(r.pos,o.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,o=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(o=0),s.type.spec.isolating&&o<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let o,s=null;r?(s=ic(this.unplaced.content,r-1).firstChild,o=s.content):o=this.unplaced.content;let i=o.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:d}=this.frontier[a],c,u=null;if(n==1&&(i?d.matchType(i.type)||(u=d.fillBefore(K.from(i),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:u};if(n==2&&i&&(c=d.findWrapping(i.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:c};if(s&&d.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,o=ic(e,n);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new te(e,n+1,Math.max(r,o.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,o=ic(e,n);if(o.childCount<=1&&n>0){let s=e.size-n<=n+o.size;this.unplaced=new te(gs(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new te(gs(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:o,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let b=0;b<s.length;b++)this.openFrontierNode(s[b]);let i=this.unplaced,a=r?r.content:i.content,l=i.openStart-e,d=0,c=[],{match:u,type:f}=this.frontier[n];if(o){for(let b=0;b<o.childCount;b++)c.push(o.child(b));u=u.matchFragment(o)}let p=a.size+e-(i.content.size-i.openEnd);for(;d<a.childCount;){let b=a.child(d),g=u.matchType(b.type);if(!g)break;d++,(d>1||l==0||b.content.size)&&(u=g,c.push(b0(b.mark(f.allowedMarks(b.marks)),d==1?l:0,d==a.childCount?p:-1)))}let h=d==a.childCount;h||(p=-1),this.placed=bs(this.placed,n,K.from(c)),this.frontier[n].match=u,h&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let b=0,g=a;b<p;b++){let y=g.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),g=y.content}this.unplaced=h?e==0?te.empty:new te(gs(i.content,e-1,1),e-1,p<0?i.openEnd:e-1):new te(gs(i.content,e,d),i.openStart,i.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!ac(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,o=this.$to.after(r);for(;r>1&&o==this.$to.end(--r);)++o;return o}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:o}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),i=ac(e,n,o,r,s);if(i){for(let a=n-1;a>=0;a--){let{match:l,type:d}=this.frontier[a],c=ac(e,a,d,l,!0);if(!c||c.childCount)continue e}return{depth:n,fit:i,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=bs(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let o=e.node(r),s=o.type.contentMatch.fillBefore(o.content,!0,e.index(r));this.openFrontierNode(o.type,o.attrs,s)}return e}openFrontierNode(e,n=null,r){let o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=bs(this.placed,this.depth,K.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(K.empty,!0);n.childCount&&(this.placed=bs(this.placed,this.frontier.length,n))}}function gs(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(gs(t.firstChild.content,e-1,n)))}function bs(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(bs(t.lastChild.content,e-1,n)))}function ic(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function b0(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,b0(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(K.empty,!0)))),t.copy(r)}function ac(t,e,n,r,o){let s=t.node(e),i=o?t.indexAfter(e):t.index(e);if(i==s.childCount&&!n.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,i);return a&&!q9(n,s.content,i)?a:null}function q9(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function Y9(t){return t.spec.defining||t.spec.definingForContent}function J9(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let o=t.doc.resolve(e),s=t.doc.resolve(n);if(g0(o,s,r))return t.step(new bt(e,n,r));let i=v0(o,s);i[i.length-1]==0&&i.pop();let a=-(o.depth+1);i.unshift(a);for(let f=o.depth,p=o.pos-1;f>0;f--,p--){let h=o.node(f).type.spec;if(h.defining||h.definingAsContext||h.isolating)break;i.indexOf(f)>-1?a=f:o.before(f)==p&&i.splice(1,0,-f)}let l=i.indexOf(a),d=[],c=r.openStart;for(let f=r.content,p=0;;p++){let h=f.firstChild;if(d.push(h),p==r.openStart)break;f=h.content}for(let f=c-1;f>=0;f--){let p=d[f],h=Y9(p.type);if(h&&!p.sameMarkup(o.node(Math.abs(a)-1)))c=f;else if(h||!p.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let p=(f+c+1)%(r.openStart+1),h=d[p];if(h)for(let b=0;b<i.length;b++){let g=i[(b+l)%i.length],y=!0;g<0&&(y=!1,g=-g);let x=o.node(g-1),k=o.index(g-1);if(x.canReplaceWith(k,k,h.type,h.marks))return t.replace(o.before(g),y?s.after(g):n,new te(y0(r.content,0,r.openStart,p),p,r.openEnd))}}let u=t.steps.length;for(let f=i.length-1;f>=0&&(t.replace(e,n,r),!(t.steps.length>u));f--){let p=i[f];p<0||(e=o.before(p),n=s.after(p))}}function y0(t,e,n,r,o){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(y0(s.content,e+1,n,r,s)))}if(e>r){let s=o.contentMatchAt(0),i=s.fillBefore(t).append(t);t=i.append(s.matchFragment(i).fillBefore(K.empty,!0))}return t}function X9(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let o=G9(t.doc,e,r.type);o!=null&&(e=n=o)}t.replaceRange(e,n,new te(K.from(r),0,0))}function Z9(t,e,n){let r=t.doc.resolve(e),o=t.doc.resolve(n),s=v0(r,o);for(let i=0;i<s.length;i++){let a=s[i],l=i==s.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),o.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),o.indexAfter(a-1))))return t.delete(r.before(a),o.after(a))}for(let i=1;i<=r.depth&&i<=o.depth;i++)if(e-r.start(i)==r.depth-i&&n>r.end(i)&&o.end(i)-n!=o.depth-i&&r.start(i-1)==o.start(i-1)&&r.node(i-1).canReplace(r.index(i-1),o.index(i-1)))return t.delete(r.before(i),n);t.delete(e,n)}function v0(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let o=r;o>=0;o--){let s=t.start(o);if(s<t.pos-(t.depth-o)||e.end(o)>e.pos+(e.depth-o)||t.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;(s==e.start(o)||o==t.depth&&o==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&o&&e.start(o-1)==s-1)&&n.push(o)}return n}class So extends Mt{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return lt.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let o=n.type.create(r,null,n.marks);return lt.fromReplace(e,this.pos,this.pos+1,new te(K.from(o),0,n.isLeaf?0:1))}getMap(){return Ut.empty}invert(e){return new So(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new So(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new So(n.pos,n.attr,n.value)}}Mt.jsonID("attr",So);class ys extends Mt{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let o in e.attrs)n[o]=e.attrs[o];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return lt.ok(r)}getMap(){return Ut.empty}invert(e){return new ys(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new ys(n.attr,n.value)}}Mt.jsonID("docAttr",ys);let Eo=class extends Error{};Eo=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n},Eo.prototype=Object.create(Error.prototype),Eo.prototype.constructor=Eo,Eo.prototype.name="TransformError";class lc{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new ms}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Eo(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=te.empty){let o=qi(this.doc,e,n,r);return o&&this.step(o),this}replaceWith(e,n,r){return this.replace(e,n,new te(K.from(r),0,0))}delete(e,n){return this.replace(e,n,te.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return J9(this,e,n,r),this}replaceRangeWith(e,n,r){return X9(this,e,n,r),this}deleteRange(e,n){return Z9(this,e,n),this}lift(e,n){return j9(this,e,n),this}join(e,n=1){return U9(this,e,n),this}wrap(e,n){return F9(this,e,n),this}setBlockType(e,n=e,r,o=null){return z9(this,e,n,r,o),this}setNodeMarkup(e,n,r=null,o){return H9(this,e,n,r,o),this}setNodeAttribute(e,n,r){return this.step(new So(e,n,r)),this}setDocAttribute(e,n){return this.step(new ys(e,n)),this}addNodeMark(e,n){return this.step(new or(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof Be)n.isInSet(r.marks)&&this.step(new Lr(e,n));else{let o=r.marks,s,i=[];for(;s=n.isInSet(o);)i.push(new Lr(e,s)),o=s.removeFromSet(o);for(let a=i.length-1;a>=0;a--)this.step(i[a])}return this}split(e,n=1,r){return V9(this,e,n,r),this}addMark(e,n,r){return I9(this,e,n,r),this}removeMark(e,n,r){return L9(this,e,n,r),this}clearIncompatible(e,n,r){return oc(this,e,n,r),this}}const dc=Object.create(null);class be{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new x0(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=te.empty){let r=n.content.lastChild,o=null;for(let a=0;a<n.openEnd;a++)o=r,r=r.lastChild;let s=e.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){let{$from:l,$to:d}=i[a],c=e.mapping.slice(s);e.replaceRange(c.map(l.pos),c.map(d.pos),a?te.empty:n),a==0&&k0(e,s,(r?r.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,o=this.ranges;for(let s=0;s<o.length;s++){let{$from:i,$to:a}=o[s],l=e.mapping.slice(r),d=l.map(i.pos),c=l.map(a.pos);s?e.deleteRange(d,c):(e.replaceRangeWith(d,c,n),k0(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let o=e.parent.inlineContent?new me(e):Co(e.node(0),e.parent,e.pos,e.index(),n,r);if(o)return o;for(let s=e.depth-1;s>=0;s--){let i=n<0?Co(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):Co(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(i)return i}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Gt(e.node(0))}static atStart(e){return Co(e,e,0,0,1)||new Gt(e)}static atEnd(e){return Co(e,e,e.content.size,e.childCount,-1)||new Gt(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=dc[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in dc)throw new RangeError("Duplicate use of selection JSON ID "+e);return dc[e]=n,n.prototype.jsonID=e,n}getBookmark(){return me.between(this.$anchor,this.$head).getBookmark()}}be.prototype.visible=!0;class x0{constructor(e,n){this.$from=e,this.$to=n}}let $0=!1;function w0(t){!$0&&!t.parent.inlineContent&&($0=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class me extends be{constructor(e,n=e){w0(e),w0(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return be.near(r);let o=e.resolve(n.map(this.anchor));return new me(o.parent.inlineContent?o:r,r)}replace(e,n=te.empty){if(super.replace(e,n),n==te.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof me&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Yi(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new me(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let o=e.resolve(n);return new this(o,r==n?o:e.resolve(r))}static between(e,n,r){let o=e.pos-n.pos;if((!r||o)&&(r=o>=0?1:-1),!n.parent.inlineContent){let s=be.findFrom(n,r,!0)||be.findFrom(n,-r,!0);if(s)n=s.$head;else return be.near(n,r)}return e.parent.inlineContent||(o==0?e=n:(e=(be.findFrom(e,-r,!0)||be.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=o<0&&(e=n))),new me(e,n)}}be.jsonID("text",me);class Yi{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Yi(e.map(this.anchor),e.map(this.head))}resolve(e){return me.between(e.resolve(this.anchor),e.resolve(this.head))}}class pe extends be{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:o}=n.mapResult(this.anchor),s=e.resolve(o);return r?be.near(s):new pe(s)}content(){return new te(K.from(this.node),0,0)}eq(e){return e instanceof pe&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new cc(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new pe(e.resolve(n.anchor))}static create(e,n){return new pe(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}pe.prototype.visible=!1,be.jsonID("node",pe);class cc{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Yi(r,r):new cc(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&pe.isSelectable(r)?new pe(n):be.near(n)}}class Gt extends be{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=te.empty){if(n==te.empty){e.delete(0,e.doc.content.size);let r=be.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Gt(e)}map(e){return new Gt(e)}eq(e){return e instanceof Gt}getBookmark(){return Q9}}be.jsonID("all",Gt);const Q9={map(){return this},resolve(t){return new Gt(t)}};function Co(t,e,n,r,o,s=!1){if(e.inlineContent)return me.create(t,n);for(let i=r-(o>0?0:1);o>0?i<e.childCount:i>=0;i+=o){let a=e.child(i);if(a.isAtom){if(!s&&pe.isSelectable(a))return pe.create(t,n-(o<0?a.nodeSize:0))}else{let l=Co(t,a,n+o,o<0?a.childCount:0,o,s);if(l)return l}n+=a.nodeSize*o}return null}function k0(t,e,n){let r=t.steps.length-1;if(r<e)return;let o=t.steps[r];if(!(o instanceof bt||o instanceof yt))return;let s=t.mapping.maps[r],i;s.forEach((a,l,d,c)=>{i==null&&(i=c)}),t.setSelection(be.near(t.doc.resolve(i),n))}const S0=1,Ji=2,E0=4;class e6 extends lc{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|S0)&~Ji,this.storedMarks=null,this}get selectionSet(){return(this.updated&S0)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Ji,this}ensureMarks(e){return Be.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Ji)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Ji,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Be.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let o=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(o.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let i=this.doc.resolve(n);s=r==n?i.marks():i.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,o.text(e,s)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(be.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=E0,this}get scrolledIntoView(){return(this.updated&E0)>0}}function C0(t,e){return!e||!t?t:t.bind(e)}class vs{constructor(e,n,r){this.name=e,this.init=C0(n.init,r),this.apply=C0(n.apply,r)}}const t6=[new vs("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new vs("selection",{init(t,e){return t.selection||be.atStart(e.doc)},apply(t){return t.selection}}),new vs("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new vs("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class uc{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=t6.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new vs(r.key,r.spec.state,r))})}}class To{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let o=this.config.plugins[r];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),o=null;for(;;){let s=!1;for(let i=0;i<this.config.plugins.length;i++){let a=this.config.plugins[i];if(a.spec.appendTransaction){let l=o?o[i].n:0,d=o?o[i].state:this,c=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,d,r);if(c&&r.filterTransaction(c,i)){if(c.setMeta("appendedTransaction",e),!o){o=[];for(let u=0;u<this.config.plugins.length;u++)o.push(u<i?{state:r,n:n.length}:{state:this,n:0})}n.push(c),r=r.applyInner(c),s=!0}o&&(o[i]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new To(this.config),r=this.config.fields;for(let o=0;o<r.length;o++){let s=r[o];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new e6(this)}static create(e){let n=new uc(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new To(n);for(let o=0;o<n.fields.length;o++)r[n.fields[o].name]=n.fields[o].init(e,r);return r}reconfigure(e){let n=new uc(this.schema,e.plugins),r=n.fields,o=new To(n);for(let s=0;s<r.length;s++){let i=r[s].name;o[i]=this.hasOwnProperty(i)?this[i]:r[s].init(e,o)}return o}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=e[r],s=o.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(o,this[o.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let o=new uc(e.schema,e.plugins),s=new To(o);return o.fields.forEach(i=>{if(i.name=="doc")s.doc=tr.fromJSON(e.schema,n.doc);else if(i.name=="selection")s.selection=be.fromJSON(s.doc,n.selection);else if(i.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],d=l.spec.state;if(l.key==i.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){s[i.name]=d.fromJSON.call(l,e,n[a],s);return}}s[i.name]=i.init(e,s)}}),s}}function T0(t,e,n){for(let r in t){let o=t[r];o instanceof Function?o=o.bind(e):r=="handleDOMEvents"&&(o=T0(o,e,{})),n[r]=o}return n}class Ke{constructor(e){this.spec=e,this.props={},e.props&&T0(e.props,this,this.props),this.key=e.key?e.key.key:N0("plugin")}getState(e){return e[this.key]}}const fc=Object.create(null);function N0(t){return t in fc?t+"$"+ ++fc[t]:(fc[t]=0,t+"$")}class Ze{constructor(e="key"){this.key=N0(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const pc=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function M0(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const A0=(t,e,n)=>{let r=M0(t,n);if(!r)return!1;let o=hc(r);if(!o){let i=r.blockRange(),a=i&&ko(i);return a==null?!1:(e&&e(t.tr.lift(i,a).scrollIntoView()),!0)}let s=o.nodeBefore;if(F0(t,o,e,-1))return!0;if(r.parent.content.size==0&&(No(s,"end")||pe.isSelectable(s)))for(let i=r.depth;;i--){let a=qi(t.doc,r.before(i),r.after(i),te.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(No(s,"end")?be.findFrom(l.doc.resolve(l.mapping.map(o.pos,-1)),-1):pe.create(l.doc,o.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}if(i==1||r.node(i-1).childCount>1)break}return s.isAtom&&o.depth==r.depth-1?(e&&e(t.tr.delete(o.pos-s.nodeSize,o.pos).scrollIntoView()),!0):!1},n6=(t,e,n)=>{let r=M0(t,n);if(!r)return!1;let o=hc(r);return o?P0(t,o,e):!1},r6=(t,e,n)=>{let r=I0(t,n);if(!r)return!1;let o=mc(r);return o?P0(t,o,e):!1};function P0(t,e,n){let r=e.nodeBefore,o=r,s=e.pos-1;for(;!o.isTextblock;s--){if(o.type.spec.isolating)return!1;let c=o.lastChild;if(!c)return!1;o=c}let i=e.nodeAfter,a=i,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let c=a.firstChild;if(!c)return!1;a=c}let d=qi(t.doc,s,l,te.empty);if(!d||d.from!=s||d instanceof bt&&d.slice.size>=l-s)return!1;if(n){let c=t.tr.step(d);c.setSelection(me.create(c.doc,s)),n(c.scrollIntoView())}return!0}function No(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const O0=(t,e,n)=>{let{$head:r,empty:o}=t.selection,s=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=hc(r)}let i=s&&s.nodeBefore;return!i||!pe.isSelectable(i)?!1:(e&&e(t.tr.setSelection(pe.create(t.doc,s.pos-i.nodeSize)).scrollIntoView()),!0)};function hc(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function I0(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const L0=(t,e,n)=>{let r=I0(t,n);if(!r)return!1;let o=mc(r);if(!o)return!1;let s=o.nodeAfter;if(F0(t,o,e,1))return!0;if(r.parent.content.size==0&&(No(s,"start")||pe.isSelectable(s))){let i=qi(t.doc,r.before(),r.after(),te.empty);if(i&&i.slice.size<i.to-i.from){if(e){let a=t.tr.step(i);a.setSelection(No(s,"start")?be.findFrom(a.doc.resolve(a.mapping.map(o.pos)),1):pe.create(a.doc,a.mapping.map(o.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&o.depth==r.depth-1?(e&&e(t.tr.delete(o.pos,o.pos+s.nodeSize).scrollIntoView()),!0):!1},D0=(t,e,n)=>{let{$head:r,empty:o}=t.selection,s=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=mc(r)}let i=s&&s.nodeAfter;return!i||!pe.isSelectable(i)?!1:(e&&e(t.tr.setSelection(pe.create(t.doc,s.pos)).scrollIntoView()),!0)};function mc(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const o6=(t,e)=>{let n=t.selection,r=n instanceof pe,o;if(r){if(n.node.isTextblock||!sr(t.doc,n.from))return!1;o=n.from}else if(o=Ki(t.doc,n.from,-1),o==null)return!1;if(e){let s=t.tr.join(o);r&&s.setSelection(pe.create(s.doc,o-t.doc.resolve(o).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},s6=(t,e)=>{let n=t.selection,r;if(n instanceof pe){if(n.node.isTextblock||!sr(t.doc,n.to))return!1;r=n.to}else if(r=Ki(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},i6=(t,e)=>{let{$from:n,$to:r}=t.selection,o=n.blockRange(r),s=o&&ko(o);return s==null?!1:(e&&e(t.tr.lift(o,s).scrollIntoView()),!0)},j0=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function gc(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const a6=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let o=n.node(-1),s=n.indexAfter(-1),i=gc(o.contentMatchAt(s));if(!i||!o.canReplaceWith(s,s,i))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,i.createAndFill());l.setSelection(be.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},R0=(t,e)=>{let n=t.selection,{$from:r,$to:o}=n;if(n instanceof Gt||r.parent.inlineContent||o.parent.inlineContent)return!1;let s=gc(o.parent.contentMatchAt(o.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let i=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,a=t.tr.insert(i,s.createAndFill());a.setSelection(me.create(a.doc,i+1)),e(a.scrollIntoView())}return!0},_0=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(Rn(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),o=r&&ko(r);return o==null?!1:(e&&e(t.tr.lift(r,o).scrollIntoView()),!0)};function l6(t){return(e,n)=>{let{$from:r,$to:o}=e.selection;if(e.selection instanceof pe&&e.selection.node.isBlock)return!r.parentOffset||!Rn(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],i,a,l=!1,d=!1;for(let p=r.depth;;p--)if(r.node(p).isBlock){l=r.end(p)==r.pos+(r.depth-p),d=r.start(p)==r.pos-(r.depth-p),a=gc(r.node(p-1).contentMatchAt(r.indexAfter(p-1))),s.unshift(l&&a?{type:a}:null),i=p;break}else{if(p==1)return!1;s.unshift(null)}let c=e.tr;(e.selection instanceof me||e.selection instanceof Gt)&&c.deleteSelection();let u=c.mapping.map(r.pos),f=Rn(c.doc,u,s.length,s);if(f||(s[0]=a?{type:a}:null,f=Rn(c.doc,u,s.length,s)),!f)return!1;if(c.split(u,s.length,s),!l&&d&&r.node(i).type!=a){let p=c.mapping.map(r.before(i)),h=c.doc.resolve(p);a&&r.node(i-1).canReplaceWith(h.index(),h.index()+1,a)&&c.setNodeMarkup(c.mapping.map(r.before(i)),a)}return n&&n(c.scrollIntoView()),!0}}const d6=l6(),c6=(t,e)=>{let{$from:n,to:r}=t.selection,o,s=n.sharedDepth(r);return s==0?!1:(o=n.before(s),e&&e(t.tr.setSelection(pe.create(t.doc,o))),!0)};function u6(t,e,n){let r=e.nodeBefore,o=e.nodeAfter,s=e.index();return!r||!o||!r.type.compatibleContent(o.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(o.isTextblock||sr(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function F0(t,e,n,r){let o=e.nodeBefore,s=e.nodeAfter,i,a,l=o.type.spec.isolating||s.type.spec.isolating;if(!l&&u6(t,e,n))return!0;let d=!l&&e.parent.canReplace(e.index(),e.index()+1);if(d&&(i=(a=o.contentMatchAt(o.childCount)).findWrapping(s.type))&&a.matchType(i[0]||s.type).validEnd){if(n){let p=e.pos+s.nodeSize,h=K.empty;for(let y=i.length-1;y>=0;y--)h=K.from(i[y].create(null,h));h=K.from(o.copy(h));let b=t.tr.step(new yt(e.pos-1,p,e.pos,p,new te(h,1,0),i.length,!0)),g=b.doc.resolve(p+2*i.length);g.nodeAfter&&g.nodeAfter.type==o.type&&sr(b.doc,g.pos)&&b.join(g.pos),n(b.scrollIntoView())}return!0}let c=s.type.spec.isolating||r>0&&l?null:be.findFrom(e,1),u=c&&c.$from.blockRange(c.$to),f=u&&ko(u);if(f!=null&&f>=e.depth)return n&&n(t.tr.lift(u,f).scrollIntoView()),!0;if(d&&No(s,"start",!0)&&No(o,"end")){let p=o,h=[];for(;h.push(p),!p.isTextblock;)p=p.lastChild;let b=s,g=1;for(;!b.isTextblock;b=b.firstChild)g++;if(p.canReplace(p.childCount,p.childCount,b.content)){if(n){let y=K.empty;for(let k=h.length-1;k>=0;k--)y=K.from(h[k].copy(y));let x=t.tr.step(new yt(e.pos-h.length,e.pos+s.nodeSize,e.pos+g,e.pos+s.nodeSize-g,new te(y,h.length,0),0,!0));n(x.scrollIntoView())}return!0}}return!1}function z0(t){return function(e,n){let r=e.selection,o=t<0?r.$from:r.$to,s=o.depth;for(;o.node(s).isInline;){if(!s)return!1;s--}return o.node(s).isTextblock?(n&&n(e.tr.setSelection(me.create(e.doc,t<0?o.start(s):o.end(s)))),!0):!1}}const f6=z0(-1),p6=z0(1);function h6(t,e=null){return function(n,r){let{$from:o,$to:s}=n.selection,i=o.blockRange(s),a=i&&sc(i,t,e);return a?(r&&r(n.tr.wrap(i,a).scrollIntoView()),!0):!1}}function B0(t,e=null){return function(n,r){let o=!1;for(let s=0;s<n.selection.ranges.length&&!o;s++){let{$from:{pos:i},$to:{pos:a}}=n.selection.ranges[s];n.doc.nodesBetween(i,a,(l,d)=>{if(o)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)o=!0;else{let c=n.doc.resolve(d),u=c.index();o=c.parent.canReplaceWith(u,u+1,t)}})}if(!o)return!1;if(r){let s=n.tr;for(let i=0;i<n.selection.ranges.length;i++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[i];s.setBlockType(a,l,t,e)}r(s.scrollIntoView())}return!0}}function bc(...t){return function(e,n,r){for(let o=0;o<t.length;o++)if(t[o](e,n,r))return!0;return!1}}bc(pc,A0,O0),bc(pc,L0,D0),bc(j0,R0,_0,d6),typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function m6(t,e=null){return function(n,r){let{$from:o,$to:s}=n.selection,i=o.blockRange(s);if(!i)return!1;let a=r?n.tr:null;return g6(a,i,t,e)?(r&&r(a.scrollIntoView()),!0):!1}}function g6(t,e,n,r=null){let o=!1,s=e,i=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=i.resolve(e.start-2);s=new Bi(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new Bi(e.$from,i.resolve(e.$to.end(e.depth)),e.depth)),o=!0}let a=sc(s,n,r,e);return a?(t&&b6(t,e,a,o,n),!0):!1}function b6(t,e,n,r,o){let s=K.empty;for(let c=n.length-1;c>=0;c--)s=K.from(n[c].type.create(n[c].attrs,s));t.step(new yt(e.start-(r?2:0),e.end,e.start,e.end,new te(s,0,0),n.length,!0));let i=0;for(let c=0;c<n.length;c++)n[c].type==o&&(i=c+1);let a=n.length-i,l=e.start+n.length-(r?2:0),d=e.parent;for(let c=e.startIndex,u=e.endIndex,f=!0;c<u;c++,f=!1)!f&&Rn(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=d.child(c).nodeSize;return t}function y6(t){return function(e,n){let{$from:r,$to:o}=e.selection,s=r.blockRange(o,i=>i.childCount>0&&i.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?v6(e,n,t,s):x6(e,n,s):!0:!1}}function v6(t,e,n,r){let o=t.tr,s=r.end,i=r.$to.end(r.depth);s<i&&(o.step(new yt(s-1,i,s,i,new te(K.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Bi(o.doc.resolve(r.$from.pos),o.doc.resolve(i),r.depth));const a=ko(r);if(a==null)return!1;o.lift(r,a);let l=o.doc.resolve(o.mapping.map(s,-1)-1);return sr(o.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&o.join(l.pos),e(o.scrollIntoView()),!0}function x6(t,e,n){let r=t.tr,o=n.parent;for(let p=n.end,h=n.endIndex-1,b=n.startIndex;h>b;h--)p-=o.child(h).nodeSize,r.delete(p-1,p+1);let s=r.doc.resolve(n.start),i=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==o.childCount,d=s.node(-1),c=s.index(-1);if(!d.canReplace(c+(a?0:1),c+1,i.content.append(l?K.empty:K.from(o))))return!1;let u=s.pos,f=u+i.nodeSize;return r.step(new yt(u-(a?1:0),f+(l?1:0),u+1,f-1,new te((a?K.empty:K.from(o.copy(K.empty))).append(l?K.empty:K.from(o.copy(K.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function $6(t){return function(e,n){let{$from:r,$to:o}=e.selection,s=r.blockRange(o,d=>d.childCount>0&&d.firstChild.type==t);if(!s)return!1;let i=s.startIndex;if(i==0)return!1;let a=s.parent,l=a.child(i-1);if(l.type!=t)return!1;if(n){let d=l.lastChild&&l.lastChild.type==a.type,c=K.from(d?t.create():null),u=new te(K.from(t.create(null,K.from(a.type.create(null,c)))),d?3:1,0),f=s.start,p=s.end;n(e.tr.step(new yt(f-(d?3:1),p,f,p,u,1,!0)).scrollIntoView())}return!0}}const St=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Mo=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let yc=null;const _n=function(t,e,n){let r=yc||(yc=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},w6=function(){yc=null},Dr=function(t,e,n,r){return n&&(H0(t,e,n,r,-1)||H0(t,e,n,r,1))},k6=/^(img|br|input|textarea|hr)$/i;function H0(t,e,n,r,o){for(var s;;){if(t==n&&e==r)return!0;if(e==(o<0?0:Zt(t))){let i=t.parentNode;if(!i||i.nodeType!=1||xs(t)||k6.test(t.nodeName)||t.contentEditable=="false")return!1;e=St(t)+(o<0?0:1),t=i}else if(t.nodeType==1){let i=t.childNodes[e+(o<0?-1:0)];if(i.nodeType==1&&i.contentEditable=="false")if(!((s=i.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=o;else return!1;else t=i,e=o<0?Zt(t):0}else return!1}}function Zt(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function S6(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Zt(t)}else if(t.parentNode&&!xs(t))e=St(t),t=t.parentNode;else return null}}function E6(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!xs(t))e=St(t)+1,t=t.parentNode;else return null}}function C6(t,e,n){for(let r=e==0,o=e==Zt(t);r||o;){if(t==n)return!0;let s=St(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,o=o&&s==Zt(t)}}function xs(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Xi=function(t){return t.focusNode&&Dr(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function jr(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function T6(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function N6(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Zt(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Zt(r.startContainer),r.startOffset)}}}const vn=typeof navigator<"u"?navigator:null,V0=typeof document<"u"?document:null,ir=vn&&vn.userAgent||"",vc=/Edge\/(\d+)/.exec(ir),W0=/MSIE \d/.exec(ir),xc=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ir),Bt=!!(W0||xc||vc),ar=W0?document.documentMode:xc?+xc[1]:vc?+vc[1]:0,Qt=!Bt&&/gecko\/(\d+)/i.test(ir);Qt&&+(/Firefox\/(\d+)/.exec(ir)||[0,0])[1];const $c=!Bt&&/Chrome\/(\d+)/.exec(ir),vt=!!$c,U0=$c?+$c[1]:0,Et=!Bt&&!!vn&&/Apple Computer/.test(vn.vendor),Ao=Et&&(/Mobile\/\w+/.test(ir)||!!vn&&vn.maxTouchPoints>2),en=Ao||(vn?/Mac/.test(vn.platform):!1),G0=vn?/Win/.test(vn.platform):!1,Fn=/Android \d/.test(ir),$s=!!V0&&"webkitFontSmoothing"in V0.documentElement.style,M6=$s?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function A6(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function zn(t,e){return typeof t=="number"?t:t[e]}function P6(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function K0(t,e,n){let r=t.someProp("scrollThreshold")||0,o=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let i=n||t.dom;i;){if(i.nodeType!=1){i=Mo(i);continue}let a=i,l=a==s.body,d=l?A6(s):P6(a),c=0,u=0;if(e.top<d.top+zn(r,"top")?u=-(d.top-e.top+zn(o,"top")):e.bottom>d.bottom-zn(r,"bottom")&&(u=e.bottom-e.top>d.bottom-d.top?e.top+zn(o,"top")-d.top:e.bottom-d.bottom+zn(o,"bottom")),e.left<d.left+zn(r,"left")?c=-(d.left-e.left+zn(o,"left")):e.right>d.right-zn(r,"right")&&(c=e.right-d.right+zn(o,"right")),c||u)if(l)s.defaultView.scrollBy(c,u);else{let p=a.scrollLeft,h=a.scrollTop;u&&(a.scrollTop+=u),c&&(a.scrollLeft+=c);let b=a.scrollLeft-p,g=a.scrollTop-h;e={left:e.left-b,top:e.top-g,right:e.right-b,bottom:e.bottom-g}}let f=l?"fixed":getComputedStyle(i).position;if(/^(fixed|sticky)$/.test(f))break;i=f=="absolute"?i.offsetParent:Mo(i)}}function O6(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,o;for(let s=(e.left+e.right)/2,i=n+1;i<Math.min(innerHeight,e.bottom);i+=5){let a=t.root.elementFromPoint(s,i);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,o=l.top;break}}return{refDOM:r,refTop:o,stack:q0(t.dom)}}function q0(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Mo(r));return e}function I6({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;Y0(n,r==0?0:r-e)}function Y0(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:o,left:s}=t[n];r.scrollTop!=o+e&&(r.scrollTop=o+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Po=null;function L6(t){if(t.setActive)return t.setActive();if(Po)return t.focus(Po);let e=q0(t);t.focus(Po==null?{get preventScroll(){return Po={preventScroll:!0},!0}}:void 0),Po||(Po=!1,Y0(e,0))}function J0(t,e){let n,r=2e8,o,s=0,i=e.top,a=e.top,l,d;for(let c=t.firstChild,u=0;c;c=c.nextSibling,u++){let f;if(c.nodeType==1)f=c.getClientRects();else if(c.nodeType==3)f=_n(c).getClientRects();else continue;for(let p=0;p<f.length;p++){let h=f[p];if(h.top<=i&&h.bottom>=a){i=Math.max(h.bottom,i),a=Math.min(h.top,a);let b=h.left>e.left?h.left-e.left:h.right<e.left?e.left-h.right:0;if(b<r){n=c,r=b,o=b&&n.nodeType==3?{left:h.right<e.left?h.right:h.left,top:e.top}:e,c.nodeType==1&&b&&(s=u+(e.left>=(h.left+h.right)/2?1:0));continue}}else h.top>e.top&&!l&&h.left<=e.left&&h.right>=e.left&&(l=c,d={left:Math.max(h.left,Math.min(h.right,e.left)),top:h.top});!n&&(e.left>=h.right&&e.top>=h.top||e.left>=h.left&&e.top>=h.bottom)&&(s=u+1)}}return!n&&l&&(n=l,o=d,r=0),n&&n.nodeType==3?D6(n,o):!n||r&&n.nodeType==1?{node:t,offset:s}:J0(n,o)}function D6(t,e){let n=t.nodeValue.length,r=document.createRange(),o;for(let s=0;s<n;s++){r.setEnd(t,s+1),r.setStart(t,s);let i=lr(r,1);if(i.top!=i.bottom&&wc(e,i)){o={node:t,offset:s+(e.left>=(i.left+i.right)/2?1:0)};break}}return r.detach(),o||{node:t,offset:0}}function wc(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function j6(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function R6(t,e,n){let{node:r,offset:o}=J0(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let i=r.getBoundingClientRect();s=i.left!=i.right&&n.left>(i.left+i.right)/2?1:-1}return t.docView.posFromDOM(r,o,s)}function _6(t,e,n,r){let o=-1;for(let s=e,i=!1;s!=t.dom;){let a=t.docView.nearestDesc(s,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(a.dom.nodeName)&&(!i&&l.left>r.left||l.top>r.top?o=a.posBefore:(!i&&l.right<r.left||l.bottom<r.top)&&(o=a.posAfter),i=!0),!a.contentDOM&&o<0&&!a.node.isText))return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;s=a.dom.parentNode}return o>-1?o:t.docView.posFromDOM(e,n,-1)}function X0(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=o;;){let i=t.childNodes[s];if(i.nodeType==1){let a=i.getClientRects();for(let l=0;l<a.length;l++){let d=a[l];if(wc(e,d))return X0(i,e,d)}}if((s=(s+1)%r)==o)break}return t}function F6(t,e){let n=t.dom.ownerDocument,r,o=0,s=N6(n,e.left,e.top);s&&({node:r,offset:o}=s);let i=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!i||!t.dom.contains(i.nodeType!=1?i.parentNode:i)){let d=t.dom.getBoundingClientRect();if(!wc(e,d)||(i=X0(t.dom,e,d),!i))return null}if(Et)for(let d=i;r&&d;d=Mo(d))d.draggable&&(r=void 0);if(i=j6(i,e),r){if(Qt&&r.nodeType==1&&(o=Math.min(o,r.childNodes.length),o<r.childNodes.length)){let c=r.childNodes[o],u;c.nodeName=="IMG"&&(u=c.getBoundingClientRect()).right<=e.left&&u.bottom>e.top&&o++}let d;$s&&o&&r.nodeType==1&&(d=r.childNodes[o-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=e.top&&o--,r==t.dom&&o==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(o==0||r.nodeType!=1||r.childNodes[o-1].nodeName!="BR")&&(a=_6(t,r,o,e))}a==null&&(a=R6(t,i,e));let l=t.docView.nearestDesc(i,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function Z0(t){return t.top<t.bottom||t.left<t.right}function lr(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(Z0(r))return r}return Array.prototype.find.call(n,Z0)||t.getBoundingClientRect()}const z6=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Q0(t,e,n){let{node:r,offset:o,atom:s}=t.docView.domFromPos(e,n<0?-1:1),i=$s||Qt;if(r.nodeType==3)if(i&&(z6.test(r.nodeValue)||(n<0?!o:o==r.nodeValue.length))){let l=lr(_n(r,o,o),n);if(Qt&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let d=lr(_n(r,o-1,o-1),-1);if(d.top==l.top){let c=lr(_n(r,o,o+1),-1);if(c.top!=l.top)return ws(c,c.left<d.left)}}return l}else{let l=o,d=o,c=n<0?1:-1;return n<0&&!o?(d++,c=-1):n>=0&&o==r.nodeValue.length?(l--,c=1):n<0?l--:d++,ws(lr(_n(r,l,d),c),c<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&o&&(n<0||o==Zt(r))){let l=r.childNodes[o-1];if(l.nodeType==1)return kc(l.getBoundingClientRect(),!1)}if(s==null&&o<Zt(r)){let l=r.childNodes[o];if(l.nodeType==1)return kc(l.getBoundingClientRect(),!0)}return kc(r.getBoundingClientRect(),n>=0)}if(s==null&&o&&(n<0||o==Zt(r))){let l=r.childNodes[o-1],d=l.nodeType==3?_n(l,Zt(l)-(i?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(d)return ws(lr(d,1),!1)}if(s==null&&o<Zt(r)){let l=r.childNodes[o];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let d=l?l.nodeType==3?_n(l,0,i?0:1):l.nodeType==1?l:null:null;if(d)return ws(lr(d,-1),!0)}return ws(lr(r.nodeType==3?_n(r):r,-n),n>=0)}function ws(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function kc(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function e1(t,e,n){let r=t.state,o=t.root.activeElement;r!=e&&t.updateState(e),o!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),o!=t.dom&&o&&o.focus()}}function B6(t,e,n){let r=e.selection,o=n=="up"?r.$from:r.$to;return e1(t,e,()=>{let{node:s}=t.docView.domFromPos(o.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let i=Q0(t,o.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=_n(a,0,a.nodeValue.length).getClientRects();else continue;for(let d=0;d<l.length;d++){let c=l[d];if(c.bottom>c.top+1&&(n=="up"?i.top-c.top>(c.bottom-i.top)*2:c.bottom-i.bottom>(i.bottom-c.top)*2))return!1}}return!0})}const H6=/[\u0590-\u08ac]/;function V6(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,s=!o,i=o==r.parent.content.size,a=t.domSelection();return a?!H6.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?s:i:e1(t,e,()=>{let{focusNode:l,focusOffset:d,anchorNode:c,anchorOffset:u}=t.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",n,"character");let p=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:h,focusOffset:b}=t.domSelectionRange(),g=h&&!p.contains(h.nodeType==1?h:h.parentNode)||l==h&&d==b;try{a.collapse(c,u),l&&(l!=c||d!=u)&&a.extend&&a.extend(l,d)}catch{}return f!=null&&(a.caretBidiLevel=f),g}):r.pos==r.start()||r.pos==r.end()}let t1=null,n1=null,r1=!1;function W6(t,e,n){return t1==e&&n1==n?r1:(t1=e,n1=n,r1=n=="up"||n=="down"?B6(t,e,n):V6(t,e,n))}const tn=0,o1=1,Rr=2,xn=3;class ks{constructor(e,n,r,o){this.parent=e,this.children=n,this.dom=r,this.contentDOM=o,this.dirty=tn,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let o=this.children[n];if(o==e)return r;r+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,i;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((i=s.pmViewDesc)&&i.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(i)+i.size:this.posAtStart}else{let s,i;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((i=s.pmViewDesc)&&i.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(i):this.posAtEnd}let o;if(e==this.dom&&this.contentDOM)o=n>St(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){o=!1;break}if(s.previousSibling)break}if(o==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){o=!0;break}if(s.nextSibling)break}}return o??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,o=e;o;o=o.parentNode){let s=this.getDesc(o),i;if(s&&(!n||s.node))if(r&&(i=s.nodeDOM)&&!(i.nodeType==1?i.contains(e.nodeType==1?e:e.parentNode):i==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let o=e;o;o=o.parentNode){let s=this.getDesc(o);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let o=this.children[n],s=r+o.size;if(r==e&&s!=r){for(;!o.border&&o.children.length;)for(let i=0;i<o.children.length;i++){let a=o.children[i];if(a.size){o=a;break}}return o}if(e<s)return o.descAt(e-r-o.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,o=0;for(let s=0;r<this.children.length;r++){let i=this.children[r],a=s+i.size;if(a>e||i instanceof a1){o=e-s;break}s=a}if(o)return this.children[r].domFromPos(o-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof s1&&s.side>=0;r--);if(n<=0){let s,i=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,i=!1);return s&&n&&i&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?St(s.dom)+1:0}}else{let s,i=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,i=!1);return s&&i&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?St(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,s=-1;for(let i=r,a=0;;a++){let l=this.children[a],d=i+l.size;if(o==-1&&e<=d){let c=i+l.border;if(e>=c&&n<=d-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,c);e=i;for(let u=a;u>0;u--){let f=this.children[u-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){o=St(f.dom)+1;break}e-=f.size}o==-1&&(o=0)}if(o>-1&&(d>n||a==this.children.length-1)){n=d;for(let c=a+1;c<this.children.length;c++){let u=this.children[c];if(u.size&&u.dom.parentNode==this.contentDOM&&!u.emptyChildAt(-1)){s=St(u.dom);break}n+=u.size}s==-1&&(s=this.contentDOM.childNodes.length);break}i=d}return{node:this.contentDOM,from:e,to:n,fromOffset:o,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,o=!1){let s=Math.min(e,n),i=Math.max(e,n);for(let p=0,h=0;p<this.children.length;p++){let b=this.children[p],g=h+b.size;if(s>h&&i<g)return b.setSelection(e-h-b.border,n-h-b.border,r,o);h=g}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),d=r.root.getSelection(),c=r.domSelectionRange(),u=!1;if((Qt||Et)&&e==n){let{node:p,offset:h}=a;if(p.nodeType==3){if(u=!!(h&&p.nodeValue[h-1]==`
`),u&&h==p.nodeValue.length)for(let b=p,g;b;b=b.parentNode){if(g=b.nextSibling){g.nodeName=="BR"&&(a=l={node:g.parentNode,offset:St(g)+1});break}let y=b.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{let b=p.childNodes[h-1];u=b&&(b.nodeName=="BR"||b.contentEditable=="false")}}if(Qt&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let p=c.focusNode.childNodes[c.focusOffset];p&&p.contentEditable=="false"&&(o=!0)}if(!(o||u&&Et)&&Dr(a.node,a.offset,c.anchorNode,c.anchorOffset)&&Dr(l.node,l.offset,c.focusNode,c.focusOffset))return;let f=!1;if((d.extend||e==n)&&!(u&&Qt)){d.collapse(a.node,a.offset);try{e!=n&&d.extend(l.node,l.offset),f=!0}catch{}}if(!f){if(e>n){let h=a;a=l,l=h}let p=document.createRange();p.setEnd(l.node,l.offset),p.setStart(a.node,a.offset),d.removeAllRanges(),d.addRange(p)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,o=0;o<this.children.length;o++){let s=this.children[o],i=r+s.size;if(r==i?e<=i&&n>=r:e<i&&n>r){let a=r+s.border,l=i-s.border;if(e>=a&&n<=l){this.dirty=e==r||n==i?Rr:o1,e==a&&n==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=xn:s.markDirty(e-a,n-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Rr:xn}r=i}this.dirty=Rr}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Rr:o1;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class s1 extends ks{constructor(e,n,r,o){let s,i=n.type.toDOM;if(typeof i=="function"&&(i=i(r,()=>{if(!s)return o;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(i.nodeType!=1){let a=document.createElement("span");a.appendChild(i),i=a}i.contentEditable="false",i.classList.add("ProseMirror-widget")}super(e,[],i,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==tn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class U6 extends ks{constructor(e,n,r,o){super(e,[],n,null),this.textDOM=r,this.text=o}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class _r extends ks{constructor(e,n,r,o,s){super(e,[],r,o),this.mark=n,this.spec=s}static create(e,n,r,o){let s=o.nodeViews[n.type.name],i=s&&s(n,o,r);return(!i||!i.dom)&&(i=Ir.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new _r(e,n,i.dom,i.contentDOM||i.dom,i)}parseRule(){return this.dirty&xn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=xn&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=tn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=tn}}slice(e,n,r){let o=_r.create(this.parent,this.mark,!0,r),s=this.children,i=this.size;n<i&&(s=Ec(s,n,i,r)),e>0&&(s=Ec(s,0,e,r));for(let a=0;a<s.length;a++)s[a].parent=o;return o.children=s,o}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class dr extends ks{constructor(e,n,r,o,s,i,a,l,d){super(e,[],s,i),this.node=n,this.outerDeco=r,this.innerDeco=o,this.nodeDOM=a}static create(e,n,r,o,s,i){let a=s.nodeViews[n.type.name],l,d=a&&a(n,s,()=>{if(!l)return i;if(l.parent)return l.parent.posBeforeChild(l)},r,o),c=d&&d.dom,u=d&&d.contentDOM;if(n.isText){if(!c)c=document.createTextNode(n.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:u}=Ir.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!u&&!n.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),n.type.spec.draggable&&(c.draggable=!0));let f=c;return c=c1(c,r,n),d?l=new G6(e,n,r,o,c,u||null,f,d,s,i+1):n.isText?new Zi(e,n,r,o,c,f,s):new dr(e,n,r,o,c,u||null,f,s,i+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>K.empty)}return e}matchesNode(e,n,r){return this.dirty==tn&&e.eq(this.node)&&Qi(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,o=n,s=e.composing?this.localCompositionInfo(e,n):null,i=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new q6(this,i&&i.node,e);X6(this.node,this.innerDeco,(d,c,u)=>{d.spec.marks?l.syncToMarks(d.spec.marks,r,e,c):d.type.side>=0&&!u&&l.syncToMarks(c==this.node.childCount?Be.none:this.node.child(c).marks,r,e,c),l.placeWidget(d,e,o)},(d,c,u,f)=>{l.syncToMarks(d.marks,r,e,f);let p;l.findNodeMatch(d,c,u,f)||a&&e.state.selection.from>o&&e.state.selection.to<o+d.nodeSize&&(p=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(d,c,u,p,e)||l.updateNextNode(d,c,u,e,f,o)||l.addNode(d,c,u,e,o),o+=d.nodeSize}),l.syncToMarks([],r,e,0),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Rr)&&(i&&this.protectLocalComposition(e,i),l1(this.contentDOM,this.children,e),Ao&&Z6(this.dom))}localCompositionInfo(e,n){let{from:r,to:o}=e.state.selection;if(!(e.state.selection instanceof me)||r<n||o>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let i=s.nodeValue,a=Q6(this.node.content,i,r-n,o-n);return a<0?null:{node:s,pos:a,text:i}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:o}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let i=new U6(this,s,n,o);e.input.compositionNodes.push(i),this.children=Ec(this.children,r,r+o.length,e,i)}update(e,n,r,o){return this.dirty==xn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,o),!0)}updateInner(e,n,r,o){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=tn}updateOuterDeco(e){if(Qi(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=d1(this.dom,this.nodeDOM,Sc(this.outerDeco,this.node,n),Sc(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function i1(t,e,n,r,o){c1(r,e,t);let s=new dr(void 0,t,e,n,r,r,r,o,0);return s.contentDOM&&s.updateChildren(o,0),s}class Zi extends dr{constructor(e,n,r,o,s,i,a){super(e,n,r,o,s,null,i,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,o){return this.dirty==xn||this.dirty!=tn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=tn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=e,this.dirty=tn,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let o=this.node.cut(e,n),s=document.createTextNode(o.text);return new Zi(this.parent,o,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=xn)}get domAtom(){return!1}isText(e){return this.node.text==e}}class a1 extends ks{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==tn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class G6 extends dr{constructor(e,n,r,o,s,i,a,l,d,c){super(e,n,r,o,s,i,a,d,c),this.spec=l}update(e,n,r,o){if(this.dirty==xn)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,o),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,o){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function l1(t,e,n){let r=t.firstChild,o=!1;for(let s=0;s<e.length;s++){let i=e[s],a=i.dom;if(a.parentNode==t){for(;a!=r;)r=u1(r),o=!0;r=r.nextSibling}else o=!0,t.insertBefore(a,r);if(i instanceof _r){let l=r?r.previousSibling:t.lastChild;l1(i.contentDOM,i.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=u1(r),o=!0;o&&n.trackWrites==t&&(n.trackWrites=null)}const Ss=function(t){t&&(this.nodeName=t)};Ss.prototype=Object.create(null);const Fr=[new Ss];function Sc(t,e,n){if(t.length==0)return Fr;let r=n?Fr[0]:new Ss,o=[r];for(let s=0;s<t.length;s++){let i=t[s].type.attrs;if(i){i.nodeName&&o.push(r=new Ss(i.nodeName));for(let a in i){let l=i[a];l!=null&&(n&&o.length==1&&o.push(r=new Ss(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return o}function d1(t,e,n,r){if(n==Fr&&r==Fr)return e;let o=e;for(let s=0;s<r.length;s++){let i=r[s],a=n[s];if(s){let l;a&&a.nodeName==i.nodeName&&o!=t&&(l=o.parentNode)&&l.nodeName.toLowerCase()==i.nodeName||(l=document.createElement(i.nodeName),l.pmIsDeco=!0,l.appendChild(o),a=Fr[0]),o=l}K6(o,a||Fr[0],i)}return o}function K6(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],o=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)o.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<o.length;s++)r.indexOf(o[s])==-1&&t.classList.add(o[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,o;for(;o=r.exec(e.style);)t.style.removeProperty(o[1])}n.style&&(t.style.cssText+=n.style)}}function c1(t,e,n){return d1(t,t,Fr,Sc(e,n,t.nodeType!=1))}function Qi(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function u1(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class q6{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Y6(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r,o){let s=0,i=this.stack.length>>1,a=Math.min(i,e.length);for(;s<a&&(s==i-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<i;)this.destroyRest(),this.top.dirty=tn,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let l=-1,d=this.top.children.length;o<this.preMatch.index&&(d=Math.min(this.index+3,d));for(let c=this.index;c<d;c++){let u=this.top.children[c];if(u.matchesMark(e[i])&&!this.isLocked(u.dom)){l=c;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let c=_r.create(this.top,e[i],n,r);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,i++}}findNodeMatch(e,n,r,o){let s=-1,i;if(o>=this.preMatch.index&&(i=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&i.matchesNode(e,n,r))s=this.top.children.indexOf(i,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let d=this.top.children[a];if(d.matchesNode(e,n,r)&&!this.preMatch.matched.has(d)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,o,s){let i=this.top.children[o];return i.dirty==xn&&i.dom==i.contentDOM&&(i.dirty=Rr),i.update(e,n,r,s)?(this.destroyBetween(this.index,o),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==r)return o}return-1}e=n}}updateNextNode(e,n,r,o,s,i){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof dr){let d=this.preMatch.matched.get(l);if(d!=null&&d!=s)return!1;let c=l.dom,u,f=this.isLocked(c)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=xn&&Qi(n,l.outerDeco));if(!f&&l.update(e,n,r,o))return this.destroyBetween(this.index,a),l.dom!=c&&(this.changed=!0),this.index++,!0;if(!f&&(u=this.recreateWrapper(l,e,n,r,o,i)))return this.destroyBetween(this.index,a),this.top.children[this.index]=u,u.contentDOM&&(u.dirty=Rr,u.updateChildren(o,i+1),u.dirty=tn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,o,s,i){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Qi(r,e.outerDeco)||!o.eq(e.innerDeco))return null;let a=dr.create(this.top,n,r,o,s,i);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,r,o,s){let i=dr.create(this.top,e,n,r,o,s);i.contentDOM&&i.updateChildren(o,s+1),this.top.children.splice(this.index++,0,i),this.changed=!0}placeWidget(e,n,r){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(e)&&(e==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{let s=new s1(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof _r;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Zi)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Et||vt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let o=new a1(this.top,[],r,null);n!=this.top?n.children.push(o):n.children.splice(this.index++,0,o),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Y6(t,e){let n=e,r=n.children.length,o=t.childCount,s=new Map,i=[];e:for(;o>0;){let a;for(;;)if(r){let d=n.children[r-1];if(d instanceof _r)n=d,r=d.children.length;else{a=d,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(o-1))break;--o,s.set(a,o),i.push(a)}}return{index:o,matched:s,matches:i.reverse()}}function J6(t,e){return t.type.side-e.type.side}function X6(t,e,n,r){let o=e.locals(t),s=0;if(o.length==0){for(let d=0;d<t.childCount;d++){let c=t.child(d);r(c,o,e.forChild(s,c),d),s+=c.nodeSize}return}let i=0,a=[],l=null;for(let d=0;;){let c,u;for(;i<o.length&&o[i].to==s;){let g=o[i++];g.widget&&(c?(u||(u=[c])).push(g):c=g)}if(c)if(u){u.sort(J6);for(let g=0;g<u.length;g++)n(u[g],d,!!l)}else n(c,d,!!l);let f,p;if(l)p=-1,f=l,l=null;else if(d<t.childCount)p=d,f=t.child(d++);else break;for(let g=0;g<a.length;g++)a[g].to<=s&&a.splice(g--,1);for(;i<o.length&&o[i].from<=s&&o[i].to>s;)a.push(o[i++]);let h=s+f.nodeSize;if(f.isText){let g=h;i<o.length&&o[i].from<g&&(g=o[i].from);for(let y=0;y<a.length;y++)a[y].to<g&&(g=a[y].to);g<h&&(l=f.cut(g-s),f=f.cut(0,g-s),h=g,p=-1)}else for(;i<o.length&&o[i].to<h;)i++;let b=f.isInline&&!f.isLeaf?a.filter(g=>!g.inline):a.slice();r(f,b,e.forChild(s,f),p),s=h}}function Z6(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function Q6(t,e,n,r){for(let o=0,s=0;o<t.childCount&&s<=r;){let i=t.child(o++),a=s;if(s+=i.nodeSize,!i.isText)continue;let l=i.text;for(;o<t.childCount;){let d=t.child(o++);if(s+=d.nodeSize,!d.isText)break;l+=d.text}if(s>=n){if(s>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let d=a<r?l.lastIndexOf(e,r-a-1):-1;if(d>=0&&d+e.length+a>=n)return a+d;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function Ec(t,e,n,r,o){let s=[];for(let i=0,a=0;i<t.length;i++){let l=t[i],d=a,c=a+=l.size;d>=n||c<=e?s.push(l):(d<e&&s.push(l.slice(0,e-d,r)),o&&(s.push(o),o=void 0),c>n&&s.push(l.slice(n-d,l.size,r)))}return s}function Cc(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let o=t.docView.nearestDesc(n.focusNode),s=o&&o.size==0,i=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(i<0)return null;let a=r.resolve(i),l,d;if(Xi(n)){for(l=i;o&&!o.node;)o=o.parent;let u=o.node;if(o&&u.isAtom&&pe.isSelectable(u)&&o.parent&&!(u.isInline&&C6(n.focusNode,n.focusOffset,o.dom))){let f=o.posBefore;d=new pe(i==f?a:r.resolve(f))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let u=i,f=i;for(let p=0;p<n.rangeCount;p++){let h=n.getRangeAt(p);u=Math.min(u,t.docView.posFromDOM(h.startContainer,h.startOffset,1)),f=Math.max(f,t.docView.posFromDOM(h.endContainer,h.endOffset,-1))}if(u<0)return null;[l,i]=f==t.state.selection.anchor?[f,u]:[u,f],a=r.resolve(i)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let c=r.resolve(l);if(!d){let u=e=="pointer"||t.state.selection.head<a.pos&&!s?1:-1;d=Nc(t,c,a,u)}return d}function f1(t){return t.editable?t.hasFocus():v1(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Bn(t,e=!1){let n=t.state.selection;if(g1(t,n),!!f1(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&vt){let r=t.domSelectionRange(),o=t.domObserver.currentSelection;if(r.anchorNode&&o.anchorNode&&Dr(r.anchorNode,r.anchorOffset,o.anchorNode,o.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)t8(t);else{let{anchor:r,head:o}=n,s,i;p1&&!(n instanceof me)&&(n.$from.parent.inlineContent||(s=h1(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(i=h1(t,n.to))),t.docView.setSelection(r,o,t,e),p1&&(s&&m1(s),i&&m1(i)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&e8(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const p1=Et||vt&&U0<63;function h1(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),o=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(Et&&o&&o.contentEditable=="false")return Tc(o);if((!o||o.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(o)return Tc(o);if(s)return Tc(s)}}function Tc(t){return t.contentEditable="true",Et&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function m1(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function e8(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,o=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=o)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!f1(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function t8(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,St(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&Bt&&ar<=11&&(n.disabled=!0,n.disabled=!1)}function g1(t,e){if(e instanceof pe){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(b1(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else b1(t)}function b1(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Nc(t,e,n,r){return t.someProp("createSelectionBetween",o=>o(t,e,n))||me.between(e,n,r)}function y1(t){return t.editable&&!t.hasFocus()?!1:v1(t)}function v1(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function n8(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Dr(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Mc(t,e){let{$anchor:n,$head:r}=t.selection,o=e>0?n.max(r):n.min(r),s=o.parent.inlineContent?o.depth?t.doc.resolve(e>0?o.after():o.before()):null:o;return s&&be.findFrom(s,e)}function cr(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function x1(t,e,n){let r=t.state.selection;if(r instanceof me)if(n.indexOf("s")>-1){let{$head:o}=r,s=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let i=t.state.doc.resolve(o.pos+s.nodeSize*(e<0?-1:1));return cr(t,new me(r.$anchor,i))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let o=Mc(t.state,e);return o&&o instanceof pe?cr(t,o):!1}else if(!(en&&n.indexOf("m")>-1)){let o=r.$head,s=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter,i;if(!s||s.isText)return!1;let a=e<0?o.pos-s.nodeSize:o.pos;return s.isAtom||(i=t.docView.descAt(a))&&!i.contentDOM?pe.isSelectable(s)?cr(t,new pe(e<0?t.state.doc.resolve(o.pos-s.nodeSize):o)):$s?cr(t,new me(t.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof pe&&r.node.isInline)return cr(t,new me(e>0?r.$to:r.$from));{let o=Mc(t.state,e);return o?cr(t,o):!1}}}function ea(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Es(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Oo(t,e){return e<0?r8(t):o8(t)}function r8(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let o,s,i=!1;for(Qt&&n.nodeType==1&&r<ea(n)&&Es(n.childNodes[r],-1)&&(i=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(Es(a,-1))o=n,s=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if($1(n))break;{let a=n.previousSibling;for(;a&&Es(a,-1);)o=n.parentNode,s=St(a),a=a.previousSibling;if(a)n=a,r=ea(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}i?Ac(t,n,r):o&&Ac(t,o,s)}function o8(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let o=ea(n),s,i;for(;;)if(r<o){if(n.nodeType!=1)break;let a=n.childNodes[r];if(Es(a,1))s=n,i=++r;else break}else{if($1(n))break;{let a=n.nextSibling;for(;a&&Es(a,1);)s=a.parentNode,i=St(a)+1,a=a.nextSibling;if(a)n=a,r=0,o=ea(n);else{if(n=n.parentNode,n==t.dom)break;r=o=0}}}s&&Ac(t,s,i)}function $1(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function s8(t,e){for(;t&&e==t.childNodes.length&&!xs(t);)e=St(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function i8(t,e){for(;t&&!e&&!xs(t);)e=St(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Ac(t,e,n){if(e.nodeType!=3){let s,i;(i=s8(e,n))?(e=i,n=0):(s=i8(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Xi(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:o}=t;setTimeout(()=>{t.state==o&&Bn(t)},50)}function w1(t,e){let n=t.state.doc.resolve(e);if(!(vt||G0)&&n.parent.inlineContent){let o=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),i=(s.top+s.bottom)/2;if(i>o.top&&i<o.bottom&&Math.abs(s.left-o.left)>1)return s.left<o.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),i=(s.top+s.bottom)/2;if(i>o.top&&i<o.bottom&&Math.abs(s.left-o.left)>1)return s.left>o.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function k1(t,e,n){let r=t.state.selection;if(r instanceof me&&!r.empty||n.indexOf("s")>-1||en&&n.indexOf("m")>-1)return!1;let{$from:o,$to:s}=r;if(!o.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let i=Mc(t.state,e);if(i&&i instanceof pe)return cr(t,i)}if(!o.parent.inlineContent){let i=e<0?o:s,a=r instanceof Gt?be.near(i,e):be.findFrom(i,e);return a?cr(t,a):!1}return!1}function S1(t,e){if(!(t.state.selection instanceof me))return!0;let{$head:n,$anchor:r,empty:o}=t.state.selection;if(!n.sameParent(r))return!0;if(!o)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let i=t.state.tr;return e<0?i.delete(n.pos-s.nodeSize,n.pos):i.delete(n.pos,n.pos+s.nodeSize),t.dispatch(i),!0}return!1}function E1(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function a8(t){if(!Et||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;E1(t,r,"true"),setTimeout(()=>E1(t,r,"false"),20)}return!1}function l8(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function d8(t,e){let n=e.keyCode,r=l8(e);if(n==8||en&&n==72&&r=="c")return S1(t,-1)||Oo(t,-1);if(n==46&&!e.shiftKey||en&&n==68&&r=="c")return S1(t,1)||Oo(t,1);if(n==13||n==27)return!0;if(n==37||en&&n==66&&r=="c"){let o=n==37?w1(t,t.state.selection.from)=="ltr"?-1:1:-1;return x1(t,o,r)||Oo(t,o)}else if(n==39||en&&n==70&&r=="c"){let o=n==39?w1(t,t.state.selection.from)=="ltr"?1:-1:1;return x1(t,o,r)||Oo(t,o)}else{if(n==38||en&&n==80&&r=="c")return k1(t,-1,r)||Oo(t,-1);if(n==40||en&&n==78&&r=="c")return a8(t)||k1(t,1,r)||Oo(t,1);if(r==(en?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Pc(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let n=[],{content:r,openStart:o,openEnd:s}=e;for(;o>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){o--,s--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let i=t.someProp("clipboardSerializer")||Ir.fromSchema(t.state.schema),a=I1(),l=a.createElement("div");l.appendChild(i.serializeFragment(r,{document:a}));let d=l.firstChild,c,u=0;for(;d&&d.nodeType==1&&(c=P1[d.nodeName.toLowerCase()]);){for(let p=c.length-1;p>=0;p--){let h=a.createElement(c[p]);for(;l.firstChild;)h.appendChild(l.firstChild);l.appendChild(h),u++}d=l.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${o} ${s}${u?` -${u}`:""} ${JSON.stringify(n)}`);let f=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:f,slice:e}}function C1(t,e,n,r,o){let s=o.parent.type.spec.code,i,a;if(!n&&!e)return null;let l=!!e&&(r||s||!n);if(l){if(t.someProp("transformPastedText",f=>{e=f(e,s||r,t)}),s)return a=new te(K.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",f=>{a=f(a,t,!0)}),a;let u=t.someProp("clipboardTextParser",f=>f(e,o,r,t));if(u)a=u;else{let f=o.marks(),{schema:p}=t.state,h=Ir.fromSchema(p);i=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(b=>{let g=i.appendChild(document.createElement("p"));b&&g.appendChild(h.serializeNode(p.text(b,f)))})}}else t.someProp("transformPastedHTML",u=>{n=u(n,t)}),i=p8(n),$s&&h8(i);let d=i&&i.querySelector("[data-pm-slice]"),c=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let u=+c[3];u>0;u--){let f=i.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;i=f}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||nr.fromSchema(t.state.schema)).parseSlice(i,{preserveWhitespace:!!(l||c),context:o,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!c8.test(f.parentNode.nodeName)?{ignore:!0}:null}})),c)a=m8(A1(a,+c[1],+c[2]),c[4]);else if(a=te.maxOpen(u8(a.content,o),!0),a.openStart||a.openEnd){let u=0,f=0;for(let p=a.content.firstChild;u<a.openStart&&!p.type.spec.isolating;u++,p=p.firstChild);for(let p=a.content.lastChild;f<a.openEnd&&!p.type.spec.isolating;f++,p=p.lastChild);a=A1(a,u,f)}return t.someProp("transformPasted",u=>{a=u(a,t,l)}),a}const c8=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function u8(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let o=e.node(n).contentMatchAt(e.index(n)),s,i=[];if(t.forEach(a=>{if(!i)return;let l=o.findWrapping(a.type),d;if(!l)return i=null;if(d=i.length&&s.length&&N1(l,s,a,i[i.length-1],0))i[i.length-1]=d;else{i.length&&(i[i.length-1]=M1(i[i.length-1],s.length));let c=T1(a,l);i.push(c),o=o.matchType(c.type),s=l}}),i)return K.from(i)}return t}function T1(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,K.from(t));return t}function N1(t,e,n,r,o){if(o<t.length&&o<e.length&&t[o]==e[o]){let s=N1(t,e,n,r.lastChild,o+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(o==t.length-1?n.type:t[o+1]))return r.copy(r.content.append(K.from(T1(n,t,o+1))))}}function M1(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,M1(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(K.empty,!0);return t.copy(n.append(r))}function Oc(t,e,n,r,o,s){let i=e<0?t.firstChild:t.lastChild,a=i.content;return t.childCount>1&&(s=0),o<r-1&&(a=Oc(a,e,n,r,o+1,s)),o>=n&&(a=e<0?i.contentMatchAt(0).fillBefore(a,s<=o).append(a):a.append(i.contentMatchAt(i.childCount).fillBefore(K.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,i.copy(a))}function A1(t,e,n){return e<t.openStart&&(t=new te(Oc(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new te(Oc(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const P1={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let O1=null;function I1(){return O1||(O1=document.implementation.createHTMLDocument("title"))}let Ic=null;function f8(t){let e=window.trustedTypes;return e?(Ic||(Ic=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Ic.createHTML(t)):t}function p8(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=I1().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),o;if((o=r&&P1[r[1].toLowerCase()])&&(t=o.map(s=>"<"+s+">").join("")+t+o.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=f8(t),o)for(let s=0;s<o.length;s++)n=n.querySelector(o[s])||n;return n}function h8(t){let e=t.querySelectorAll(vt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function m8(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:o,openStart:s,openEnd:i}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;o=K.from(l.create(r[a+1],o)),s++,i++}return new te(o,s,i)}const Lt={},Dt={},g8={touchstart:!0,touchmove:!0};class b8{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function y8(t){for(let e in Lt){let n=Lt[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{x8(t,r)&&!Dc(t,r)&&(t.editable||!(r.type in Dt))&&n(t,r)},g8[e]?{passive:!0}:void 0)}Et&&t.dom.addEventListener("input",()=>null),Lc(t)}function ur(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function v8(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Lc(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>Dc(t,r))})}function Dc(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function x8(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function $8(t,e){!Dc(t,e)&&Lt[e.type]&&(t.editable||!(e.type in Dt))&&Lt[e.type](t,e)}Dt.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!D1(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Fn&&vt&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Ao&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",o=>o(t,jr(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||d8(t,n)?n.preventDefault():ur(t,"key")},Dt.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)},Dt.keypress=(t,e)=>{let n=e;if(D1(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||en&&n.metaKey)return;if(t.someProp("handleKeyPress",o=>o(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof me)||!r.$from.sameParent(r.$to)){let o=String.fromCharCode(n.charCode),s=()=>t.state.tr.insertText(o).scrollIntoView();!/[\r\n]/.test(o)&&!t.someProp("handleTextInput",i=>i(t,r.$from.pos,r.$to.pos,o,s))&&t.dispatch(s()),n.preventDefault()}};function ta(t){return{left:t.clientX,top:t.clientY}}function w8(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function jc(t,e,n,r,o){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let i=s.depth+1;i>0;i--)if(t.someProp(e,a=>i>s.depth?a(t,n,s.nodeAfter,s.before(i),o,!0):a(t,n,s.node(i),s.before(i),o,!1)))return!0;return!1}function Io(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function k8(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&pe.isSelectable(r)?(Io(t,new pe(n)),!0):!1}function S8(t,e){if(e==-1)return!1;let n=t.state.selection,r,o;n instanceof pe&&(r=n.node);let s=t.state.doc.resolve(e);for(let i=s.depth+1;i>0;i--){let a=i>s.depth?s.nodeAfter:s.node(i);if(pe.isSelectable(a)){r&&n.$from.depth>0&&i>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?o=s.before(n.$from.depth):o=s.before(i);break}}return o!=null?(Io(t,pe.create(t.state.doc,o)),!0):!1}function E8(t,e,n,r,o){return jc(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(o?S8(t,n):k8(t,n))}function C8(t,e,n,r){return jc(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",o=>o(t,e,r))}function T8(t,e,n,r){return jc(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",o=>o(t,e,r))||N8(t,n,r)}function N8(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Io(t,me.create(r,0,r.content.size)),!0):!1;let o=r.resolve(e);for(let s=o.depth+1;s>0;s--){let i=s>o.depth?o.nodeAfter:o.node(s),a=o.before(s);if(i.inlineContent)Io(t,me.create(r,a+1,a+1+i.content.size));else if(pe.isSelectable(i))Io(t,pe.create(r,a));else continue;return!0}}function Rc(t){return na(t)}const L1=en?"metaKey":"ctrlKey";Lt.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=Rc(t),o=Date.now(),s="singleClick";o-t.input.lastClick.time<500&&w8(n,t.input.lastClick)&&!n[L1]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:s,button:n.button};let i=t.posAtCoords(ta(n));i&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new M8(t,i,n,!!r)):(s=="doubleClick"?C8:T8)(t,i.pos,i.inside,n)?n.preventDefault():ur(t,"pointer"))};class M8{constructor(e,n,r,o){this.view=e,this.pos=n,this.event=r,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[L1],this.allowDefault=r.shiftKey;let s,i;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),i=n.inside;else{let c=e.state.doc.resolve(n.pos);s=c.parent,i=c.depth?c.before():0}const a=o?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:d}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||d instanceof pe&&d.from<=i&&d.to>i)&&(this.mightDrag={node:s,pos:i,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Qt&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),ur(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Bn(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(ta(e))),this.updateAllowDefault(e),this.allowDefault||!n?ur(this.view,"pointer"):E8(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Et&&this.mightDrag&&!this.mightDrag.node.isAtom||vt&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Io(this.view,be.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):ur(this.view,"pointer")}move(e){this.updateAllowDefault(e),ur(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Lt.touchstart=t=>{t.input.lastTouch=Date.now(),Rc(t),ur(t,"pointer")},Lt.touchmove=t=>{t.input.lastTouch=Date.now(),ur(t,"pointer")},Lt.contextmenu=t=>Rc(t);function D1(t,e){return t.composing?!0:Et&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const A8=Fn?5e3:-1;Dt.compositionstart=Dt.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof me&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||vt&&G0&&P8(t)))t.markCursor=t.state.storedMarks||n.marks(),na(t,!0),t.markCursor=null;else if(na(t,!e.selection.empty),Qt&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let o=r.focusNode,s=r.focusOffset;o&&o.nodeType==1&&s!=0;){let i=s<0?o.lastChild:o.childNodes[s-1];if(!i)break;if(i.nodeType==3){let a=t.domSelection();a&&a.collapse(i,i.nodeValue.length);break}else o=i,s=-1}}t.input.composing=!0}j1(t,A8)};function P8(t){let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(!e||e.nodeType!=1||n>=e.childNodes.length)return!1;let r=e.childNodes[n];return r.nodeType==1&&r.contentEditable=="false"}Dt.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.badSafariComposition?t.domObserver.forceFlush():t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,j1(t,20))};function j1(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>na(t),e))}function R1(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=I8());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function O8(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=S6(e.focusNode,e.focusOffset),r=E6(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let o=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!o||!o.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let i=n.pmViewDesc;if(!(!i||!i.isText(n.nodeValue)))return r}}return n||r}function I8(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function na(t,e=!1){if(!(Fn&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),R1(t),e||t.docView&&t.docView.dirty){let n=Cc(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function L8(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Cs=Bt&&ar<15||Ao&&M6<604;Lt.copy=Dt.cut=(t,e)=>{let n=e,r=t.state.selection,o=n.type=="cut";if(r.empty)return;let s=Cs?null:n.clipboardData,i=r.content(),{dom:a,text:l}=Pc(t,i);s?(n.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):L8(t,a),o&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function D8(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function j8(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let o=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Ts(t,r.value,null,o,e):Ts(t,r.textContent,r.innerHTML,o,e)},50)}function Ts(t,e,n,r,o){let s=C1(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,o,s||te.empty)))return!0;if(!s)return!1;let i=D8(s),a=i?t.state.tr.replaceSelectionWith(i,r):t.state.tr.replaceSelection(s);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function _1(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Dt.paste=(t,e)=>{let n=e;if(t.composing&&!Fn)return;let r=Cs?null:n.clipboardData,o=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Ts(t,_1(r),r.getData("text/html"),o,n)?n.preventDefault():j8(t,n)};class F1{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const R8=en?"altKey":"ctrlKey";function z1(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[R8]}Lt.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let o=t.state.selection,s=o.empty?null:t.posAtCoords(ta(n)),i;if(!(s&&s.pos>=o.from&&s.pos<=(o instanceof pe?o.to-1:o.to))){if(r&&r.mightDrag)i=pe.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let u=t.docView.nearestDesc(n.target,!0);u&&u.node.type.spec.draggable&&u!=t.docView&&(i=pe.create(t.state.doc,u.posBefore))}}let a=(i||t.state.selection).content(),{dom:l,text:d,slice:c}=Pc(t,a);(!n.dataTransfer.files.length||!vt||U0>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Cs?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Cs||n.dataTransfer.setData("text/plain",d),t.dragging=new F1(c,z1(t,n),i)},Lt.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)},Dt.dragover=Dt.dragenter=(t,e)=>e.preventDefault(),Dt.drop=(t,e)=>{try{_8(t,e,t.dragging)}finally{t.dragging=null}};function _8(t,e,n){if(!e.dataTransfer)return;let r=t.posAtCoords(ta(e));if(!r)return;let o=t.state.doc.resolve(r.pos),s=n&&n.slice;s?t.someProp("transformPasted",p=>{s=p(s,t,!1)}):s=C1(t,_1(e.dataTransfer),Cs?null:e.dataTransfer.getData("text/html"),!1,o);let i=!!(n&&z1(t,e));if(t.someProp("handleDrop",p=>p(t,e,s||te.empty,i))){e.preventDefault();return}if(!s)return;e.preventDefault();let a=s?m0(t.state.doc,o.pos,s):o.pos;a==null&&(a=o.pos);let l=t.state.tr;if(i){let{node:p}=n;p?p.replace(l):l.deleteSelection()}let d=l.mapping.map(a),c=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,u=l.doc;if(c?l.replaceRangeWith(d,d,s.content.firstChild):l.replaceRange(d,d,s),l.doc.eq(u))return;let f=l.doc.resolve(d);if(c&&pe.isSelectable(s.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(s.content.firstChild))l.setSelection(new pe(f));else{let p=l.mapping.map(a);l.mapping.maps[l.mapping.maps.length-1].forEach((h,b,g,y)=>p=y),l.setSelection(Nc(t,f,l.doc.resolve(p)))}t.focus(),t.dispatch(l.setMeta("uiEvent","drop"))}Lt.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Bn(t)},20))},Lt.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)},Lt.beforeinput=(t,e)=>{if(vt&&Fn&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,jr(8,"Backspace")))))return;let{$cursor:o}=t.state.selection;o&&o.pos>0&&t.dispatch(t.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let t in Dt)Lt[t]=Dt[t];function Ns(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class ra{constructor(e,n){this.toDOM=e,this.spec=n||zr,this.side=this.spec.side||0}map(e,n,r,o){let{pos:s,deleted:i}=e.mapResult(n.from+o,this.side<0?-1:1);return i?null:new xt(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof ra&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Ns(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class fr{constructor(e,n){this.attrs=e,this.spec=n||zr}map(e,n,r,o){let s=e.map(n.from+o,this.spec.inclusiveStart?-1:1)-r,i=e.map(n.to+o,this.spec.inclusiveEnd?1:-1)-r;return s>=i?null:new xt(s,i,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof fr&&Ns(this.attrs,e.attrs)&&Ns(this.spec,e.spec)}static is(e){return e.type instanceof fr}destroy(){}}class _c{constructor(e,n){this.attrs=e,this.spec=n||zr}map(e,n,r,o){let s=e.mapResult(n.from+o,1);if(s.deleted)return null;let i=e.mapResult(n.to+o,-1);return i.deleted||i.pos<=s.pos?null:new xt(s.pos-r,i.pos-r,this)}valid(e,n){let{index:r,offset:o}=e.content.findIndex(n.from),s;return o==n.from&&!(s=e.child(r)).isText&&o+s.nodeSize==n.to}eq(e){return this==e||e instanceof _c&&Ns(this.attrs,e.attrs)&&Ns(this.spec,e.spec)}destroy(){}}class xt{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new xt(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new xt(e,e,new ra(n,r))}static inline(e,n,r,o){return new xt(e,n,new fr(r,o))}static node(e,n,r,o){return new xt(e,n,new _c(r,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof fr}get widget(){return this.type instanceof ra}}const Lo=[],zr={};class We{constructor(e,n){this.local=e.length?e:Lo,this.children=n.length?n:Lo}static create(e,n){return n.length?oa(n,e,0,zr):At}find(e,n,r){let o=[];return this.findInner(e??0,n??1e9,o,0,r),o}findInner(e,n,r,o,s){for(let i=0;i<this.local.length;i++){let a=this.local[i];a.from<=n&&a.to>=e&&(!s||s(a.spec))&&r.push(a.copy(a.from+o,a.to+o))}for(let i=0;i<this.children.length;i+=3)if(this.children[i]<n&&this.children[i+1]>e){let a=this.children[i]+1;this.children[i+2].findInner(e-a,n-a,r,o+a,s)}}map(e,n,r){return this==At||e.maps.length==0?this:this.mapInner(e,n,0,0,r||zr)}mapInner(e,n,r,o,s){let i;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,o);l&&l.type.valid(n,l)?(i||(i=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?F8(this.children,i||[],e,n,r,o,s):i?new We(i.sort(Br),Lo):At}add(e,n){return n.length?this==At?We.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let o,s=0;e.forEach((a,l)=>{let d=l+r,c;if(c=H1(n,a,d)){for(o||(o=this.children.slice());s<o.length&&o[s]<l;)s+=3;o[s]==l?o[s+2]=o[s+2].addInner(a,c,d+1):o.splice(s,0,l,l+a.nodeSize,oa(c,a,d+1,zr)),s+=3}});let i=B1(s?V1(n):n,-r);for(let a=0;a<i.length;a++)i[a].type.valid(e,i[a])||i.splice(a--,1);return new We(i.length?this.local.concat(i).sort(Br):this.local,o||this.children)}remove(e){return e.length==0||this==At?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,o=this.local;for(let s=0;s<r.length;s+=3){let i,a=r[s]+n,l=r[s+1]+n;for(let c=0,u;c<e.length;c++)(u=e[c])&&u.from>a&&u.to<l&&(e[c]=null,(i||(i=[])).push(u));if(!i)continue;r==this.children&&(r=this.children.slice());let d=r[s+2].removeInner(i,a+1);d!=At?r[s+2]=d:(r.splice(s,3),s-=3)}if(o.length){for(let s=0,i;s<e.length;s++)if(i=e[s])for(let a=0;a<o.length;a++)o[a].eq(i,n)&&(o==this.local&&(o=this.local.slice()),o.splice(a--,1))}return r==this.children&&o==this.local?this:o.length||r.length?new We(o,r):At}forChild(e,n){if(this==At)return this;if(n.isLeaf)return We.empty;let r,o;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let s=e+1,i=s+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<i&&l.to>s&&l.type instanceof fr){let d=Math.max(s,l.from)-s,c=Math.min(i,l.to)-s;d<c&&(o||(o=[])).push(l.copy(d,c))}}if(o){let a=new We(o.sort(Br),Lo);return r?new pr([a,r]):a}return r||At}eq(e){if(this==e)return!0;if(!(e instanceof We)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return Fc(this.localsInner(e))}localsInner(e){if(this==At)return Lo;if(e.inlineContent||!this.local.some(fr.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof fr||n.push(this.local[r]);return n}forEachSet(e){e(this)}}We.empty=new We([],[]),We.removeOverlap=Fc;const At=We.empty;class pr{constructor(e){this.members=e}map(e,n){const r=this.members.map(o=>o.map(e,n,zr));return pr.from(r)}forChild(e,n){if(n.isLeaf)return We.empty;let r=[];for(let o=0;o<this.members.length;o++){let s=this.members[o].forChild(e,n);s!=At&&(s instanceof pr?r=r.concat(s.members):r.push(s))}return pr.from(r)}eq(e){if(!(e instanceof pr)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let o=0;o<this.members.length;o++){let s=this.members[o].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let i=0;i<s.length;i++)n.push(s[i])}}return n?Fc(r?n:n.sort(Br)):Lo}static from(e){switch(e.length){case 0:return At;case 1:return e[0];default:return new pr(e.every(n=>n instanceof We)?e:e.reduce((n,r)=>n.concat(r instanceof We?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function F8(t,e,n,r,o,s,i){let a=t.slice();for(let d=0,c=s;d<n.maps.length;d++){let u=0;n.maps[d].forEach((f,p,h,b)=>{let g=b-h-(p-f);for(let y=0;y<a.length;y+=3){let x=a[y+1];if(x<0||f>x+c-u)continue;let k=a[y]+c-u;p>=k?a[y+1]=f<=k?-2:-1:f>=c&&g&&(a[y]+=g,a[y+1]+=g)}u+=g}),c=n.maps[d].map(c,-1)}let l=!1;for(let d=0;d<a.length;d+=3)if(a[d+1]<0){if(a[d+1]==-2){l=!0,a[d+1]=-1;continue}let c=n.map(t[d]+s),u=c-o;if(u<0||u>=r.content.size){l=!0;continue}let f=n.map(t[d+1]+s,-1),p=f-o,{index:h,offset:b}=r.content.findIndex(u),g=r.maybeChild(h);if(g&&b==u&&b+g.nodeSize==p){let y=a[d+2].mapInner(n,g,c+1,t[d]+s+1,i);y!=At?(a[d]=u,a[d+1]=p,a[d+2]=y):(a[d+1]=-2,l=!0)}else l=!0}if(l){let d=z8(a,t,e,n,o,s,i),c=oa(d,r,0,i);e=c.local;for(let u=0;u<a.length;u+=3)a[u+1]<0&&(a.splice(u,3),u-=3);for(let u=0,f=0;u<c.children.length;u+=3){let p=c.children[u];for(;f<a.length&&a[f]<p;)f+=3;a.splice(f,0,c.children[u],c.children[u+1],c.children[u+2])}}return new We(e.sort(Br),a)}function B1(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let o=t[r];n.push(new xt(o.from+e,o.to+e,o.type))}return n}function z8(t,e,n,r,o,s,i){function a(l,d){for(let c=0;c<l.local.length;c++){let u=l.local[c].map(r,o,d);u?n.push(u):i.onRemove&&i.onRemove(l.local[c].spec)}for(let c=0;c<l.children.length;c+=3)a(l.children[c+2],l.children[c]+d+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+s+1);return n}function H1(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,o=null;for(let s=0,i;s<t.length;s++)(i=t[s])&&i.from>n&&i.to<r&&((o||(o=[])).push(i),t[s]=null);return o}function V1(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function oa(t,e,n,r){let o=[],s=!1;e.forEach((a,l)=>{let d=H1(t,a,l+n);if(d){s=!0;let c=oa(d,a,n+l+1,r);c!=At&&o.push(l,l+a.nodeSize,c)}});let i=B1(s?V1(t):t,-n).sort(Br);for(let a=0;a<i.length;a++)i[a].type.valid(e,i[a])||(r.onRemove&&r.onRemove(i[a].spec),i.splice(a--,1));return i.length||o.length?new We(i,o):At}function Br(t,e){return t.from-e.from||t.to-e.to}function Fc(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let o=n+1;o<e.length;o++){let s=e[o];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[o]=s.copy(s.from,r.to),W1(e,o+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),W1(e,o,r.copy(s.from,r.to)));break}}}return e}function W1(t,e,n){for(;e<t.length&&Br(n,t[e])>0;)e++;t.splice(e,0,n)}function zc(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=At&&e.push(r)}),t.cursorWrapper&&e.push(We.create(t.state.doc,[t.cursorWrapper.deco])),pr.from(e)}const B8={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},H8=Bt&&ar<=11;class V8{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class W8{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new V8,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let o=0;o<r.length;o++)this.queue.push(r[o]);Bt&&ar<=11&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():Et&&e.composing&&r.some(o=>o.type=="childList"&&o.target.nodeName=="TR")?(e.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),H8&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,B8)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(y1(this.view)){if(this.suppressingSelectionUpdates)return Bn(this.view);if(Bt&&ar<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Dr(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=Mo(s))n.add(s);for(let s=e.anchorNode;s;s=Mo(s))if(n.has(s)){r=s;break}let o=r&&this.view.docView.nearestDesc(r);if(o&&o.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&y1(e)&&!this.ignoreSelectionChange(r),s=-1,i=-1,a=!1,l=[];if(e.editable)for(let c=0;c<n.length;c++){let u=this.registerMutation(n[c],l);u&&(s=s<0?u.from:Math.min(u.from,s),i=i<0?u.to:Math.max(u.to,i),u.typeOver&&(a=!0))}if(Qt&&l.length){let c=l.filter(u=>u.nodeName=="BR");if(c.length==2){let[u,f]=c;u.parentNode&&u.parentNode.parentNode==f.parentNode?f.remove():u.remove()}else{let{focusNode:u}=this.currentSelection;for(let f of c){let p=f.parentNode;p&&p.nodeName=="LI"&&(!u||K8(e,u)!=p)&&f.remove()}}}else if((vt||Et)&&l.some(c=>c.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let c of l)if(c.nodeName=="BR"&&c.parentNode){let u=c.nextSibling;u&&u.nodeType==1&&u.contentEditable=="false"&&c.parentNode.removeChild(c)}}let d=null;s<0&&o&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Xi(r)&&(d=Cc(e))&&d.eq(be.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Bn(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||o)&&(s>-1&&(e.docView.markDirty(s,i),U8(e)),e.input.badSafariComposition&&(e.input.badSafariComposition=!1,q8(e,l)),this.handleDOMChange(s,i,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Bn(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++){let u=e.addedNodes[c];n.push(u),u.nodeType==3&&(this.lastChangedTextNode=u)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let o=e.previousSibling,s=e.nextSibling;if(Bt&&ar<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:u,nextSibling:f}=e.addedNodes[c];(!u||Array.prototype.indexOf.call(e.addedNodes,u)<0)&&(o=u),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(s=f)}let i=o&&o.parentNode==e.target?St(o)+1:0,a=r.localPosFromDOM(e.target,i,-1),l=s&&s.parentNode==e.target?St(s):e.target.childNodes.length,d=r.localPosFromDOM(e.target,l,1);return{from:a,to:d}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let U1=new WeakMap,G1=!1;function U8(t){if(!U1.has(t)&&(U1.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Qt,G1)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),G1=!0}}function K1(t,e){let n=e.startContainer,r=e.startOffset,o=e.endContainer,s=e.endOffset,i=t.domAtPos(t.state.selection.anchor);return Dr(i.node,i.offset,o,s)&&([n,r,o,s]=[o,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:s}}function G8(t,e){if(e.getComposedRanges){let o=e.getComposedRanges(t.root)[0];if(o)return K1(t,o)}let n;function r(o){o.preventDefault(),o.stopImmediatePropagation(),n=o.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?K1(t,n):null}function K8(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function q8(t,e){var n;let{focusNode:r,focusOffset:o}=t.domSelectionRange();for(let s of e)if(((n=s.parentNode)===null||n===void 0?void 0:n.nodeName)=="TR"){let i=s.nextSibling;for(;i&&i.nodeName!="TD"&&i.nodeName!="TH";)i=i.nextSibling;if(i){let a=i;for(;;){let l=a.firstChild;if(!l||l.nodeType!=1||l.contentEditable=="false"||/^(BR|IMG)$/.test(l.nodeName))break;a=l}a.insertBefore(s,a.firstChild),r==s&&t.domSelection().collapse(s,o)}else s.parentNode.removeChild(s)}}function Y8(t,e,n){let{node:r,fromOffset:o,toOffset:s,from:i,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),d,c=l.anchorNode;if(c&&t.dom.contains(c.nodeType==1?c:c.parentNode)&&(d=[{node:c,offset:l.anchorOffset}],Xi(l)||d.push({node:l.focusNode,offset:l.focusOffset})),vt&&t.input.lastKeyCode===8)for(let g=s;g>o;g--){let y=r.childNodes[g-1],x=y.pmViewDesc;if(y.nodeName=="BR"&&!x){s=g;break}if(!x||x.size)break}let u=t.state.doc,f=t.someProp("domParser")||nr.fromSchema(t.state.schema),p=u.resolve(i),h=null,b=f.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:o,to:s,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:J8,context:p});if(d&&d[0].pos!=null){let g=d[0].pos,y=d[1]&&d[1].pos;y==null&&(y=g),h={anchor:g+i,head:y+i}}return{doc:b,sel:h,from:i,to:a}}function J8(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Et&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Et&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const X8=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Z8(t,e,n,r,o){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let M=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,I=Cc(t,M);if(I&&!t.state.selection.eq(I)){if(vt&&Fn&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",z=>z(t,jr(13,"Enter"))))return;let D=t.state.tr.setSelection(I);M=="pointer"?D.setMeta("pointer",!0):M=="key"&&D.scrollIntoView(),s&&D.setMeta("composition",s),t.dispatch(D)}return}let i=t.state.doc.resolve(e),a=i.sharedDepth(n);e=i.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l=t.state.selection,d=Y8(t,e,n),c=t.state.doc,u=c.slice(d.from,d.to),f,p;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,p="end"):(f=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let h=tS(u.content,d.doc.content,d.from,f,p);if(h&&t.input.domChangeCount++,(Ao&&t.input.lastIOSEnter>Date.now()-225||Fn)&&o.some(M=>M.nodeType==1&&!X8.test(M.nodeName))&&(!h||h.endA>=h.endB)&&t.someProp("handleKeyDown",M=>M(t,jr(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!h)if(r&&l instanceof me&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))h={start:l.from,endA:l.to,endB:l.to};else{if(d.sel){let M=q1(t,t.state.doc,d.sel);if(M&&!M.eq(t.state.selection)){let I=t.state.tr.setSelection(M);s&&I.setMeta("composition",s),t.dispatch(I)}}return}t.state.selection.from<t.state.selection.to&&h.start==h.endB&&t.state.selection instanceof me&&(h.start>t.state.selection.from&&h.start<=t.state.selection.from+2&&t.state.selection.from>=d.from?h.start=t.state.selection.from:h.endA<t.state.selection.to&&h.endA>=t.state.selection.to-2&&t.state.selection.to<=d.to&&(h.endB+=t.state.selection.to-h.endA,h.endA=t.state.selection.to)),Bt&&ar<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>d.from&&d.doc.textBetween(h.start-d.from-1,h.start-d.from+1)==" "&&(h.start--,h.endA--,h.endB--);let b=d.doc.resolveNoCache(h.start-d.from),g=d.doc.resolveNoCache(h.endB-d.from),y=c.resolve(h.start),x=b.sameParent(g)&&b.parent.inlineContent&&y.end()>=h.endA;if((Ao&&t.input.lastIOSEnter>Date.now()-225&&(!x||o.some(M=>M.nodeName=="DIV"||M.nodeName=="P"))||!x&&b.pos<d.doc.content.size&&(!b.sameParent(g)||!b.parent.inlineContent)&&b.pos<g.pos&&!/\S/.test(d.doc.textBetween(b.pos,g.pos,"","")))&&t.someProp("handleKeyDown",M=>M(t,jr(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>h.start&&eS(c,h.start,h.endA,b,g)&&t.someProp("handleKeyDown",M=>M(t,jr(8,"Backspace")))){Fn&&vt&&t.domObserver.suppressSelectionUpdates();return}vt&&h.endB==h.start&&(t.input.lastChromeDelete=Date.now()),Fn&&!x&&b.start()!=g.start()&&g.parentOffset==0&&b.depth==g.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==h.endA&&(h.endB-=2,g=d.doc.resolveNoCache(h.endB-d.from),setTimeout(()=>{t.someProp("handleKeyDown",function(M){return M(t,jr(13,"Enter"))})},20));let k=h.start,E=h.endA,S=M=>{let I=M||t.state.tr.replace(k,E,d.doc.slice(h.start-d.from,h.endB-d.from));if(d.sel){let D=q1(t,I.doc,d.sel);D&&!(vt&&t.composing&&D.empty&&(h.start!=h.endB||t.input.lastChromeDelete<Date.now()-100)&&(D.head==k||D.head==I.mapping.map(E)-1)||Bt&&D.empty&&D.head==k)&&I.setSelection(D)}return s&&I.setMeta("composition",s),I.scrollIntoView()},C;if(x)if(b.pos==g.pos){Bt&&ar<=11&&b.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Bn(t),20));let M=S(t.state.tr.delete(k,E)),I=c.resolve(h.start).marksAcross(c.resolve(h.endA));I&&M.ensureMarks(I),t.dispatch(M)}else if(h.endA==h.endB&&(C=Q8(b.parent.content.cut(b.parentOffset,g.parentOffset),y.parent.content.cut(y.parentOffset,h.endA-y.start())))){let M=S(t.state.tr);C.type=="add"?M.addMark(k,E,C.mark):M.removeMark(k,E,C.mark),t.dispatch(M)}else if(b.parent.child(b.index()).isText&&b.index()==g.index()-(g.textOffset?0:1)){let M=b.parent.textBetween(b.parentOffset,g.parentOffset),I=()=>S(t.state.tr.insertText(M,k,E));t.someProp("handleTextInput",D=>D(t,k,E,M,I))||t.dispatch(I())}else t.dispatch(S());else t.dispatch(S())}function q1(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Nc(t,e.resolve(n.anchor),e.resolve(n.head))}function Q8(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,o=n,s=r,i,a,l;for(let c=0;c<r.length;c++)o=r[c].removeFromSet(o);for(let c=0;c<n.length;c++)s=n[c].removeFromSet(s);if(o.length==1&&s.length==0)a=o[0],i="add",l=c=>c.mark(a.addToSet(c.marks));else if(o.length==0&&s.length==1)a=s[0],i="remove",l=c=>c.mark(a.removeFromSet(c.marks));else return null;let d=[];for(let c=0;c<e.childCount;c++)d.push(l(e.child(c)));if(K.from(d).eq(t))return{mark:a,type:i}}function eS(t,e,n,r,o){if(n-e<=o.pos-r.pos||Bc(r,!0,!1)<o.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let a=s.nodeAfter;return a!=null&&n==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let i=t.resolve(Bc(s,!0,!0));return!i.parent.isTextblock||i.pos>n||Bc(i,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(i.parent.content)}function Bc(t,e,n){let r=t.depth,o=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,o++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,o++}return o}function tS(t,e,n,r,o){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:i,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(o=="end"){let l=Math.max(0,s-Math.min(i,a));r-=i+l-s}if(i<s&&t.size<e.size){let l=r<=s&&r>=i?s-r:0;s-=l,s&&s<e.size&&Y1(e.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-i),i=s}else if(a<s){let l=r<=s&&r>=a?s-r:0;s-=l,s&&s<t.size&&Y1(t.textBetween(s-1,s+1))&&(s+=l?1:-1),i=s+(i-a),a=s}return{start:s,endA:i,endB:a}}function Y1(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class J1{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new b8,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(tb),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Q1(this),Z1(this),this.nodeViews=eb(this),this.docView=i1(this.state.doc,X1(this),zc(this),this.dom,this),this.domObserver=new W8(this,(r,o,s,i)=>Z8(this,r,o,s,i)),this.domObserver.start(),y8(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Lc(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(tb),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let o=this.state,s=!1,i=!1;e.storedMarks&&this.composing&&(R1(this),i=!0),this.state=e;let a=o.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let p=eb(this);rS(p,this.nodeViews)&&(this.nodeViews=p,s=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&Lc(this),this.editable=Q1(this),Z1(this);let l=zc(this),d=X1(this),c=o.plugins!=e.plugins&&!o.doc.eq(e.doc)?"reset":e.scrollToSelection>o.scrollToSelection?"to selection":"preserve",u=s||!this.docView.matchesNode(e.doc,d,l);(u||!e.selection.eq(o.selection))&&(i=!0);let f=c=="preserve"&&i&&this.dom.style.overflowAnchor==null&&O6(this);if(i){this.domObserver.stop();let p=u&&(Bt||vt)&&!this.composing&&!o.selection.empty&&!e.selection.empty&&nS(o.selection,e.selection);if(u){let h=vt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=O8(this)),(s||!this.docView.update(e.doc,d,l,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=i1(e.doc,d,l,this.dom,this)),h&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&n8(this))?Bn(this,p):(g1(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(o),!((r=this.dragging)===null||r===void 0)&&r.node&&!o.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,o),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():f&&I6(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof pe){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&K0(this,n.getBoundingClientRect(),e)}else K0(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,o=-1;if(this.state.doc.nodeAt(r.from)==r.node)o=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(o=s)}this.dragging=new F1(e.slice,e.move,o<0?void 0:pe.create(this.state.doc,o))}someProp(e,n){let r=this._props&&this._props[e],o;if(r!=null&&(o=n?n(r):r))return o;for(let i=0;i<this.directPlugins.length;i++){let a=this.directPlugins[i].props[e];if(a!=null&&(o=n?n(a):a))return o}let s=this.state.plugins;if(s)for(let i=0;i<s.length;i++){let a=s[i].props[e];if(a!=null&&(o=n?n(a):a))return o}}hasFocus(){if(Bt){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&L6(this.dom),Bn(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return F6(this,e)}coordsAtPos(e,n=1){return Q0(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let o=this.docView.posFromDOM(e,n,r);if(o==null)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(e,n){return W6(this,n||this.state,e)}pasteHTML(e,n){return Ts(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Ts(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return Pc(this,e)}destroy(){this.docView&&(v8(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],zc(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,w6())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return $8(this,e)}domSelectionRange(){let e=this.domSelection();return e?Et&&this.root.nodeType===11&&T6(this.dom.ownerDocument)==this.dom&&G8(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}J1.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function X1(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[xt.node(0,t.state.doc.content.size,e)]}function Z1(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:xt.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Q1(t){return!t.someProp("editable",e=>e(t.state)===!1)}function nS(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function eb(t){let e=Object.create(null);function n(r){for(let o in r)Object.prototype.hasOwnProperty.call(e,o)||(e[o]=r[o])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function rS(t,e){let n=0,r=0;for(let o in t){if(t[o]!=e[o])return!0;n++}for(let o in e)r++;return n!=r}function tb(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}for(var hr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},sa={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},oS=typeof navigator<"u"&&/Mac/.test(navigator.platform),sS=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Ct=0;Ct<10;Ct++)hr[48+Ct]=hr[96+Ct]=String(Ct);for(var Ct=1;Ct<=24;Ct++)hr[Ct+111]="F"+Ct;for(var Ct=65;Ct<=90;Ct++)hr[Ct]=String.fromCharCode(Ct+32),sa[Ct]=String.fromCharCode(Ct);for(var Hc in hr)sa.hasOwnProperty(Hc)||(sa[Hc]=hr[Hc]);function iS(t){var e=oS&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||sS&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?sa:hr)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const aS=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),lS=typeof navigator<"u"&&/Win/.test(navigator.platform);function dS(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,o,s,i;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))i=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))aS?i=!0:o=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),o&&(n="Ctrl-"+n),i&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function cS(t){let e=Object.create(null);for(let n in t)e[dS(n)]=t[n];return e}function Vc(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function uS(t){return new Ke({props:{handleKeyDown:Wc(t)}})}function Wc(t){let e=cS(t);return function(n,r){let o=iS(r),s,i=e[Vc(o,r)];if(i&&i(n.state,n.dispatch,n))return!0;if(o.length==1&&o!=" "){if(r.shiftKey){let a=e[Vc(o,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(lS&&r.ctrlKey&&r.altKey)&&(s=hr[r.keyCode])&&s!=o){let a=e[Vc(s,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}var fS=Object.defineProperty,Uc=(t,e)=>{for(var n in e)fS(t,n,{get:e[n],enumerable:!0})};function ia(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:o}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,s=n.storedMarks,n}}}var aa=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:o}=n,s=this.buildProps(o);return Object.fromEntries(Object.entries(t).map(([i,a])=>[i,(...d)=>{const c=a(...d)(s);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(o),c}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:o}=this,{view:s}=r,i=[],a=!!t,l=t||o.tr,d=()=>(!a&&e&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(l),i.every(u=>u===!0)),c={...Object.fromEntries(Object.entries(n).map(([u,f])=>[u,(...h)=>{const b=this.buildProps(l,e),g=f(...h)(b);return i.push(g),c}])),run:d};return c}createCan(t){const{rawCommands:e,state:n}=this,r=!1,o=t||n.tr,s=this.buildProps(o,r);return{...Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...d)=>l(...d)({...s,dispatch:void 0})])),chain:()=>this.createChain(o,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:o}=this,{view:s}=r,i={tr:t,editor:r,view:s,state:ia({state:o,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([a,l])=>[a,(...d)=>l(...d)(i)]))}};return i}},nb={};Uc(nb,{blur:()=>pS,clearContent:()=>hS,clearNodes:()=>mS,command:()=>gS,createParagraphNear:()=>bS,cut:()=>yS,deleteCurrentNode:()=>vS,deleteNode:()=>xS,deleteRange:()=>$S,deleteSelection:()=>wS,enter:()=>kS,exitCode:()=>SS,extendMarkRange:()=>ES,first:()=>CS,focus:()=>NS,forEach:()=>MS,insertContent:()=>AS,insertContentAt:()=>IS,joinBackward:()=>jS,joinDown:()=>DS,joinForward:()=>RS,joinItemBackward:()=>_S,joinItemForward:()=>FS,joinTextblockBackward:()=>zS,joinTextblockForward:()=>BS,joinUp:()=>LS,keyboardShortcut:()=>VS,lift:()=>WS,liftEmptyBlock:()=>US,liftListItem:()=>GS,newlineInCode:()=>KS,resetAttributes:()=>qS,scrollIntoView:()=>YS,selectAll:()=>JS,selectNodeBackward:()=>XS,selectNodeForward:()=>ZS,selectParentNode:()=>QS,selectTextblockEnd:()=>eE,selectTextblockStart:()=>tE,setContent:()=>nE,setMark:()=>$E,setMeta:()=>wE,setNode:()=>kE,setNodeSelection:()=>SE,setTextDirection:()=>EE,setTextSelection:()=>CE,sinkListItem:()=>TE,splitBlock:()=>NE,splitListItem:()=>ME,toggleList:()=>AE,toggleMark:()=>PE,toggleNode:()=>OE,toggleWrap:()=>IE,undoInputRule:()=>LE,unsetAllMarks:()=>DE,unsetMark:()=>jE,unsetTextDirection:()=>RE,updateAttributes:()=>_E,wrapIn:()=>FE,wrapInList:()=>zE});var pS=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())==null||n.removeAllRanges())}),!0),hS=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),mS=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:o}=r;return n&&o.forEach(({$from:s,$to:i})=>{t.doc.nodesBetween(s.pos,i.pos,(a,l)=>{if(a.type.isText)return;const{doc:d,mapping:c}=e,u=d.resolve(c.map(l)),f=d.resolve(c.map(l+a.nodeSize)),p=u.blockRange(f);if(!p)return;const h=ko(p);if(a.type.isTextblock){const{defaultType:b}=u.parent.contentMatchAt(u.index());e.setNodeMarkup(p.start,b)}(h||h===0)&&e.lift(p,h)})}),!0},gS=t=>e=>t(e),bS=()=>({state:t,dispatch:e})=>R0(t,e),yS=(t,e)=>({editor:n,tr:r})=>{const{state:o}=n,s=o.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const i=r.mapping.map(e);return r.insert(i,s.content),r.setSelection(new me(r.doc.resolve(Math.max(i-1,0)))),!0},vS=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const o=t.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===r.type){if(e){const a=o.before(s),l=o.after(s);t.delete(a,l).scrollIntoView()}return!0}return!1};function dt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var xS=t=>({tr:e,state:n,dispatch:r})=>{const o=dt(t,n.schema),s=e.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===o){if(r){const l=s.before(i),d=s.after(i);e.delete(l,d).scrollIntoView()}return!0}return!1},$S=t=>({tr:e,dispatch:n})=>{const{from:r,to:o}=t;return n&&e.delete(r,o),!0},wS=()=>({state:t,dispatch:e})=>pc(t,e),kS=()=>({commands:t})=>t.keyboardShortcut("Enter"),SS=()=>({state:t,dispatch:e})=>a6(t,e);function Gc(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function la(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(o=>n.strict?e[o]===t[o]:Gc(e[o])?e[o].test(t[o]):e[o]===t[o]):!0}function rb(t,e,n={}){return t.find(r=>r.type===e&&la(Object.fromEntries(Object.keys(n).map(o=>[o,r.attrs[o]])),n))}function ob(t,e,n={}){return!!rb(t,e,n)}function Kc(t,e,n){var r;if(!t||!e)return;let o=t.parent.childAfter(t.parentOffset);if((!o.node||!o.node.marks.some(c=>c.type===e))&&(o=t.parent.childBefore(t.parentOffset)),!o.node||!o.node.marks.some(c=>c.type===e)||(n=n||((r=o.node.marks[0])==null?void 0:r.attrs),!rb([...o.node.marks],e,n)))return;let i=o.index,a=t.start()+o.offset,l=i+1,d=a+o.node.nodeSize;for(;i>0&&ob([...t.parent.child(i-1).marks],e,n);)i-=1,a-=t.parent.child(i).nodeSize;for(;l<t.parent.childCount&&ob([...t.parent.child(l).marks],e,n);)d+=t.parent.child(l).nodeSize,l+=1;return{from:a,to:d}}function Hn(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var ES=(t,e={})=>({tr:n,state:r,dispatch:o})=>{const s=Hn(t,r.schema),{doc:i,selection:a}=n,{$from:l,from:d,to:c}=a;if(o){const u=Kc(l,s,e);if(u&&u.from<=d&&u.to>=c){const f=me.create(i,u.from,u.to);n.setSelection(f)}}return!0},CS=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function sb(t){return t instanceof me}function Hr(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function ib(t,e=null){if(!e)return null;const n=be.atStart(t),r=be.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const o=n.from,s=r.to;return e==="all"?me.create(t,Hr(0,o,s),Hr(t.content.size,o,s)):me.create(t,Hr(e,o,s),Hr(e,o,s))}function ab(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function da(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function TS(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var NS=(t=null,e={})=>({editor:n,view:r,tr:o,dispatch:s})=>{e={scrollIntoView:!0,...e};const i=()=>{(da()||ab())&&r.dom.focus(),TS()&&!da()&&!ab()&&r.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!sb(n.state.selection))return i(),!0;const a=ib(o.doc,t)||n.state.selection,l=n.state.selection.eq(a);return s&&(l||o.setSelection(a),l&&o.storedMarks&&o.setStoredMarks(o.storedMarks),i()),!0},MS=(t,e)=>n=>t.every((r,o)=>e(r,{...n,index:o})),AS=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),lb=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&lb(r)}return t};function ca(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return lb(n)}function Ms(t,e,n){if(t instanceof tr||t instanceof K)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,o=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return K.fromArray(t.map(a=>e.nodeFromJSON(a)));const i=e.nodeFromJSON(t);return n.errorOnInvalidContent&&i.check(),i}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),Ms("",e,n)}if(o){if(n.errorOnInvalidContent){let i=!1,a="";const l=new Yg({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:d=>(i=!0,a=typeof d=="string"?d:d.outerHTML,null)}]}})});if(n.slice?nr.fromSchema(l).parseSlice(ca(t),n.parseOptions):nr.fromSchema(l).parse(ca(t),n.parseOptions),n.errorOnInvalidContent&&i)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=nr.fromSchema(e);return n.slice?s.parseSlice(ca(t),n.parseOptions).content:s.parse(ca(t),n.parseOptions)}return Ms("",e,n)}function PS(t,e,n){const r=t.steps.length-1;if(r<e)return;const o=t.steps[r];if(!(o instanceof bt||o instanceof yt))return;const s=t.mapping.maps[r];let i=0;s.forEach((a,l,d,c)=>{i===0&&(i=c)}),t.setSelection(be.near(t.doc.resolve(i),n))}var OS=t=>!("type"in t),IS=(t,e,n)=>({tr:r,dispatch:o,editor:s})=>{var i;if(o){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;const l=g=>{s.emit("contentError",{editor:s,error:g,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},d={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{Ms(e,s.schema,{parseOptions:d,errorOnInvalidContent:!0})}catch(g){l(g)}try{a=Ms(e,s.schema,{parseOptions:d,errorOnInvalidContent:(i=n.errorOnInvalidContent)!=null?i:s.options.enableContentCheck})}catch(g){return l(g),!1}let{from:c,to:u}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},f=!0,p=!0;if((OS(a)?a:[a]).forEach(g=>{g.check(),f=f?g.isText&&g.marks.length===0:!1,p=p?g.isBlock:!1}),c===u&&p){const{parent:g}=r.doc.resolve(c);g.isTextblock&&!g.type.spec.code&&!g.childCount&&(c-=1,u+=1)}let b;if(f){if(Array.isArray(e))b=e.map(g=>g.text||"").join("");else if(e instanceof K){let g="";e.forEach(y=>{y.text&&(g+=y.text)}),b=g}else typeof e=="object"&&e&&e.text?b=e.text:b=e;r.insertText(b,c,u)}else{b=a;const g=r.doc.resolve(c),y=g.node(),x=g.parentOffset===0,k=y.isText||y.isTextblock,E=y.content.size>0;x&&k&&E&&(c=Math.max(0,c-1)),r.replaceWith(c,u,b)}n.updateSelection&&PS(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:c,text:b}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:c,text:b})}return!0},LS=()=>({state:t,dispatch:e})=>o6(t,e),DS=()=>({state:t,dispatch:e})=>s6(t,e),jS=()=>({state:t,dispatch:e})=>A0(t,e),RS=()=>({state:t,dispatch:e})=>L0(t,e),_S=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Ki(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},FS=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Ki(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},zS=()=>({state:t,dispatch:e})=>n6(t,e),BS=()=>({state:t,dispatch:e})=>r6(t,e);function db(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function HS(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,o,s,i;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))i=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))da()||db()?i=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),o&&(n=`Ctrl-${n}`),i&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var VS=t=>({editor:e,view:n,tr:r,dispatch:o})=>{const s=HS(t).split(/-(?!$)/),i=s.find(d=>!["Alt","Ctrl","Meta","Shift"].includes(d)),a=new KeyboardEvent("keydown",{key:i==="Space"?" ":i,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",d=>d(n,a))});return l==null||l.steps.forEach(d=>{const c=d.map(r.mapping);c&&o&&r.maybeStep(c)}),!0};function mr(t,e,n={}){const{from:r,to:o,empty:s}=t.selection,i=e?dt(e,t.schema):null,a=[];t.doc.nodesBetween(r,o,(u,f)=>{if(u.isText)return;const p=Math.max(r,f),h=Math.min(o,f+u.nodeSize);a.push({node:u,from:p,to:h})});const l=o-r,d=a.filter(u=>i?i.name===u.node.type.name:!0).filter(u=>la(u.node.attrs,n,{strict:!1}));return s?!!d.length:d.reduce((u,f)=>u+f.to-f.from,0)>=l}var WS=(t,e={})=>({state:n,dispatch:r})=>{const o=dt(t,n.schema);return mr(n,o,e)?i6(n,r):!1},US=()=>({state:t,dispatch:e})=>_0(t,e),GS=t=>({state:e,dispatch:n})=>{const r=dt(t,e.schema);return y6(r)(e,n)},KS=()=>({state:t,dispatch:e})=>j0(t,e);function ua(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function cb(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,o)=>(n.includes(o)||(r[o]=t[o]),r),{})}var qS=(t,e)=>({tr:n,state:r,dispatch:o})=>{let s=null,i=null;const a=ua(typeof t=="string"?t:t.name,r.schema);if(!a)return!1;a==="node"&&(s=dt(t,r.schema)),a==="mark"&&(i=Hn(t,r.schema));let l=!1;return n.selection.ranges.forEach(d=>{r.doc.nodesBetween(d.$from.pos,d.$to.pos,(c,u)=>{s&&s===c.type&&(l=!0,o&&n.setNodeMarkup(u,void 0,cb(c.attrs,e))),i&&c.marks.length&&c.marks.forEach(f=>{i===f.type&&(l=!0,o&&n.addMark(u,u+c.nodeSize,i.create(cb(f.attrs,e))))})})}),l},YS=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),JS=()=>({tr:t,dispatch:e})=>{if(e){const n=new Gt(t.doc);t.setSelection(n)}return!0},XS=()=>({state:t,dispatch:e})=>O0(t,e),ZS=()=>({state:t,dispatch:e})=>D0(t,e),QS=()=>({state:t,dispatch:e})=>c6(t,e),eE=()=>({state:t,dispatch:e})=>p6(t,e),tE=()=>({state:t,dispatch:e})=>f6(t,e);function qc(t,e,n={},r={}){return Ms(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var nE=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:o,tr:s,dispatch:i,commands:a})=>{const{doc:l}=s;if(r.preserveWhitespace!=="full"){const d=qc(t,o.schema,r,{errorOnInvalidContent:e??o.options.enableContentCheck});return i&&s.replaceWith(0,l.content.size,d).setMeta("preventUpdate",!n),!0}return i&&s.setMeta("preventUpdate",!n),a.insertContentAt({from:0,to:l.content.size},t,{parseOptions:r,errorOnInvalidContent:e??o.options.enableContentCheck})};function ub(t,e){const n=Hn(e,t.schema),{from:r,to:o,empty:s}=t.selection,i=[];s?(t.storedMarks&&i.push(...t.storedMarks),i.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,o,l=>{i.push(...l.marks)});const a=i.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function fb(t,e){const n=new lc(t);return e.forEach(r=>{r.steps.forEach(o=>{n.step(o)})}),n}function rE(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function oE(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(o,s)=>{n(o)&&r.push({node:o,pos:s})}),r}function pb(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function fa(t){return e=>pb(e.$from,t)}function ue(t,e,n){return t.config[e]===void 0&&t.parent?ue(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?ue(t.parent,e,n):null}):t.config[e]}function Yc(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=ue(e,"addExtensions",n);return r?[e,...Yc(r())]:e}).flat(10)}function Jc(t,e){const n=Ir.fromSchema(e).serializeFragment(t),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(n),o.innerHTML}function hb(t){return typeof t=="function"}function Oe(t,e=void 0,...n){return hb(t)?e?t.bind(e)(...n):t(...n):t}function sE(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Do(t){const e=t.filter(o=>o.type==="extension"),n=t.filter(o=>o.type==="node"),r=t.filter(o=>o.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function mb(t){const e=[],{nodeExtensions:n,markExtensions:r}=Do(t),o=[...n,...r],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(i=>{const a={name:i.name,options:i.options,storage:i.storage,extensions:o},l=ue(i,"addGlobalAttributes",a);if(!l)return;l().forEach(c=>{c.types.forEach(u=>{Object.entries(c.attributes).forEach(([f,p])=>{e.push({type:u,name:f,attribute:{...s,...p}})})})})}),o.forEach(i=>{const a={name:i.name,options:i.options,storage:i.storage},l=ue(i,"addAttributes",a);if(!l)return;const d=l();Object.entries(d).forEach(([c,u])=>{const f={...s,...u};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,e.push({type:i.name,name:c,attribute:f})})}),e}function De(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([o,s])=>{if(!r[o]){r[o]=s;return}if(o==="class"){const a=s?String(s).split(" "):[],l=r[o]?r[o].split(" "):[],d=a.filter(c=>!l.includes(c));r[o]=[...l,...d].join(" ")}else if(o==="style"){const a=s?s.split(";").map(c=>c.trim()).filter(Boolean):[],l=r[o]?r[o].split(";").map(c=>c.trim()).filter(Boolean):[],d=new Map;l.forEach(c=>{const[u,f]=c.split(":").map(p=>p.trim());d.set(u,f)}),a.forEach(c=>{const[u,f]=c.split(":").map(p=>p.trim());d.set(u,f)}),r[o]=Array.from(d.entries()).map(([c,u])=>`${c}: ${u}`).join("; ")}else r[o]=s}),r},{})}function As(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>De(n,r),{})}function iE(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function gb(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const o=e.reduce((s,i)=>{const a=i.attribute.parseHTML?i.attribute.parseHTML(n):iE(n.getAttribute(i.name));return a==null?s:{...s,[i.name]:a}},{});return{...r,...o}}}}function bb(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&sE(n)?!1:n!=null))}function yb(t){var e,n;const r={};return!((e=t==null?void 0:t.attribute)!=null&&e.isRequired)&&"default"in((t==null?void 0:t.attribute)||{})&&(r.default=t.attribute.default),((n=t==null?void 0:t.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=t.attribute.validate),[t.name,r]}function aE(t,e){var n;const r=mb(t),{nodeExtensions:o,markExtensions:s}=Do(t),i=(n=o.find(d=>ue(d,"topNode")))==null?void 0:n.name,a=Object.fromEntries(o.map(d=>{const c=r.filter(y=>y.type===d.name),u={name:d.name,options:d.options,storage:d.storage,editor:e},f=t.reduce((y,x)=>{const k=ue(x,"extendNodeSchema",u);return{...y,...k?k(d):{}}},{}),p=bb({...f,content:Oe(ue(d,"content",u)),marks:Oe(ue(d,"marks",u)),group:Oe(ue(d,"group",u)),inline:Oe(ue(d,"inline",u)),atom:Oe(ue(d,"atom",u)),selectable:Oe(ue(d,"selectable",u)),draggable:Oe(ue(d,"draggable",u)),code:Oe(ue(d,"code",u)),whitespace:Oe(ue(d,"whitespace",u)),linebreakReplacement:Oe(ue(d,"linebreakReplacement",u)),defining:Oe(ue(d,"defining",u)),isolating:Oe(ue(d,"isolating",u)),attrs:Object.fromEntries(c.map(yb))}),h=Oe(ue(d,"parseHTML",u));h&&(p.parseDOM=h.map(y=>gb(y,c)));const b=ue(d,"renderHTML",u);b&&(p.toDOM=y=>b({node:y,HTMLAttributes:As(y,c)}));const g=ue(d,"renderText",u);return g&&(p.toText=g),[d.name,p]})),l=Object.fromEntries(s.map(d=>{const c=r.filter(g=>g.type===d.name),u={name:d.name,options:d.options,storage:d.storage,editor:e},f=t.reduce((g,y)=>{const x=ue(y,"extendMarkSchema",u);return{...g,...x?x(d):{}}},{}),p=bb({...f,inclusive:Oe(ue(d,"inclusive",u)),excludes:Oe(ue(d,"excludes",u)),group:Oe(ue(d,"group",u)),spanning:Oe(ue(d,"spanning",u)),code:Oe(ue(d,"code",u)),attrs:Object.fromEntries(c.map(yb))}),h=Oe(ue(d,"parseHTML",u));h&&(p.parseDOM=h.map(g=>gb(g,c)));const b=ue(d,"renderHTML",u);return b&&(p.toDOM=g=>b({mark:g,HTMLAttributes:As(g,c)})),[d.name,p]}));return new Yg({topNode:i,nodes:a,marks:l})}function lE(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function pa(t){return t.sort((n,r)=>{const o=ue(n,"priority")||100,s=ue(r,"priority")||100;return o>s?-1:o<s?1:0})}function vb(t){const e=pa(Yc(t)),n=lE(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function xb(t,e,n){const{from:r,to:o}=e,{blockSeparator:s=`

`,textSerializers:i={}}=n||{};let a="";return t.nodesBetween(r,o,(l,d,c,u)=>{var f;l.isBlock&&d>r&&(a+=s);const p=i==null?void 0:i[l.type.name];if(p)return c&&(a+=p({node:l,pos:d,parent:c,index:u,range:e})),!1;l.isText&&(a+=(f=l==null?void 0:l.text)==null?void 0:f.slice(Math.max(r,d)-d,o-d))}),a}function dE(t,e){const n={from:0,to:t.content.size};return xb(t,n,e)}function $b(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function cE(t,e){const n=dt(e,t.schema),{from:r,to:o}=t.selection,s=[];t.doc.nodesBetween(r,o,a=>{s.push(a)});const i=s.reverse().find(a=>a.type.name===n.name);return i?{...i.attrs}:{}}function wb(t,e){const n=ua(typeof e=="string"?e:e.name,t.schema);return n==="node"?cE(t,e):n==="mark"?ub(t,e):{}}function uE(t,e=JSON.stringify){const n={};return t.filter(r=>{const o=e(r);return Object.prototype.hasOwnProperty.call(n,o)?!1:n[o]=!0})}function fE(t){const e=uE(t);return e.length===1?e:e.filter((n,r)=>!e.filter((s,i)=>i!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function kb(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((o,s)=>{const i=[];if(o.ranges.length)o.forEach((a,l)=>{i.push({from:a,to:l})});else{const{from:a,to:l}=n[s];if(a===void 0||l===void 0)return;i.push({from:a,to:l})}i.forEach(({from:a,to:l})=>{const d=e.slice(s).map(a,-1),c=e.slice(s).map(l),u=e.invert().map(d,-1),f=e.invert().map(c);r.push({oldRange:{from:u,to:f},newRange:{from:d,to:c}})})}),fE(r)}function Xc(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(o=>{const s=n.resolve(t),i=Kc(s,o.type);i&&r.push({mark:o,...i})}):n.nodesBetween(t,e,(o,s)=>{!o||(o==null?void 0:o.nodeSize)===void 0||r.push(...o.marks.map(i=>({from:s,to:s+o.nodeSize,mark:i})))}),r}var pE=(t,e,n,r=20)=>{const o=t.doc.resolve(n);let s=r,i=null;for(;s>0&&i===null;){const a=o.node(s);(a==null?void 0:a.type.name)===e?i=a:s-=1}return[i,s]};function ha(t,e){return e.nodes[t]||e.marks[t]||null}function ma(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const o=t.find(s=>s.type===e&&s.name===r);return o?o.attribute.keepOnSplit:!1}))}var hE=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(o,s,i,a)=>{var l,d;const c=((d=(l=o.type.spec).toText)==null?void 0:d.call(l,{node:o,pos:s,parent:i,index:a}))||o.textContent||"%leaf%";n+=o.isAtom&&!o.isText?c:c.slice(0,Math.max(0,r-s))}),n};function Zc(t,e,n={}){const{empty:r,ranges:o}=t.selection,s=e?Hn(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(u=>s?s.name===u.type.name:!0).find(u=>la(u.attrs,n,{strict:!1}));let i=0;const a=[];if(o.forEach(({$from:u,$to:f})=>{const p=u.pos,h=f.pos;t.doc.nodesBetween(p,h,(b,g)=>{if(!b.isText&&!b.marks.length)return;const y=Math.max(p,g),x=Math.min(h,g+b.nodeSize),k=x-y;i+=k,a.push(...b.marks.map(E=>({mark:E,from:y,to:x})))})}),i===0)return!1;const l=a.filter(u=>s?s.name===u.mark.type.name:!0).filter(u=>la(u.mark.attrs,n,{strict:!1})).reduce((u,f)=>u+f.to-f.from,0),d=a.filter(u=>s?u.mark.type!==s&&u.mark.type.excludes(s):!0).reduce((u,f)=>u+f.to-f.from,0);return(l>0?l+d:l)>=i}function mE(t,e,n={}){if(!e)return mr(t,null,n)||Zc(t,null,n);const r=ua(e,t.schema);return r==="node"?mr(t,e,n):r==="mark"?Zc(t,e,n):!1}var gE=(t,e)=>{const{$from:n,$to:r,$anchor:o}=t.selection;if(e){const s=fa(a=>a.type.name===e)(t.selection);if(!s)return!1;const i=t.doc.resolve(s.pos+1);return o.pos+1===i.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},bE=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function Sb(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function Eb(t,e){const{nodeExtensions:n}=Do(e),r=n.find(i=>i.name===t);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},s=Oe(ue(r,"group",o));return typeof s!="string"?!1:s.split(" ").includes("list")}function ga(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let o=!0;return t.content.forEach(s=>{o!==!1&&(ga(s,{ignoreWhitespace:n,checkChildren:e})||(o=!1))}),o}return!1}function Cb(t){return t instanceof pe}var Tb=class nv{constructor(e){this.position=e}static fromJSON(e){return new nv(e.position)}toJSON(){return{position:this.position}}};function yE(t,e){const n=e.mapping.mapResult(t.position);return{position:new Tb(n.pos),mapResult:n}}function vE(t){return new Tb(t)}function xE(t,e,n){var r;const{selection:o}=e;let s=null;if(sb(o)&&(s=o.$cursor),s){const a=(r=t.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(a)||!a.some(d=>d.type.excludes(n)))}const{ranges:i}=o;return i.some(({$from:a,$to:l})=>{let d=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(c,u,f)=>{if(d)return!1;if(c.isInline){const p=!f||f.type.allowsMarkType(n),h=!!n.isInSet(c.marks)||!c.marks.some(b=>b.type.excludes(n));d=p&&h}return!d}),d})}var $E=(t,e={})=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=n,{empty:i,ranges:a}=s,l=Hn(t,r.schema);if(o)if(i){const d=ub(r,l);n.addStoredMark(l.create({...d,...e}))}else a.forEach(d=>{const c=d.$from.pos,u=d.$to.pos;r.doc.nodesBetween(c,u,(f,p)=>{const h=Math.max(p,c),b=Math.min(p+f.nodeSize,u);f.marks.find(y=>y.type===l)?f.marks.forEach(y=>{l===y.type&&n.addMark(h,b,l.create({...y.attrs,...e}))}):n.addMark(h,b,l.create(e))})});return xE(r,n,l)},wE=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),kE=(t,e={})=>({state:n,dispatch:r,chain:o})=>{const s=dt(t,n.schema);let i;return n.selection.$anchor.sameParent(n.selection.$head)&&(i=n.selection.$anchor.parent.attrs),s.isTextblock?o().command(({commands:a})=>B0(s,{...i,...e})(n)?!0:a.clearNodes()).command(({state:a})=>B0(s,{...i,...e})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},SE=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,o=Hr(t,0,r.content.size),s=pe.create(r,o);e.setSelection(s)}return!0},EE=(t,e)=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=r;let i,a;return typeof e=="number"?(i=e,a=e):e&&"from"in e&&"to"in e?(i=e.from,a=e.to):(i=s.from,a=s.to),o&&n.doc.nodesBetween(i,a,(l,d)=>{l.isText||n.setNodeMarkup(d,void 0,{...l.attrs,dir:t})}),!0},CE=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:o,to:s}=typeof t=="number"?{from:t,to:t}:t,i=me.atStart(r).from,a=me.atEnd(r).to,l=Hr(o,i,a),d=Hr(s,i,a),c=me.create(r,l,d);e.setSelection(c)}return!0},TE=t=>({state:e,dispatch:n})=>{const r=dt(t,e.schema);return $6(r)(e,n)};function Nb(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(o=>e==null?void 0:e.includes(o.type.name));t.tr.ensureMarks(r)}}var NE=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:o})=>{const{selection:s,doc:i}=e,{$from:a,$to:l}=s,d=o.extensionManager.attributes,c=ma(d,a.node().type.name,a.node().attrs);if(s instanceof pe&&s.node.isBlock)return!a.parentOffset||!Rn(i,a.pos)?!1:(r&&(t&&Nb(n,o.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const u=l.parentOffset===l.parent.content.size,f=a.depth===0?void 0:rE(a.node(-1).contentMatchAt(a.indexAfter(-1)));let p=u&&f?[{type:f,attrs:c}]:void 0,h=Rn(e.doc,e.mapping.map(a.pos),1,p);if(!p&&!h&&Rn(e.doc,e.mapping.map(a.pos),1,f?[{type:f}]:void 0)&&(h=!0,p=f?[{type:f,attrs:c}]:void 0),r){if(h&&(s instanceof me&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,p),f&&!u&&!a.parentOffset&&a.parent.type!==f)){const b=e.mapping.map(a.before()),g=e.doc.resolve(b);a.node(-1).canReplaceWith(g.index(),g.index()+1,f)&&e.setNodeMarkup(e.mapping.map(a.before()),f)}t&&Nb(n,o.extensionManager.splittableMarks),e.scrollIntoView()}return h},ME=(t,e={})=>({tr:n,state:r,dispatch:o,editor:s})=>{var i;const a=dt(t,r.schema),{$from:l,$to:d}=r.selection,c=r.selection.node;if(c&&c.isBlock||l.depth<2||!l.sameParent(d))return!1;const u=l.node(-1);if(u.type!==a)return!1;const f=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(o){let y=K.empty;const x=l.index(-1)?1:l.index(-2)?2:3;for(let I=l.depth-x;I>=l.depth-3;I-=1)y=K.from(l.node(I).copy(y));const k=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,E={...ma(f,l.node().type.name,l.node().attrs),...e},S=((i=a.contentMatch.defaultType)==null?void 0:i.createAndFill(E))||void 0;y=y.append(K.from(a.createAndFill(null,S)||void 0));const C=l.before(l.depth-(x-1));n.replace(C,l.after(-k),new te(y,4-x,0));let M=-1;n.doc.nodesBetween(C,n.doc.content.size,(I,D)=>{if(M>-1)return!1;I.isTextblock&&I.content.size===0&&(M=D+1)}),M>-1&&n.setSelection(me.near(n.doc.resolve(M))),n.scrollIntoView()}return!0}const p=d.pos===l.end()?u.contentMatchAt(0).defaultType:null,h={...ma(f,u.type.name,u.attrs),...e},b={...ma(f,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,d.pos);const g=p?[{type:a,attrs:h},{type:p,attrs:b}]:[{type:a,attrs:h}];if(!Rn(n.doc,l.pos,2))return!1;if(o){const{selection:y,storedMarks:x}=r,{splittableMarks:k}=s.extensionManager,E=x||y.$to.parentOffset&&y.$from.marks();if(n.split(l.pos,2,g).scrollIntoView(),!E||!o)return!0;const S=E.filter(C=>k.includes(C.type.name));n.ensureMarks(S)}return!0},Qc=(t,e)=>{const n=fa(i=>i.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const o=t.doc.nodeAt(r);return n.node.type===(o==null?void 0:o.type)&&sr(t.doc,n.pos)&&t.join(n.pos),!0},eu=(t,e)=>{const n=fa(i=>i.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const o=t.doc.nodeAt(r);return n.node.type===(o==null?void 0:o.type)&&sr(t.doc,r)&&t.join(r),!0},AE=(t,e,n,r={})=>({editor:o,tr:s,state:i,dispatch:a,chain:l,commands:d,can:c})=>{const{extensions:u,splittableMarks:f}=o.extensionManager,p=dt(t,i.schema),h=dt(e,i.schema),{selection:b,storedMarks:g}=i,{$from:y,$to:x}=b,k=y.blockRange(x),E=g||b.$to.parentOffset&&b.$from.marks();if(!k)return!1;const S=fa(C=>Eb(C.type.name,u))(b);if(k.depth>=1&&S&&k.depth-S.depth<=1){if(S.node.type===p)return d.liftListItem(h);if(Eb(S.node.type.name,u)&&p.validContent(S.node.content)&&a)return l().command(()=>(s.setNodeMarkup(S.pos,p),!0)).command(()=>Qc(s,p)).command(()=>eu(s,p)).run()}return!n||!E||!a?l().command(()=>c().wrapInList(p,r)?!0:d.clearNodes()).wrapInList(p,r).command(()=>Qc(s,p)).command(()=>eu(s,p)).run():l().command(()=>{const C=c().wrapInList(p,r),M=E.filter(I=>f.includes(I.type.name));return s.ensureMarks(M),C?!0:d.clearNodes()}).wrapInList(p,r).command(()=>Qc(s,p)).command(()=>eu(s,p)).run()},PE=(t,e={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:s=!1}=n,i=Hn(t,r.schema);return Zc(r,i,e)?o.unsetMark(i,{extendEmptyMarkRange:s}):o.setMark(i,e)},OE=(t,e,n={})=>({state:r,commands:o})=>{const s=dt(t,r.schema),i=dt(e,r.schema),a=mr(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?o.setNode(i,l):o.setNode(s,{...l,...n})},IE=(t,e={})=>({state:n,commands:r})=>{const o=dt(t,n.schema);return mr(n,o,e)?r.lift(o):r.wrapIn(o,e)},LE=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let s;if(o.spec.isInputRules&&(s=o.getState(t))){if(e){const i=t.tr,a=s.transform;for(let l=a.steps.length-1;l>=0;l-=1)i.step(a.steps[l].invert(a.docs[l]));if(s.text){const l=i.doc.resolve(s.from).marks();i.replaceWith(s.from,s.to,t.schema.text(s.text,l))}else i.delete(s.from,s.to)}return!0}}return!1},DE=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:o}=n;return r||e&&o.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},jE=(t,e={})=>({tr:n,state:r,dispatch:o})=>{var s;const{extendEmptyMarkRange:i=!1}=e,{selection:a}=n,l=Hn(t,r.schema),{$from:d,empty:c,ranges:u}=a;if(!o)return!0;if(c&&i){let{from:f,to:p}=a;const h=(s=d.marks().find(g=>g.type===l))==null?void 0:s.attrs,b=Kc(d,l,h);b&&(f=b.from,p=b.to),n.removeMark(f,p,l)}else u.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},RE=t=>({tr:e,state:n,dispatch:r})=>{const{selection:o}=n;let s,i;return typeof t=="number"?(s=t,i=t):t&&"from"in t&&"to"in t?(s=t.from,i=t.to):(s=o.from,i=o.to),r&&e.doc.nodesBetween(s,i,(a,l)=>{if(a.isText)return;const d={...a.attrs};delete d.dir,e.setNodeMarkup(l,void 0,d)}),!0},_E=(t,e={})=>({tr:n,state:r,dispatch:o})=>{let s=null,i=null;const a=ua(typeof t=="string"?t:t.name,r.schema);if(!a)return!1;a==="node"&&(s=dt(t,r.schema)),a==="mark"&&(i=Hn(t,r.schema));let l=!1;return n.selection.ranges.forEach(d=>{const c=d.$from.pos,u=d.$to.pos;let f,p,h,b;n.selection.empty?r.doc.nodesBetween(c,u,(g,y)=>{s&&s===g.type&&(l=!0,h=Math.max(y,c),b=Math.min(y+g.nodeSize,u),f=y,p=g)}):r.doc.nodesBetween(c,u,(g,y)=>{y<c&&s&&s===g.type&&(l=!0,h=Math.max(y,c),b=Math.min(y+g.nodeSize,u),f=y,p=g),y>=c&&y<=u&&(s&&s===g.type&&(l=!0,o&&n.setNodeMarkup(y,void 0,{...g.attrs,...e})),i&&g.marks.length&&g.marks.forEach(x=>{if(i===x.type&&(l=!0,o)){const k=Math.max(y,c),E=Math.min(y+g.nodeSize,u);n.addMark(k,E,i.create({...x.attrs,...e}))}}))}),p&&(f!==void 0&&o&&n.setNodeMarkup(f,void 0,{...p.attrs,...e}),i&&p.marks.length&&p.marks.forEach(g=>{i===g.type&&o&&n.addMark(h,b,i.create({...g.attrs,...e}))}))}),l},FE=(t,e={})=>({state:n,dispatch:r})=>{const o=dt(t,n.schema);return h6(o,e)(n,r)},zE=(t,e={})=>({state:n,dispatch:r})=>{const o=dt(t,n.schema);return m6(o,e)(n,r)},BE=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},ba=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},HE=(t,e)=>{if(Gc(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function ya(t){var e;const{editor:n,from:r,to:o,text:s,rules:i,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const d=l.state.doc.resolve(r);if(d.parent.type.spec.code||(e=d.nodeBefore||d.nodeAfter)!=null&&e.marks.find(f=>f.type.spec.code))return!1;let c=!1;const u=hE(d)+s;return i.forEach(f=>{if(c)return;const p=HE(u,f.find);if(!p)return;const h=l.state.tr,b=ia({state:l.state,transaction:h}),g={from:r-(p[0].length-s.length),to:o},{commands:y,chain:x,can:k}=new aa({editor:n,state:b});f.handler({state:b,range:g,match:p,commands:y,chain:x,can:k})===null||!h.steps.length||(f.undoable&&h.setMeta(a,{transform:h,from:r,to:o,text:s}),l.dispatch(h),c=!0)}),c}function VE(t){const{editor:e,rules:n}=t,r=new Ke({state:{init(){return null},apply(o,s,i){const a=o.getMeta(r);if(a)return a;const l=o.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:c}=l;typeof c=="string"?c=c:c=Jc(K.from(c),i.schema);const{from:u}=l,f=u+c.length;ya({editor:e,from:u,to:f,text:c,rules:n,plugin:r})}),o.selectionSet||o.docChanged?null:s}},props:{handleTextInput(o,s,i,a){return ya({editor:e,from:s,to:i,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:o=>(setTimeout(()=>{const{$cursor:s}=o.state.selection;s&&ya({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(o,s){if(s.key!=="Enter")return!1;const{$cursor:i}=o.state.selection;return i?ya({editor:e,from:i.pos,to:i.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function WE(t){return Object.prototype.toString.call(t).slice(8,-1)}function va(t){return WE(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Mb(t,e){const n={...t};return va(t)&&va(e)&&Object.keys(e).forEach(r=>{va(e[r])&&va(t[r])?n[r]=Mb(t[r],e[r]):n[r]=e[r]}),n}var tu=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Oe(ue(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Oe(ue(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>Mb(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},dn=class rv extends tu{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new rv(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,o=e.state.selection.$from;if(o.pos===o.end()){const i=o.marks();if(!!!i.find(d=>(d==null?void 0:d.type.name)===n.name))return!1;const l=i.find(d=>(d==null?void 0:d.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",o.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function UE(t){return typeof t=="number"}var GE=class{constructor(t){this.find=t.find,this.handler=t.handler}},KE=(t,e,n)=>{if(Gc(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(o=>{const s=[o.text];return s.index=o.index,s.input=t,s.data=o.data,o.replaceWith&&(o.text.includes(o.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(o.replaceWith)),s}):[]};function qE(t){const{editor:e,state:n,from:r,to:o,rule:s,pasteEvent:i,dropEvent:a}=t,{commands:l,chain:d,can:c}=new aa({editor:e,state:n}),u=[];return n.doc.nodesBetween(r,o,(p,h)=>{var b,g,y,x,k;if((g=(b=p.type)==null?void 0:b.spec)!=null&&g.code||!(p.isText||p.isTextblock||p.isInline))return;const E=(k=(x=(y=p.content)==null?void 0:y.size)!=null?x:p.nodeSize)!=null?k:0,S=Math.max(r,h),C=Math.min(o,h+E);if(S>=C)return;const M=p.isText?p.text||"":p.textBetween(S-h,C-h,void 0,"");KE(M,s.find,i).forEach(D=>{if(D.index===void 0)return;const z=S+D.index+1,$=z+D[0].length,O={from:n.tr.mapping.map(z),to:n.tr.mapping.map($)},T=s.handler({state:n,range:O,match:D,commands:l,chain:d,can:c,pasteEvent:i,dropEvent:a});u.push(T)})}),u.every(p=>p!==null)}var xa=null,YE=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function JE(t){const{editor:e,rules:n}=t;let r=null,o=!1,s=!1,i=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:c,from:u,to:f,rule:p,pasteEvt:h})=>{const b=c.tr,g=ia({state:c,transaction:b});if(!(!qE({editor:e,state:g,from:Math.max(u-1,0),to:f.b-1,rule:p,pasteEvent:h,dropEvent:a})||!b.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return i=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,b}};return n.map(c=>new Ke({view(u){const f=h=>{var b;r=(b=u.dom.parentElement)!=null&&b.contains(h.target)?u.dom.parentElement:null,r&&(xa=e)},p=()=>{xa&&(xa=null)};return window.addEventListener("dragstart",f),window.addEventListener("dragend",p),{destroy(){window.removeEventListener("dragstart",f),window.removeEventListener("dragend",p)}}},props:{handleDOMEvents:{drop:(u,f)=>{if(s=r===u.dom.parentElement,a=f,!s){const p=xa;p!=null&&p.isEditable&&setTimeout(()=>{const h=p.state.selection;h&&p.commands.deleteRange({from:h.from,to:h.to})},10)}return!1},paste:(u,f)=>{var p;const h=(p=f.clipboardData)==null?void 0:p.getData("text/html");return i=f,o=!!(h!=null&&h.includes("data-pm-slice")),!1}}},appendTransaction:(u,f,p)=>{const h=u[0],b=h.getMeta("uiEvent")==="paste"&&!o,g=h.getMeta("uiEvent")==="drop"&&!s,y=h.getMeta("applyPasteRules"),x=!!y;if(!b&&!g&&!x)return;if(x){let{text:S}=y;typeof S=="string"?S=S:S=Jc(K.from(S),p.schema);const{from:C}=y,M=C+S.length,I=YE(S);return l({rule:c,state:p,from:C,to:{b:M},pasteEvt:I})}const k=f.doc.content.findDiffStart(p.doc.content),E=f.doc.content.findDiffEnd(p.doc.content);if(!(!UE(k)||!E||k===E.b))return l({rule:c,state:p,from:k,to:E,pasteEvt:i})}}))}var $a=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=vb(t),this.schema=aE(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:ha(e.name,this.schema)},r=ue(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return pa([...this.extensions].reverse()).flatMap(r=>{const o={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:ha(r.name,this.schema)},s=[],i=ue(r,"addKeyboardShortcuts",o);let a={};if(r.type==="mark"&&ue(r,"exitable",o)&&(a.ArrowRight=()=>dn.handleExit({editor:t,mark:r})),i){const f=Object.fromEntries(Object.entries(i()).map(([p,h])=>[p,()=>h({editor:t})]));a={...a,...f}}const l=uS(a);s.push(l);const d=ue(r,"addInputRules",o);if(Sb(r,t.options.enableInputRules)&&d){const f=d();if(f&&f.length){const p=VE({editor:t,rules:f}),h=Array.isArray(p)?p:[p];s.push(...h)}}const c=ue(r,"addPasteRules",o);if(Sb(r,t.options.enablePasteRules)&&c){const f=c();if(f&&f.length){const p=JE({editor:t,rules:f});s.push(...p)}}const u=ue(r,"addProseMirrorPlugins",o);if(u){const f=u();s.push(...f)}return s})}get attributes(){return mb(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=Do(this.extensions);return Object.fromEntries(e.filter(n=>!!ue(n,"addNodeView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),o={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:dt(n.name,this.schema)},s=ue(n,"addNodeView",o);if(!s)return[];const i=s();if(!i)return[];const a=(l,d,c,u,f)=>{const p=As(l,r);return i({node:l,view:d,getPos:c,decorations:u,innerDecorations:f,editor:t,extension:n,HTMLAttributes:p})};return[n.name,a]}))}dispatchTransaction(t){const{editor:e}=this;return pa([...this.extensions].reverse()).reduceRight((r,o)=>{const s={name:o.name,options:o.options,storage:this.editor.extensionStorage[o.name],editor:e,type:ha(o.name,this.schema)},i=ue(o,"dispatchTransaction",s);return i?a=>{i.call(s,{transaction:a,next:r})}:r},t)}get markViews(){const{editor:t}=this,{markExtensions:e}=Do(this.extensions);return Object.fromEntries(e.filter(n=>!!ue(n,"addMarkView")).map(n=>{const r=this.attributes.filter(a=>a.type===n.name),o={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Hn(n.name,this.schema)},s=ue(n,"addMarkView",o);if(!s)return[];const i=(a,l,d)=>{const c=As(a,r);return s()({mark:a,view:l,inline:d,editor:t,extension:n,HTMLAttributes:c,updateAttributes:u=>{uC(a,t,u)}})};return[n.name,i]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:ha(e.name,this.schema)};e.type==="mark"&&((n=Oe(ue(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const o=ue(e,"onBeforeCreate",r),s=ue(e,"onCreate",r),i=ue(e,"onUpdate",r),a=ue(e,"onSelectionUpdate",r),l=ue(e,"onTransaction",r),d=ue(e,"onFocus",r),c=ue(e,"onBlur",r),u=ue(e,"onDestroy",r);o&&this.editor.on("beforeCreate",o),s&&this.editor.on("create",s),i&&this.editor.on("update",i),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),d&&this.editor.on("focus",d),c&&this.editor.on("blur",c),u&&this.editor.on("destroy",u)})}};$a.resolve=vb,$a.sort=pa,$a.flatten=Yc;var XE={};Uc(XE,{ClipboardTextSerializer:()=>Ab,Commands:()=>Pb,Delete:()=>Ob,Drop:()=>Ib,Editable:()=>Lb,FocusEvents:()=>jb,Keymap:()=>Rb,Paste:()=>_b,Tabindex:()=>Fb,TextDirection:()=>zb,focusEventsPluginKey:()=>Db});var je=class ov extends tu{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new ov(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},Ab=je.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Ke({key:new Ze("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:o}=e,{ranges:s}=o,i=Math.min(...s.map(c=>c.$from.pos)),a=Math.max(...s.map(c=>c.$to.pos)),l=$b(n);return xb(r,{from:i,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),Pb=je.create({name:"commands",addCommands(){return{...nb}}}),Ob=je.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,o;const s=()=>{var i,a,l,d;if((d=(l=(a=(i=this.editor.options.coreExtensionOptions)==null?void 0:i.delete)==null?void 0:a.filterTransaction)==null?void 0:l.call(a,t))!=null?d:t.getMeta("y-sync$"))return;const c=fb(t.before,[t,...e]);kb(c).forEach(p=>{c.mapping.mapResult(p.oldRange.from).deletedAfter&&c.mapping.mapResult(p.oldRange.to).deletedBefore&&c.before.nodesBetween(p.oldRange.from,p.oldRange.to,(h,b)=>{const g=b+h.nodeSize-2,y=p.oldRange.from<=b&&g<=p.oldRange.to;this.editor.emit("delete",{type:"node",node:h,from:b,to:g,newFrom:c.mapping.map(b),newTo:c.mapping.map(g),deletedRange:p.oldRange,newRange:p.newRange,partial:!y,editor:this.editor,transaction:t,combinedTransform:c})})});const f=c.mapping;c.steps.forEach((p,h)=>{var b,g;if(p instanceof ln){const y=f.slice(h).map(p.from,-1),x=f.slice(h).map(p.to),k=f.invert().map(y,-1),E=f.invert().map(x),S=(b=c.doc.nodeAt(y-1))==null?void 0:b.marks.some(M=>M.eq(p.mark)),C=(g=c.doc.nodeAt(x))==null?void 0:g.marks.some(M=>M.eq(p.mark));this.editor.emit("delete",{type:"mark",mark:p.mark,from:p.from,to:p.to,deletedRange:{from:k,to:E},newRange:{from:y,to:x},partial:!!(C||S),editor:this.editor,transaction:t,combinedTransform:c})}})};(o=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||o?setTimeout(s,0):s()}}),Ib=je.create({name:"drop",addProseMirrorPlugins(){return[new Ke({key:new Ze("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),Lb=je.create({name:"editable",addProseMirrorPlugins(){return[new Ke({key:new Ze("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Db=new Ze("focusEvents"),jb=je.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Ke({key:Db,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),Rb=je.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:i})=>[()=>i.undoInputRule(),()=>i.command(({tr:a})=>{const{selection:l,doc:d}=a,{empty:c,$anchor:u}=l,{pos:f,parent:p}=u,h=u.parent.isTextblock&&f>0?a.doc.resolve(f-1):u,b=h.parent.type.spec.isolating,g=u.pos-u.parentOffset,y=b&&h.parent.childCount===1?g===u.pos:be.atStart(d).from===f;return!c||!p.type.isTextblock||p.textContent.length||!y||y&&u.parent.type.name==="paragraph"?!1:i.clearNodes()}),()=>i.deleteSelection(),()=>i.joinBackward(),()=>i.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:i})=>[()=>i.deleteSelection(),()=>i.deleteCurrentNode(),()=>i.joinForward(),()=>i.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:i})=>[()=>i.newlineInCode(),()=>i.createParagraphNear(),()=>i.liftEmptyBlock(),()=>i.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return da()||db()?s:o},addProseMirrorPlugins(){return[new Ke({key:new Ze("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(b=>b.getMeta("composition")))return;const r=t.some(b=>b.docChanged)&&!e.doc.eq(n.doc),o=t.some(b=>b.getMeta("preventClearDocument"));if(!r||o)return;const{empty:s,from:i,to:a}=e.selection,l=be.atStart(e.doc).from,d=be.atEnd(e.doc).to;if(s||!(i===l&&a===d)||!ga(n.doc))return;const f=n.tr,p=ia({state:n,transaction:f}),{commands:h}=new aa({editor:this.editor,state:p});if(h.clearNodes(),!!f.steps.length)return f}})]}}),_b=je.create({name:"paste",addProseMirrorPlugins(){return[new Ke({key:new Ze("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),Fb=je.create({name:"tabindex",addProseMirrorPlugins(){return[new Ke({key:new Ze("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),zb=je.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=Do(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const n=e.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new Ke({key:new Ze("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),ZE=class Ho{constructor(e,n,r=!1,o=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=o}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Ho(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Ho(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Ho(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const o=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,i=this.pos+r+(s?0:1);if(i<0||i>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(i);if(!o&&a.depth<=this.depth)return;const l=new Ho(a,this.editor,o,o?n:null);o&&(l.actualDepth=this.depth+1),e.push(new Ho(a,this.editor,o,o?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,o=this.parent;for(;o&&!r;){if(o.node.type.name===e)if(Object.keys(n).length>0){const s=o.node.attrs,i=Object.keys(n);for(let a=0;a<i.length;a+=1){const l=i[a];if(s[l]!==n[l])break}}else r=o;o=o.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let o=[];if(!this.children||this.children.length===0)return o;const s=Object.keys(n);return this.children.forEach(i=>{r&&o.length>0||(i.node.type.name===e&&s.every(l=>n[l]===i.node.attrs[l])&&o.push(i),!(r&&o.length>0)&&(o=o.concat(i.querySelectorAll(e,n,r))))}),o}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},QE=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function eC(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const o=document.createElement("style");return e&&o.setAttribute("nonce",e),o.setAttribute("data-tiptap-style",""),o.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(o),o}var tC=class extends BE{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:yE,createMappablePosition:vE},this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:o,moved:s})=>this.options.onDrop(r,o,s)),this.on("paste",({event:r,slice:o})=>this.options.onPaste(r,o)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=ib(e,this.options.autofocus);this.editorState=To.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t!=null&&t.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=eC(QE,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=hb(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(o=>{const s=typeof o=="string"?`${o}$`:o.key;n=n.filter(i=>!i.key.startsWith(s))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[Lb,Ab.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),Pb,jb,Rb,Fb,Ib,_b,Ob,zb.configure({direction:this.options.textDirection})].filter(o=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[o.name]!==!1:!0):[],...this.options.extensions].filter(o=>["extension","node","mark"].includes(o==null?void 0:o.type));this.extensionManager=new $a(r,this)}createCommandManager(){this.commandManager=new aa({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=qc(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=qc(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){const{editorProps:e,enableExtensionDispatchTransaction:n}=this.options,r=e.dispatchTransaction||this.dispatchTransaction.bind(this),o=n?this.extensionManager.dispatchTransaction(r):r;this.editorView=new J1(t,{...e,attributes:{role:"textbox",...e==null?void 0:e.attributes},dispatchTransaction:o,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const s=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(s),this.prependClass(),this.injectCSS();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(d=>{var c;return(c=this.capturedTransaction)==null?void 0:c.step(d)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),o=n.includes(t),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!o)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const i=n.findLast(d=>d.getMeta("focus")||d.getMeta("blur")),a=i==null?void 0:i.getMeta("focus"),l=i==null?void 0:i.getMeta("blur");a&&this.emit("focus",{editor:this,event:a.event,transaction:i}),l&&this.emit("blur",{editor:this,event:l.event,transaction:i}),!(t.getMeta("preventUpdate")||!n.some(d=>d.docChanged)||s.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return wb(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return mE(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Jc(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return dE(this.state.doc,{blockSeparator:e,textSerializers:{...$b(this.schema),...n}})}get isEmpty(){return ga(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new ZE(e,this)}get $doc(){return this.$pos(0)}};function Vr(t){return new ba({find:t.find,handler:({state:e,range:n,match:r})=>{const o=Oe(t.getAttributes,void 0,r);if(o===!1||o===null)return null;const{tr:s}=e,i=r[r.length-1],a=r[0];if(i){const l=a.search(/\S/),d=n.from+a.indexOf(i),c=d+i.length;if(Xc(n.from,n.to,e.doc).filter(p=>p.mark.type.excluded.find(b=>b===t.type&&b!==p.mark.type)).filter(p=>p.to>d).length)return null;c<n.to&&s.delete(c,n.to),d>n.from&&s.delete(n.from+l,d);const f=n.from+l+i.length;s.addMark(n.from+l,f,t.type.create(o||{})),s.removeStoredMark(t.type)}},undoable:t.undoable})}function Bb(t){return new ba({find:t.find,handler:({state:e,range:n,match:r})=>{const o=Oe(t.getAttributes,void 0,r)||{},{tr:s}=e,i=n.from;let a=n.to;const l=t.type.create(o);if(r[1]){const d=r[0].lastIndexOf(r[1]);let c=i+d;c>a?c=a:a=c+r[1].length;const u=r[0][r[0].length-1];s.insertText(u,i+r[0].length-1),s.replaceWith(c,a,l)}else if(r[0]){const d=t.type.isInline?i:i-1;s.insert(d,t.type.create(o)).delete(s.mapping.map(i),s.mapping.map(a))}s.scrollIntoView()},undoable:t.undoable})}function nu(t){return new ba({find:t.find,handler:({state:e,range:n,match:r})=>{const o=e.doc.resolve(n.from),s=Oe(t.getAttributes,void 0,r)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)},undoable:t.undoable})}function jo(t){return new ba({find:t.find,handler:({state:e,range:n,match:r,chain:o})=>{const s=Oe(t.getAttributes,void 0,r)||{},i=e.tr.delete(n.from,n.to),l=i.doc.resolve(n.from).blockRange(),d=l&&sc(l,t.type,s);if(!d)return null;if(i.wrap(l,d),t.keepMarks&&t.editor){const{selection:u,storedMarks:f}=e,{splittableMarks:p}=t.editor.extensionManager,h=f||u.$to.parentOffset&&u.$from.marks();if(h){const b=h.filter(g=>p.includes(g.type.name));i.ensureMarks(b)}}if(t.keepAttributes){const u=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";o().updateAttributes(u,s).run()}const c=i.doc.resolve(n.from-1).nodeBefore;c&&c.type===t.type&&sr(i.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,c))&&i.join(n.from-1)},undoable:t.undoable})}var nC=t=>"touches"in t,rC=class{constructor(t){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.lastEditableState=void 0,this.handleMap=new Map,this.handleMouseMove=a=>{if(!this.isResizing||!this.activeHandle)return;const l=a.clientX-this.startX,d=a.clientY-this.startY;this.handleResize(l,d)},this.handleTouchMove=a=>{if(!this.isResizing||!this.activeHandle)return;const l=a.touches[0];if(!l)return;const d=l.clientX-this.startX,c=l.clientY-this.startY;this.handleResize(d,c)},this.handleMouseUp=()=>{if(!this.isResizing)return;const a=this.element.offsetWidth,l=this.element.offsetHeight;this.onCommit(a,l),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=a=>{a.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=a=>{a.key==="Shift"&&(this.isShiftKeyPressed=!1)};var e,n,r,o,s,i;this.node=t.node,this.editor=t.editor,this.element=t.element,this.contentElement=t.contentElement,this.getPos=t.getPos,this.onResize=t.onResize,this.onCommit=t.onCommit,this.onUpdate=t.onUpdate,(e=t.options)!=null&&e.min&&(this.minSize={...this.minSize,...t.options.min}),(n=t.options)!=null&&n.max&&(this.maxSize=t.options.max),(r=t==null?void 0:t.options)!=null&&r.directions&&(this.directions=t.options.directions),(o=t.options)!=null&&o.preserveAspectRatio&&(this.preserveAspectRatio=t.options.preserveAspectRatio),(s=t.options)!=null&&s.className&&(this.classNames={container:t.options.className.container||"",wrapper:t.options.className.wrapper||"",handle:t.options.className.handle||"",resizing:t.options.className.resizing||""}),(i=t.options)!=null&&i.createCustomHandle&&(this.createCustomHandle=t.options.createCustomHandle),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles(),this.editor.on("update",this.handleEditorUpdate.bind(this))}get dom(){return this.container}get contentDOM(){return this.contentElement}handleEditorUpdate(){const t=this.editor.isEditable;t!==this.lastEditableState&&(this.lastEditableState=t,t?t&&this.handleMap.size===0&&this.attachHandles():this.removeHandles())}update(t,e,n){return t.type!==this.node.type?!1:(this.node=t,this.onUpdate?this.onUpdate(t,e,n):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.editor.off("update",this.handleEditorUpdate.bind(this)),this.container.remove()}createContainer(){const t=document.createElement("div");return t.dataset.resizeContainer="",t.dataset.node=this.node.type.name,t.style.display="flex",this.classNames.container&&(t.className=this.classNames.container),t.appendChild(this.wrapper),t}createWrapper(){const t=document.createElement("div");return t.style.position="relative",t.style.display="block",t.dataset.resizeWrapper="",this.classNames.wrapper&&(t.className=this.classNames.wrapper),t.appendChild(this.element),t}createHandle(t){const e=document.createElement("div");return e.dataset.resizeHandle=t,e.style.position="absolute",this.classNames.handle&&(e.className=this.classNames.handle),e}positionHandle(t,e){const n=e.includes("top"),r=e.includes("bottom"),o=e.includes("left"),s=e.includes("right");n&&(t.style.top="0"),r&&(t.style.bottom="0"),o&&(t.style.left="0"),s&&(t.style.right="0"),(e==="top"||e==="bottom")&&(t.style.left="0",t.style.right="0"),(e==="left"||e==="right")&&(t.style.top="0",t.style.bottom="0")}attachHandles(){this.directions.forEach(t=>{let e;this.createCustomHandle?e=this.createCustomHandle(t):e=this.createHandle(t),e instanceof HTMLElement||(console.warn(`[ResizableNodeView] createCustomHandle("${t}") did not return an HTMLElement. Falling back to default handle.`),e=this.createHandle(t)),this.createCustomHandle||this.positionHandle(e,t),e.addEventListener("mousedown",n=>this.handleResizeStart(n,t)),e.addEventListener("touchstart",n=>this.handleResizeStart(n,t)),this.handleMap.set(t,e),this.wrapper.appendChild(e)})}removeHandles(){this.handleMap.forEach(t=>t.remove()),this.handleMap.clear()}applyInitialSize(){const t=this.node.attrs.width,e=this.node.attrs.height;t?(this.element.style.width=`${t}px`,this.initialWidth=t):this.initialWidth=this.element.offsetWidth,e?(this.element.style.height=`${e}px`,this.initialHeight=e):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(t,e){t.preventDefault(),t.stopPropagation(),this.isResizing=!0,this.activeHandle=e,nC(t)?(this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY):(this.startX=t.clientX,this.startY=t.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(t,e){if(!this.activeHandle)return;const n=this.preserveAspectRatio||this.isShiftKeyPressed,{width:r,height:o}=this.calculateNewDimensions(this.activeHandle,t,e),s=this.applyConstraints(r,o,n);this.element.style.width=`${s.width}px`,this.element.style.height=`${s.height}px`,this.onResize&&this.onResize(s.width,s.height)}calculateNewDimensions(t,e,n){let r=this.startWidth,o=this.startHeight;const s=t.includes("right"),i=t.includes("left"),a=t.includes("bottom"),l=t.includes("top");return s?r=this.startWidth+e:i&&(r=this.startWidth-e),a?o=this.startHeight+n:l&&(o=this.startHeight-n),(t==="right"||t==="left")&&(r=this.startWidth+(s?e:-e)),(t==="top"||t==="bottom")&&(o=this.startHeight+(a?n:-n)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(r,o,t):{width:r,height:o}}applyConstraints(t,e,n){var r,o,s,i;if(!n){let d=Math.max(this.minSize.width,t),c=Math.max(this.minSize.height,e);return(r=this.maxSize)!=null&&r.width&&(d=Math.min(this.maxSize.width,d)),(o=this.maxSize)!=null&&o.height&&(c=Math.min(this.maxSize.height,c)),{width:d,height:c}}let a=t,l=e;return a<this.minSize.width&&(a=this.minSize.width,l=a/this.aspectRatio),l<this.minSize.height&&(l=this.minSize.height,a=l*this.aspectRatio),(s=this.maxSize)!=null&&s.width&&a>this.maxSize.width&&(a=this.maxSize.width,l=a/this.aspectRatio),(i=this.maxSize)!=null&&i.height&&l>this.maxSize.height&&(l=this.maxSize.height,a=l*this.aspectRatio),{width:a,height:l}}applyAspectRatio(t,e,n){const r=n==="left"||n==="right",o=n==="top"||n==="bottom";return r?{width:t,height:t/this.aspectRatio}:o?{width:e*this.aspectRatio,height:e}:{width:t,height:t/this.aspectRatio}}};function oC(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof pe){const s=r.index();return r.parent.canReplaceWith(s,s+1,e)}let o=r.depth;for(;o>=0;){const s=r.index(o);if(r.node(o).contentMatchAt(s).matchType(e))return!0;o-=1}return!1}var sC={};Uc(sC,{createAtomBlockMarkdownSpec:()=>iC,createBlockMarkdownSpec:()=>aC,createInlineMarkdownSpec:()=>cC,parseAttributes:()=>ru,parseIndentedBlocks:()=>su,renderNestedMarkdownContent:()=>iu,serializeAttributes:()=>ou});function ru(t){if(!(t!=null&&t.trim()))return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,d=>(n.push(d),`__QUOTED_${n.length-1}__`)),o=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(o){const d=o.map(c=>c.trim().slice(1));e.class=d.join(" ")}const s=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(e.id=s[1]);const i=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(i)).forEach(([,d,c])=>{var u;const f=parseInt(((u=c.match(/__QUOTED_(\d+)__/))==null?void 0:u[1])||"0",10),p=n[f];p&&(e[d]=p.slice(1,-1))});const l=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(c=>{c.match(/^[a-zA-Z][\w-]*$/)&&(e[c]=!0)}),e}function ou(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function iC(t){const{nodeName:e,name:n,parseAttributes:r=ru,serializeAttributes:o=ou,defaultAttributes:s={},requiredAttributes:i=[],allowedAttributes:a}=t,l=n||e,d=c=>{if(!a)return c;const u={};return a.forEach(f=>{f in c&&(u[f]=c[f])}),u};return{parseMarkdown:(c,u)=>{const f={...s,...c.attributes};return u.createNode(e,f,[])},markdownTokenizer:{name:e,level:"block",start(c){var u;const f=new RegExp(`^:::${l}(?:\\s|$)`,"m"),p=(u=c.match(f))==null?void 0:u.index;return p!==void 0?p:-1},tokenize(c,u,f){const p=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),h=c.match(p);if(!h)return;const b=h[1]||"",g=r(b);if(!i.find(x=>!(x in g)))return{type:e,raw:h[0],attributes:g}}},renderMarkdown:c=>{const u=d(c.attrs||{}),f=o(u),p=f?` {${f}}`:"";return`:::${l}${p} :::`}}}function aC(t){const{nodeName:e,name:n,getContent:r,parseAttributes:o=ru,serializeAttributes:s=ou,defaultAttributes:i={},content:a="block",allowedAttributes:l}=t,d=n||e,c=u=>{if(!l)return u;const f={};return l.forEach(p=>{p in u&&(f[p]=u[p])}),f};return{parseMarkdown:(u,f)=>{let p;if(r){const b=r(u);p=typeof b=="string"?[{type:"text",text:b}]:b}else a==="block"?p=f.parseChildren(u.tokens||[]):p=f.parseInline(u.tokens||[]);const h={...i,...u.attributes};return f.createNode(e,h,p)},markdownTokenizer:{name:e,level:"block",start(u){var f;const p=new RegExp(`^:::${d}`,"m"),h=(f=u.match(p))==null?void 0:f.index;return h!==void 0?h:-1},tokenize(u,f,p){var h;const b=new RegExp(`^:::${d}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),g=u.match(b);if(!g)return;const[y,x=""]=g,k=o(x);let E=1;const S=y.length;let C="";const M=/^:::([\w-]*)(\s.*)?/gm,I=u.slice(S);for(M.lastIndex=0;;){const D=M.exec(I);if(D===null)break;const z=D.index,$=D[1];if(!((h=D[2])!=null&&h.endsWith(":::"))){if($)E+=1;else if(E-=1,E===0){const O=I.slice(0,z);C=O.trim();const T=u.slice(0,S+z+D[0].length);let A=[];if(C)if(a==="block")for(A=p.blockTokens(O),A.forEach(_=>{_.text&&(!_.tokens||_.tokens.length===0)&&(_.tokens=p.inlineTokens(_.text))});A.length>0;){const _=A[A.length-1];if(_.type==="paragraph"&&(!_.text||_.text.trim()===""))A.pop();else break}else A=p.inlineTokens(C);return{type:e,raw:T,attributes:k,content:C,tokens:A}}}}}},renderMarkdown:(u,f)=>{const p=c(u.attrs||{}),h=s(p),b=h?` {${h}}`:"",g=f.renderChildren(u.content||[],`

`);return`:::${d}${b}

${g}

:::`}}}function lC(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,o,s,i]=r;e[o]=s||i,r=n.exec(t)}return e}function dC(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function cC(t){const{nodeName:e,name:n,getContent:r,parseAttributes:o=lC,serializeAttributes:s=dC,defaultAttributes:i={},selfClosing:a=!1,allowedAttributes:l}=t,d=n||e,c=f=>{if(!l)return f;const p={};return l.forEach(h=>{const b=typeof h=="string"?h:h.name,g=typeof h=="string"?void 0:h.skipIfDefault;if(b in f){const y=f[b];if(g!==void 0&&y===g)return;p[b]=y}}),p},u=d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(f,p)=>{const h={...i,...f.attributes};if(a)return p.createNode(e,h);const b=r?r(f):f.content||"";return b?p.createNode(e,h,[p.createTextNode(b)]):p.createNode(e,h,[])},markdownTokenizer:{name:e,level:"inline",start(f){const p=a?new RegExp(`\\[${u}\\s*[^\\]]*\\]`):new RegExp(`\\[${u}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${u}\\]`),h=f.match(p),b=h==null?void 0:h.index;return b!==void 0?b:-1},tokenize(f,p,h){const b=a?new RegExp(`^\\[${u}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${u}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${u}\\]`),g=f.match(b);if(!g)return;let y="",x="";if(a){const[,E]=g;x=E}else{const[,E,S]=g;x=E,y=S||""}const k=o(x.trim());return{type:e,raw:g[0],content:y.trim(),attributes:k}}},renderMarkdown:f=>{let p="";r?p=r(f):f.content&&f.content.length>0&&(p=f.content.filter(y=>y.type==="text").map(y=>y.text).join(""));const h=c(f.attrs||{}),b=s(h),g=b?` ${b}`:"";return a?`[${d}${g}]`:`[${d}${g}]${p}[/${d}]`}}}function su(t,e,n){var r,o,s,i;const a=t.split(`
`),l=[];let d="",c=0;const u=e.baseIndentSize||2;for(;c<a.length;){const f=a[c],p=f.match(e.itemPattern);if(!p){if(l.length>0)break;if(f.trim()===""){c+=1,d=`${d}${f}
`;continue}else return}const h=e.extractItemData(p),{indentLevel:b,mainContent:g}=h;d=`${d}${f}
`;const y=[g];for(c+=1;c<a.length;){const S=a[c];if(S.trim()===""){const M=a.slice(c+1).findIndex(z=>z.trim()!=="");if(M===-1)break;if((((o=(r=a[c+1+M].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:o.length)||0)>b){y.push(S),d=`${d}${S}
`,c+=1;continue}else break}if((((i=(s=S.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:i.length)||0)>b)y.push(S),d=`${d}${S}
`,c+=1;else break}let x;const k=y.slice(1);if(k.length>0){const S=k.map(C=>C.slice(b+u)).join(`
`);S.trim()&&(e.customNestedParser?x=e.customNestedParser(S):x=n.blockTokens(S))}const E=e.createToken(h,x);l.push(E)}if(l.length!==0)return{items:l,raw:d}}function iu(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const o=typeof n=="function"?n(r):n,[s,...i]=t.content,a=e.renderChildren([s]),l=[`${o}${a}`];return i&&i.length>0&&i.forEach(d=>{const c=e.renderChildren([d]);if(c){const u=c.split(`
`).map(f=>f?e.indent(f):"").join(`
`);l.push(u)}}),l.join(`
`)}function uC(t,e,n={}){const{state:r}=e,{doc:o,tr:s}=r,i=t;o.descendants((a,l)=>{const d=s.mapping.map(l),c=s.mapping.map(l)+a.nodeSize;let u=null;if(a.marks.forEach(p=>{if(p!==i)return!1;u=p}),!u)return;let f=!1;if(Object.keys(n).forEach(p=>{n[p]!==u.attrs[p]&&(f=!0)}),f){const p=t.type.create({...t.attrs,...n});s.removeMark(d,c,t.type),s.addMark(d,c,p)}}),s.docChanged&&e.view.dispatch(s)}var ht=class sv extends tu{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new sv(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function gr(t){return new GE({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:o})=>{const s=Oe(t.getAttributes,void 0,r,o);if(s===!1||s===null)return null;const{tr:i}=e,a=r[r.length-1],l=r[0];let d=n.to;if(a){const c=l.search(/\S/),u=n.from+l.indexOf(a),f=u+a.length;if(Xc(n.from,n.to,e.doc).filter(h=>h.mark.type.excluded.find(g=>g===t.type&&g!==h.mark.type)).filter(h=>h.to>u).length)return null;f<n.to&&i.delete(f,n.to),u>n.from&&i.delete(n.from+c,u),d=n.from+c+a.length,i.addMark(n.from+c,d,t.type.create(s||{})),i.removeStoredMark(t.type)}}})}const{getOwnPropertyNames:fC,getOwnPropertySymbols:pC}=Object,{hasOwnProperty:hC}=Object.prototype;function au(t,e){return function(r,o,s){return t(r,o,s)&&e(r,o,s)}}function wa(t){return function(n,r,o){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,o);const{cache:s}=o,i=s.get(n),a=s.get(r);if(i&&a)return i===r&&a===n;s.set(n,r),s.set(r,n);const l=t(n,r,o);return s.delete(n),s.delete(r),l}}function mC(t){return t!=null?t[Symbol.toStringTag]:void 0}function Hb(t){return fC(t).concat(pC(t))}const gC=Object.hasOwn||((t,e)=>hC.call(t,e));function Wr(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const bC="__v",yC="__o",vC="_owner",{getOwnPropertyDescriptor:Vb,keys:Wb}=Object;function xC(t,e){return t.byteLength===e.byteLength&&ka(new Uint8Array(t),new Uint8Array(e))}function $C(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function wC(t,e){return t.byteLength===e.byteLength&&ka(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function kC(t,e){return Wr(t.getTime(),e.getTime())}function SC(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function EC(t,e){return t===e}function Ub(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const o=new Array(r),s=t.entries();let i,a,l=0;for(;(i=s.next())&&!i.done;){const d=e.entries();let c=!1,u=0;for(;(a=d.next())&&!a.done;){if(o[u]){u++;continue}const f=i.value,p=a.value;if(n.equals(f[0],p[0],l,u,t,e,n)&&n.equals(f[1],p[1],f[0],p[0],t,e,n)){c=o[u]=!0;break}u++}if(!c)return!1;l++}return!0}const CC=Wr;function TC(t,e,n){const r=Wb(t);let o=r.length;if(Wb(e).length!==o)return!1;for(;o-- >0;)if(!Kb(t,e,n,r[o]))return!1;return!0}function Ps(t,e,n){const r=Hb(t);let o=r.length;if(Hb(e).length!==o)return!1;let s,i,a;for(;o-- >0;)if(s=r[o],!Kb(t,e,n,s)||(i=Vb(t,s),a=Vb(e,s),(i||a)&&(!i||!a||i.configurable!==a.configurable||i.enumerable!==a.enumerable||i.writable!==a.writable)))return!1;return!0}function NC(t,e){return Wr(t.valueOf(),e.valueOf())}function MC(t,e){return t.source===e.source&&t.flags===e.flags}function Gb(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const o=new Array(r),s=t.values();let i,a;for(;(i=s.next())&&!i.done;){const l=e.values();let d=!1,c=0;for(;(a=l.next())&&!a.done;){if(!o[c]&&n.equals(i.value,a.value,i.value,a.value,t,e,n)){d=o[c]=!0;break}c++}if(!d)return!1}return!0}function ka(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function AC(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function Kb(t,e,n,r){return(r===vC||r===yC||r===bC)&&(t.$$typeof||e.$$typeof)?!0:gC(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const PC="[object ArrayBuffer]",OC="[object Arguments]",IC="[object Boolean]",LC="[object DataView]",DC="[object Date]",jC="[object Error]",RC="[object Map]",_C="[object Number]",FC="[object Object]",zC="[object RegExp]",BC="[object Set]",HC="[object String]",VC={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},WC="[object URL]",UC=Object.prototype.toString;function GC({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:o,areFunctionsEqual:s,areMapsEqual:i,areNumbersEqual:a,areObjectsEqual:l,arePrimitiveWrappersEqual:d,areRegExpsEqual:c,areSetsEqual:u,areTypedArraysEqual:f,areUrlsEqual:p,unknownTagComparators:h}){return function(g,y,x){if(g===y)return!0;if(g==null||y==null)return!1;const k=typeof g;if(k!==typeof y)return!1;if(k!=="object")return k==="number"?a(g,y,x):k==="function"?s(g,y,x):!1;const E=g.constructor;if(E!==y.constructor)return!1;if(E===Object)return l(g,y,x);if(Array.isArray(g))return e(g,y,x);if(E===Date)return r(g,y,x);if(E===RegExp)return c(g,y,x);if(E===Map)return i(g,y,x);if(E===Set)return u(g,y,x);const S=UC.call(g);if(S===DC)return r(g,y,x);if(S===zC)return c(g,y,x);if(S===RC)return i(g,y,x);if(S===BC)return u(g,y,x);if(S===FC)return typeof g.then!="function"&&typeof y.then!="function"&&l(g,y,x);if(S===WC)return p(g,y,x);if(S===jC)return o(g,y,x);if(S===OC)return l(g,y,x);if(VC[S])return f(g,y,x);if(S===PC)return t(g,y,x);if(S===LC)return n(g,y,x);if(S===IC||S===_C||S===HC)return d(g,y,x);if(h){let C=h[S];if(!C){const M=mC(g);M&&(C=h[M])}if(C)return C(g,y,x)}return!1}}function KC({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:xC,areArraysEqual:n?Ps:$C,areDataViewsEqual:wC,areDatesEqual:kC,areErrorsEqual:SC,areFunctionsEqual:EC,areMapsEqual:n?au(Ub,Ps):Ub,areNumbersEqual:CC,areObjectsEqual:n?Ps:TC,arePrimitiveWrappersEqual:NC,areRegExpsEqual:MC,areSetsEqual:n?au(Gb,Ps):Gb,areTypedArraysEqual:n?au(ka,Ps):ka,areUrlsEqual:AC,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const o=wa(r.areArraysEqual),s=wa(r.areMapsEqual),i=wa(r.areObjectsEqual),a=wa(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:i,areSetsEqual:a})}return r}function qC(t){return function(e,n,r,o,s,i,a){return t(e,n,a)}}function YC({circular:t,comparator:e,createState:n,equals:r,strict:o}){if(n)return function(a,l){const{cache:d=t?new WeakMap:void 0,meta:c}=n();return e(a,l,{cache:d,equals:r,meta:c,strict:o})};if(t)return function(a,l){return e(a,l,{cache:new WeakMap,equals:r,meta:void 0,strict:o})};const s={cache:void 0,equals:r,meta:void 0,strict:o};return function(a,l){return e(a,l,s)}}const JC=br();br({strict:!0}),br({circular:!0}),br({circular:!0,strict:!0}),br({createInternalComparator:()=>Wr}),br({strict:!0,createInternalComparator:()=>Wr}),br({circular:!0,createInternalComparator:()=>Wr}),br({circular:!0,createInternalComparator:()=>Wr,strict:!0});function br(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:o=!1}=t,s=KC(t),i=GC(s),a=n?n(i):qC(i);return YC({circular:e,comparator:i,createState:r,equals:a,strict:o})}var lu={exports:{}},du={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qb;function XC(){if(qb)return du;qb=1;var t=v,e=Ai;function n(d,c){return d===c&&(d!==0||1/d===1/c)||d!==d&&c!==c}var r=typeof Object.is=="function"?Object.is:n,o=e.useSyncExternalStore,s=t.useRef,i=t.useEffect,a=t.useMemo,l=t.useDebugValue;return du.useSyncExternalStoreWithSelector=function(d,c,u,f,p){var h=s(null);if(h.current===null){var b={hasValue:!1,value:null};h.current=b}else b=h.current;h=a(function(){function y(C){if(!x){if(x=!0,k=C,C=f(C),p!==void 0&&b.hasValue){var M=b.value;if(p(M,C))return E=M}return E=C}if(M=E,r(k,C))return M;var I=f(C);return p!==void 0&&p(M,I)?(k=C,M):(k=C,E=I)}var x=!1,k,E,S=u===void 0?null:u;return[function(){return y(c())},S===null?void 0:function(){return y(S())}]},[c,u,f,p]);var g=o(d,h[0],h[1]);return i(function(){b.hasValue=!0,b.value=g},[g]),l(g),g},du}var cu={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yb;function ZC(){return Yb||(Yb=1,process.env.NODE_ENV!=="production"&&function(){function t(d,c){return d===c&&(d!==0||1/d===1/c)||d!==d&&c!==c}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var e=v,n=Ai,r=typeof Object.is=="function"?Object.is:t,o=n.useSyncExternalStore,s=e.useRef,i=e.useEffect,a=e.useMemo,l=e.useDebugValue;cu.useSyncExternalStoreWithSelector=function(d,c,u,f,p){var h=s(null);if(h.current===null){var b={hasValue:!1,value:null};h.current=b}else b=h.current;h=a(function(){function y(C){if(!x){if(x=!0,k=C,C=f(C),p!==void 0&&b.hasValue){var M=b.value;if(p(M,C))return E=M}return E=C}if(M=E,r(k,C))return M;var I=f(C);return p!==void 0&&p(M,I)?(k=C,M):(k=C,E=I)}var x=!1,k,E,S=u===void 0?null:u;return[function(){return y(c())},S===null?void 0:function(){return y(S())}]},[c,u,f,p]);var g=o(d,h[0],h[1]);return i(function(){b.hasValue=!0,b.value=g},[g]),l(g),g},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}()),cu}process.env.NODE_ENV==="production"?lu.exports=XC():lu.exports=ZC();var QC=lu.exports,e7=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},t7=({contentComponent:t})=>{const e=Ai.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return m.jsx(m.Fragment,{children:Object.values(e)})};function n7(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:sn.createPortal(r.reactElement,r.element,n)},t.forEach(o=>o())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(o=>o())}}}var r7=class extends v.Component{constructor(t){var e;super(t),this.editorContentRef=v.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var t;const e=this.props.editor;if(e&&!e.isDestroyed&&((t=e.view.dom)!=null&&t.parentNode)){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n}),e.contentComponent=n7(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.parentNode))return;const n=document.createElement("div");n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return m.jsxs(m.Fragment,{children:[m.jsx("div",{ref:e7(e,this.editorContentRef),...n}),(t==null?void 0:t.contentComponent)&&m.jsx(t7,{contentComponent:t.contentComponent})]})}},o7=v.forwardRef((t,e)=>{const n=v.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return v.createElement(r7,{key:n,innerRef:e,...t})}),s7=v.memo(o7),i7=typeof window<"u"?v.useLayoutEffect:v.useEffect,a7=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function l7(t){var e;const[n]=v.useState(()=>new a7(t.editor)),r=QC.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:JC);return i7(()=>n.watch(t.editor),[t.editor,n]),v.useDebugValue(r),r}var Jb=process.env.NODE_ENV!=="production",uu=typeof window>"u",d7=uu||!!(typeof window<"u"&&window.next),c7=class iv{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){if(this.options.current.immediatelyRender===void 0){if(uu||d7){if(Jb)throw new Error("Tiptap Error: SSR has been detected, please set `immediatelyRender` explicitly to `false` to avoid hydration mismatches.");return null}return this.createEditor()}if(this.options.current.immediatelyRender&&uu&&Jb)throw new Error("Tiptap Error: SSR has been detected, and `immediatelyRender` has been set to `true` this is an unsupported configuration that may result in errors, explicitly set `immediatelyRender` to `false` to avoid hydration mismatches.");return this.options.current.immediatelyRender?this.createEditor():null}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var o,s;return(s=(o=this.options.current).onBeforeCreate)==null?void 0:s.call(o,...r)},onBlur:(...r)=>{var o,s;return(s=(o=this.options.current).onBlur)==null?void 0:s.call(o,...r)},onCreate:(...r)=>{var o,s;return(s=(o=this.options.current).onCreate)==null?void 0:s.call(o,...r)},onDestroy:(...r)=>{var o,s;return(s=(o=this.options.current).onDestroy)==null?void 0:s.call(o,...r)},onFocus:(...r)=>{var o,s;return(s=(o=this.options.current).onFocus)==null?void 0:s.call(o,...r)},onSelectionUpdate:(...r)=>{var o,s;return(s=(o=this.options.current).onSelectionUpdate)==null?void 0:s.call(o,...r)},onTransaction:(...r)=>{var o,s;return(s=(o=this.options.current).onTransaction)==null?void 0:s.call(o,...r)},onUpdate:(...r)=>{var o,s;return(s=(o=this.options.current).onUpdate)==null?void 0:s.call(o,...r)},onContentError:(...r)=>{var o,s;return(s=(o=this.options.current).onContentError)==null?void 0:s.call(o,...r)},onDrop:(...r)=>{var o,s;return(s=(o=this.options.current).onDrop)==null?void 0:s.call(o,...r)},onPaste:(...r)=>{var o,s;return(s=(o=this.options.current).onPaste)==null?void 0:s.call(o,...r)},onDelete:(...r)=>{var o,s;return(s=(o=this.options.current).onDelete)==null?void 0:s.call(o,...r)}};return new tC(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((o,s)=>{var i;return o===((i=n.extensions)==null?void 0:i[s])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?iv.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,o)=>r===e[o]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function u7(t={},e=[]){const n=v.useRef(t);n.current=t;const[r]=v.useState(()=>new c7(n)),o=Ai.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return v.useDebugValue(o),v.useEffect(r.onRender(e)),l7({editor:o,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&s===0?0:s+1}),o}var f7=v.createContext({editor:null});f7.Consumer;var p7=v.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),h7=()=>v.useContext(p7);v.forwardRef((t,e)=>{const{onDragStart:n}=h7(),r=t.as||"div";return m.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})}),v.createContext({markViewContentRef:()=>{}});var Sa=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},m7=/^\s*>\s$/,g7=ht.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return Sa("blockquote",{...De(this.options.HTMLAttributes,t),children:Sa("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",r=[];return t.content.forEach(o=>{const a=e.renderChildren([o]).split(`
`).map(l=>l.trim()===""?n:`${n} ${l}`);r.push(a.join(`
`))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[jo({find:m7,type:this.type})]}}),b7=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,y7=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,v7=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,x7=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,$7=dn.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return Sa("strong",{...De(this.options.HTMLAttributes,t),children:Sa("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Vr({find:b7,type:this.type}),Vr({find:v7,type:this.type})]},addPasteRules(){return[gr({find:y7,type:this.type}),gr({find:x7,type:this.type})]}}),w7=/(^|[^`])`([^`]+)`(?!`)$/,k7=/(^|[^`])`([^`]+)`(?!`)/g,S7=dn.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",De(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Vr({find:w7,type:this.type})]},addPasteRules(){return[gr({find:k7,type:this.type})]}}),fu=4,E7=/^```([a-z]+)?[\s\n]$/,C7=/^~~~([a-z]+)?[\s\n]$/,T7=ht.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:fu,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const s=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(i=>i.startsWith(n)).map(i=>i.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",De(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let r="";const o=((n=t.attrs)==null?void 0:n.language)||"";return t.content?r=[`\`\`\`${o}`,e.renderChildren(t.content),"```"].join(`
`):r=`\`\`\`${o}

\`\`\``,r},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:fu,{state:r}=t,{selection:o}=r,{$from:s,empty:i}=o;if(s.parent.type!==this.type)return!1;const a=" ".repeat(n);return i?t.commands.insertContent(a):t.commands.command(({tr:l})=>{const{from:d,to:c}=o,p=r.doc.textBetween(d,c,`
`,`
`).split(`
`).map(h=>a+h).join(`
`);return l.replaceWith(d,c,r.schema.text(p)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:fu,{state:r}=t,{selection:o}=r,{$from:s,empty:i}=o;return s.parent.type!==this.type?!1:i?t.commands.command(({tr:a})=>{var l;const{pos:d}=s,c=s.start(),u=s.end(),p=r.doc.textBetween(c,u,`
`,`
`).split(`
`);let h=0,b=0;const g=d-c;for(let C=0;C<p.length;C+=1){if(b+p[C].length>=g){h=C;break}b+=p[C].length+1}const x=((l=p[h].match(/^ */))==null?void 0:l[0])||"",k=Math.min(x.length,n);if(k===0)return!0;let E=c;for(let C=0;C<h;C+=1)E+=p[C].length+1;return a.delete(E,E+k),d-E<=k&&a.setSelection(me.create(a.doc,E)),!0}):t.commands.command(({tr:a})=>{const{from:l,to:d}=o,f=r.doc.textBetween(l,d,`
`,`
`).split(`
`).map(p=>{var h;const b=((h=p.match(/^ */))==null?void 0:h[0])||"",g=Math.min(b.length,n);return p.slice(g)}).join(`
`);return a.replaceWith(l,d,r.schema.text(f)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:o}=n;if(!o||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,i=r.parent.textContent.endsWith(`

`);return!s||!i?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:o,empty:s}=n;if(!s||o.parent.type!==this.type||!(o.parentOffset===o.parent.nodeSize-2))return!1;const a=o.after();return a===void 0?!1:r.nodeAt(a)?t.commands.command(({tr:d})=>(d.setSelection(be.near(r.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[nu({find:E7,type:this.type,getAttributes:t=>({language:t[1]})}),nu({find:C7,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Ke({key:new Ze("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),o=r?JSON.parse(r):void 0,s=o==null?void 0:o.mode;if(!n||!s)return!1;const{tr:i,schema:a}=t.state,l=a.text(n.replace(/\r\n?/g,`
`));return i.replaceSelectionWith(this.type.create({language:s},l)),i.selection.$from.parent.type!==this.type&&i.setSelection(me.near(i.doc.resolve(Math.max(0,i.selection.from-2)))),i.setMeta("paste",!0),t.dispatch(i),!0}}})]}}),N7=ht.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),M7=ht.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",De(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:o,storedMarks:s}=n;if(o.$from.parent.type.spec.isolating)return!1;const{keepMarks:i}=this.options,{splittableMarks:a}=r.extensionManager,l=s||o.$to.parentOffset&&o.$from.marks();return e().insertContent({type:this.name}).command(({tr:d,dispatch:c})=>{if(c&&l&&i){const u=l.filter(f=>a.includes(f.type.name));d.ensureMarks(u)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),A7=ht.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,De(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const r=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,o="#".repeat(r);return t.content?`${o} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>nu({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),P7=ht.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",De(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!oC(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,o=t();return Cb(n)?o.insertContentAt(r.pos,{type:this.name}):o.insertContent({type:this.name}),o.command(({state:s,tr:i,dispatch:a})=>{if(a){const{$to:l}=i.selection,d=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?i.setSelection(me.create(i.doc,l.pos+1)):l.nodeAfter.isBlock?i.setSelection(pe.create(i.doc,l.pos)):i.setSelection(me.create(i.doc,l.pos));else{const c=s.schema.nodes[this.options.nextNodeType]||l.parent.type.contentMatch.defaultType,u=c==null?void 0:c.create();u&&(i.insert(d,u),i.setSelection(me.create(i.doc,d+1)))}i.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Bb({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),O7=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,I7=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,L7=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,D7=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,j7=dn.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",De(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Vr({find:O7,type:this.type}),Vr({find:L7,type:this.type})]},addPasteRules(){return[gr({find:I7,type:this.type}),gr({find:D7,type:this.type})]}});const R7="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",_7="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",pu="numeric",hu="ascii",mu="alpha",Os="asciinumeric",Is="alphanumeric",gu="domain",Xb="emoji",F7="scheme",z7="slashscheme",bu="whitespace";function B7(t,e){return t in e||(e[t]=[]),e[t]}function Ur(t,e,n){e[pu]&&(e[Os]=!0,e[Is]=!0),e[hu]&&(e[Os]=!0,e[mu]=!0),e[Os]&&(e[Is]=!0),e[mu]&&(e[Is]=!0),e[Is]&&(e[gu]=!0),e[Xb]&&(e[gu]=!0);for(const r in e){const o=B7(r,n);o.indexOf(t)<0&&o.push(t)}}function H7(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Ht(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Ht.groups={},Ht.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const o=e.jr[r][0],s=e.jr[r][1];if(s&&o.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let o=0;o<t.length;o++)this.tt(t[o],e,n,r)},tr(t,e,n,r){r=r||Ht.groups;let o;return e&&e.j?o=e:(o=new Ht(e),n&&r&&Ur(e,n,r)),this.jr.push([t,o]),o},ts(t,e,n,r){let o=this;const s=t.length;if(!s)return o;for(let i=0;i<s-1;i++)o=o.tt(t[i]);return o.tt(t[s-1],e,n,r)},tt(t,e,n,r){r=r||Ht.groups;const o=this;if(e&&e.j)return o.j[t]=e,e;const s=e;let i,a=o.go(t);if(a?(i=new Ht,Object.assign(i.j,a.j),i.jr.push.apply(i.jr,a.jr),i.jd=a.jd,i.t=a.t):i=new Ht,s){if(r)if(i.t&&typeof i.t=="string"){const l=Object.assign(H7(i.t,r),n);Ur(s,l,r)}else n&&Ur(s,n,r);i.t=s}return o.j[t]=i,i}};const ke=(t,e,n,r,o)=>t.ta(e,n,r,o),Qe=(t,e,n,r,o)=>t.tr(e,n,r,o),Zb=(t,e,n,r,o)=>t.ts(e,n,r,o),Q=(t,e,n,r,o)=>t.tt(e,n,r,o),Vn="WORD",yu="UWORD",Qb="ASCIINUMERICAL",ey="ALPHANUMERICAL",Ls="LOCALHOST",vu="TLD",xu="UTLD",Ea="SCHEME",Ro="SLASH_SCHEME",$u="NUM",wu="WS",ku="NL",Ds="OPENBRACE",js="CLOSEBRACE",Ca="OPENBRACKET",Ta="CLOSEBRACKET",Na="OPENPAREN",Ma="CLOSEPAREN",Aa="OPENANGLEBRACKET",Pa="CLOSEANGLEBRACKET",Oa="FULLWIDTHLEFTPAREN",Ia="FULLWIDTHRIGHTPAREN",La="LEFTCORNERBRACKET",Da="RIGHTCORNERBRACKET",ja="LEFTWHITECORNERBRACKET",Ra="RIGHTWHITECORNERBRACKET",_a="FULLWIDTHLESSTHAN",Fa="FULLWIDTHGREATERTHAN",za="AMPERSAND",Ba="APOSTROPHE",Ha="ASTERISK",yr="AT",Va="BACKSLASH",Wa="BACKTICK",Ua="CARET",vr="COLON",Su="COMMA",Ga="DOLLAR",$n="DOT",Ka="EQUALS",Eu="EXCLAMATION",nn="HYPHEN",Rs="PERCENT",qa="PIPE",Ya="PLUS",Ja="POUND",_s="QUERY",Cu="QUOTE",ty="FULLWIDTHMIDDLEDOT",Tu="SEMI",wn="SLASH",Fs="TILDE",Xa="UNDERSCORE",ny="EMOJI",Za="SYM";var ry=Object.freeze({__proto__:null,ALPHANUMERICAL:ey,AMPERSAND:za,APOSTROPHE:Ba,ASCIINUMERICAL:Qb,ASTERISK:Ha,AT:yr,BACKSLASH:Va,BACKTICK:Wa,CARET:Ua,CLOSEANGLEBRACKET:Pa,CLOSEBRACE:js,CLOSEBRACKET:Ta,CLOSEPAREN:Ma,COLON:vr,COMMA:Su,DOLLAR:Ga,DOT:$n,EMOJI:ny,EQUALS:Ka,EXCLAMATION:Eu,FULLWIDTHGREATERTHAN:Fa,FULLWIDTHLEFTPAREN:Oa,FULLWIDTHLESSTHAN:_a,FULLWIDTHMIDDLEDOT:ty,FULLWIDTHRIGHTPAREN:Ia,HYPHEN:nn,LEFTCORNERBRACKET:La,LEFTWHITECORNERBRACKET:ja,LOCALHOST:Ls,NL:ku,NUM:$u,OPENANGLEBRACKET:Aa,OPENBRACE:Ds,OPENBRACKET:Ca,OPENPAREN:Na,PERCENT:Rs,PIPE:qa,PLUS:Ya,POUND:Ja,QUERY:_s,QUOTE:Cu,RIGHTCORNERBRACKET:Da,RIGHTWHITECORNERBRACKET:Ra,SCHEME:Ea,SEMI:Tu,SLASH:wn,SLASH_SCHEME:Ro,SYM:Za,TILDE:Fs,TLD:vu,UNDERSCORE:Xa,UTLD:xu,UWORD:yu,WORD:Vn,WS:wu});const Wn=/[a-z]/,zs=new RegExp("\\p{L}","u"),Nu=new RegExp("\\p{Emoji}","u"),Un=/\d/,Mu=/\s/,oy="\r",Au=`
`,V7="",W7="",Pu="";let Qa=null,el=null;function U7(t=[]){const e={};Ht.groups=e;const n=new Ht;Qa==null&&(Qa=iy(R7)),el==null&&(el=iy(_7)),Q(n,"'",Ba),Q(n,"{",Ds),Q(n,"}",js),Q(n,"[",Ca),Q(n,"]",Ta),Q(n,"(",Na),Q(n,")",Ma),Q(n,"<",Aa),Q(n,">",Pa),Q(n,"",Oa),Q(n,"",Ia),Q(n,"",La),Q(n,"",Da),Q(n,"",ja),Q(n,"",Ra),Q(n,"",_a),Q(n,"",Fa),Q(n,"&",za),Q(n,"*",Ha),Q(n,"@",yr),Q(n,"`",Wa),Q(n,"^",Ua),Q(n,":",vr),Q(n,",",Su),Q(n,"$",Ga),Q(n,".",$n),Q(n,"=",Ka),Q(n,"!",Eu),Q(n,"-",nn),Q(n,"%",Rs),Q(n,"|",qa),Q(n,"+",Ya),Q(n,"#",Ja),Q(n,"?",_s),Q(n,'"',Cu),Q(n,"/",wn),Q(n,";",Tu),Q(n,"~",Fs),Q(n,"_",Xa),Q(n,"\\",Va),Q(n,"",ty);const r=Qe(n,Un,$u,{[pu]:!0});Qe(r,Un,r);const o=Qe(r,Wn,Qb,{[Os]:!0}),s=Qe(r,zs,ey,{[Is]:!0}),i=Qe(n,Wn,Vn,{[hu]:!0});Qe(i,Un,o),Qe(i,Wn,i),Qe(o,Un,o),Qe(o,Wn,o);const a=Qe(n,zs,yu,{[mu]:!0});Qe(a,Wn),Qe(a,Un,s),Qe(a,zs,a),Qe(s,Un,s),Qe(s,Wn),Qe(s,zs,s);const l=Q(n,Au,ku,{[bu]:!0}),d=Q(n,oy,wu,{[bu]:!0}),c=Qe(n,Mu,wu,{[bu]:!0});Q(n,Pu,c),Q(d,Au,l),Q(d,Pu,c),Qe(d,Mu,c),Q(c,oy),Q(c,Au),Qe(c,Mu,c),Q(c,Pu,c);const u=Qe(n,Nu,ny,{[Xb]:!0});Q(u,"#"),Qe(u,Nu,u),Q(u,V7,u);const f=Q(u,W7);Q(f,"#"),Qe(f,Nu,u);const p=[[Wn,i],[Un,o]],h=[[Wn,null],[zs,a],[Un,s]];for(let b=0;b<Qa.length;b++)xr(n,Qa[b],vu,Vn,p);for(let b=0;b<el.length;b++)xr(n,el[b],xu,yu,h);Ur(vu,{tld:!0,ascii:!0},e),Ur(xu,{utld:!0,alpha:!0},e),xr(n,"file",Ea,Vn,p),xr(n,"mailto",Ea,Vn,p),xr(n,"http",Ro,Vn,p),xr(n,"https",Ro,Vn,p),xr(n,"ftp",Ro,Vn,p),xr(n,"ftps",Ro,Vn,p),Ur(Ea,{scheme:!0,ascii:!0},e),Ur(Ro,{slashscheme:!0,ascii:!0},e),t=t.sort((b,g)=>b[0]>g[0]?1:-1);for(let b=0;b<t.length;b++){const g=t[b][0],x=t[b][1]?{[F7]:!0}:{[z7]:!0};g.indexOf("-")>=0?x[gu]=!0:Wn.test(g)?Un.test(g)?x[Os]=!0:x[hu]=!0:x[pu]=!0,Zb(n,g,g,x)}return Zb(n,"localhost",Ls,{ascii:!0}),n.jd=new Ht(Za),{start:n,tokens:Object.assign({groups:e},ry)}}function sy(t,e){const n=G7(e.replace(/[A-Z]/g,a=>a.toLowerCase())),r=n.length,o=[];let s=0,i=0;for(;i<r;){let a=t,l=null,d=0,c=null,u=-1,f=-1;for(;i<r&&(l=a.go(n[i]));)a=l,a.accepts()?(u=0,f=0,c=a):u>=0&&(u+=n[i].length,f++),d+=n[i].length,s+=n[i].length,i++;s-=u,i-=f,d-=u,o.push({t:c.t,v:e.slice(s-d,s),s:s-d,e:s})}return o}function G7(t){const e=[],n=t.length;let r=0;for(;r<n;){let o=t.charCodeAt(r),s,i=o<55296||o>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?t[r]:t.slice(r,r+2);e.push(i),r+=i.length}return e}function xr(t,e,n,r,o){let s;const i=e.length;for(let a=0;a<i-1;a++){const l=e[a];t.j[l]?s=t.j[l]:(s=new Ht(r),s.jr=o.slice(),t.j[l]=s),t=s}return s=new Ht(n),s.jr=o.slice(),t.j[e[i-1]]=s,s}function iy(t){const e=[],n=[];let r=0,o="0123456789";for(;r<t.length;){let s=0;for(;o.indexOf(t[r+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let i=parseInt(t.substring(r,r+s),10);i>0;i--)n.pop();r+=s}else n.push(t[r]),r++}return e}const Bs={defaultProtocol:"http",events:null,format:ay,formatHref:ay,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Ou(t,e=null){let n=Object.assign({},Bs);t&&(n=Object.assign(n,t instanceof Ou?t.o:t));const r=n.ignoreTags,o=[];for(let s=0;s<r.length;s++)o.push(r[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=o}Ou.prototype={o:Bs,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let o=this.o[t];return o&&(typeof o=="object"?(o=n.t in o?o[n.t]:Bs[t],typeof o=="function"&&r&&(o=o(e,n))):typeof o=="function"&&r&&(o=o(e,n.t,n)),o)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function ay(t){return t}function ly(t,e){this.t="token",this.v=t,this.tk=e}ly.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Bs.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),o=t.get("tagName",n,e),s=this.toFormattedString(t),i={},a=t.get("className",n,e),l=t.get("target",n,e),d=t.get("rel",n,e),c=t.getObj("attributes",n,e),u=t.getObj("events",n,e);return i.href=r,a&&(i.class=a),l&&(i.target=l),d&&(i.rel=d),c&&Object.assign(i,c),{tagName:o,attributes:i,content:s,eventListeners:u}}};function tl(t,e){class n extends ly{constructor(o,s){super(o,s),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const dy=tl("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),cy=tl("text"),K7=tl("nl"),nl=tl("url",{isLink:!0,toHref(t=Bs.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Ls&&t[1].t===vr}}),rn=t=>new Ht(t);function q7({groups:t}){const e=t.domain.concat([za,Ha,yr,Va,Wa,Ua,Ga,Ka,nn,$u,Rs,qa,Ya,Ja,wn,Za,Fs,Xa]),n=[Ba,vr,Su,$n,Eu,Rs,_s,Cu,Tu,Aa,Pa,Ds,js,Ta,Ca,Na,Ma,Oa,Ia,La,Da,ja,Ra,_a,Fa],r=[za,Ba,Ha,Va,Wa,Ua,Ga,Ka,nn,Ds,js,Rs,qa,Ya,Ja,_s,wn,Za,Fs,Xa],o=rn(),s=Q(o,Fs);ke(s,r,s),ke(s,t.domain,s);const i=rn(),a=rn(),l=rn();ke(o,t.domain,i),ke(o,t.scheme,a),ke(o,t.slashscheme,l),ke(i,r,s),ke(i,t.domain,i);const d=Q(i,yr);Q(s,yr,d),Q(a,yr,d),Q(l,yr,d);const c=Q(s,$n);ke(c,r,s),ke(c,t.domain,s);const u=rn();ke(d,t.domain,u),ke(u,t.domain,u);const f=Q(u,$n);ke(f,t.domain,u);const p=rn(dy);ke(f,t.tld,p),ke(f,t.utld,p),Q(d,Ls,p);const h=Q(u,nn);Q(h,nn,h),ke(h,t.domain,u),ke(p,t.domain,u),Q(p,$n,f),Q(p,nn,h);const b=Q(p,vr);ke(b,t.numeric,dy);const g=Q(i,nn),y=Q(i,$n);Q(g,nn,g),ke(g,t.domain,i),ke(y,r,s),ke(y,t.domain,i);const x=rn(nl);ke(y,t.tld,x),ke(y,t.utld,x),ke(x,t.domain,i),ke(x,r,s),Q(x,$n,y),Q(x,nn,g),Q(x,yr,d);const k=Q(x,vr),E=rn(nl);ke(k,t.numeric,E);const S=rn(nl),C=rn();ke(S,e,S),ke(S,n,C),ke(C,e,S),ke(C,n,C),Q(x,wn,S),Q(E,wn,S);const M=Q(a,vr),I=Q(l,vr),D=Q(I,wn),z=Q(D,wn);ke(a,t.domain,i),Q(a,$n,y),Q(a,nn,g),ke(l,t.domain,i),Q(l,$n,y),Q(l,nn,g),ke(M,t.domain,S),Q(M,wn,S),Q(M,_s,S),ke(z,t.domain,S),ke(z,e,S),Q(z,wn,S);const $=[[Ds,js],[Ca,Ta],[Na,Ma],[Aa,Pa],[Oa,Ia],[La,Da],[ja,Ra],[_a,Fa]];for(let O=0;O<$.length;O++){const[T,A]=$[O],_=Q(S,T);Q(C,T,_),Q(_,A,S);const w=rn(nl);ke(_,e,w);const L=rn();ke(_,n),ke(w,e,w),ke(w,n,L),ke(L,e,w),ke(L,n,L),Q(w,A,S),Q(L,A,S)}return Q(o,Ls,x),Q(o,ku,K7),{start:o,tokens:ry}}function Y7(t,e,n){let r=n.length,o=0,s=[],i=[];for(;o<r;){let a=t,l=null,d=null,c=0,u=null,f=-1;for(;o<r&&!(l=a.go(n[o].t));)i.push(n[o++]);for(;o<r&&(d=l||a.go(n[o].t));)l=null,a=d,a.accepts()?(f=0,u=a):f>=0&&f++,o++,c++;if(f<0)o-=c,o<r&&(i.push(n[o]),o++);else{i.length>0&&(s.push(Iu(cy,e,i)),i=[]),o-=f,c-=f;const p=u.t,h=n.slice(o-c,o);s.push(Iu(p,e,h))}}return i.length>0&&s.push(Iu(cy,e,i)),s}function Iu(t,e,n){const r=n[0].s,o=n[n.length-1].e,s=e.slice(r,o);return new t(s,n)}const J7=typeof console<"u"&&console&&console.warn||(()=>{}),X7="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",qe={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Z7(){return Ht.groups={},qe.scanner=null,qe.parser=null,qe.tokenQueue=[],qe.pluginQueue=[],qe.customSchemes=[],qe.initialized=!1,qe}function uy(t,e=!1){if(qe.initialized&&J7(`linkifyjs: already initialized - will not register custom scheme "${t}" ${X7}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);qe.customSchemes.push([t,e])}function Q7(){qe.scanner=U7(qe.customSchemes);for(let t=0;t<qe.tokenQueue.length;t++)qe.tokenQueue[t][1]({scanner:qe.scanner});qe.parser=q7(qe.scanner.tokens);for(let t=0;t<qe.pluginQueue.length;t++)qe.pluginQueue[t][1]({scanner:qe.scanner,parser:qe.parser});return qe.initialized=!0,qe}function Lu(t){return qe.initialized||Q7(),Y7(qe.parser.start,t,sy(qe.scanner.start,t))}Lu.scan=sy;function fy(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new Ou(n),o=Lu(t),s=[];for(let i=0;i<o.length;i++){const a=o[i];a.isLink&&(!e||a.t===e)&&r.check(a)&&s.push(a.toFormattedObject(r))}return s}var Du="[\0- -\u2029]",eT=new RegExp(Du),tT=new RegExp(`${Du}$`),nT=new RegExp(Du,"g");function rT(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function oT(t){return new Ke({key:new Ze("autolink"),appendTransaction:(e,n,r)=>{const o=e.some(d=>d.docChanged)&&!n.doc.eq(r.doc),s=e.some(d=>d.getMeta("preventAutolink"));if(!o||s)return;const{tr:i}=r,a=fb(n.doc,[...e]);if(kb(a).forEach(({newRange:d})=>{const c=oE(r.doc,d,p=>p.isTextblock);let u,f;if(c.length>1)u=c[0],f=r.doc.textBetween(u.pos,u.pos+u.node.nodeSize,void 0," ");else if(c.length){const p=r.doc.textBetween(d.from,d.to," "," ");if(!tT.test(p))return;u=c[0],f=r.doc.textBetween(u.pos,d.to,void 0," ")}if(u&&f){const p=f.split(eT).filter(Boolean);if(p.length<=0)return!1;const h=p[p.length-1],b=u.pos+f.lastIndexOf(h);if(!h)return!1;const g=Lu(h).map(y=>y.toObject(t.defaultProtocol));if(!rT(g))return!1;g.filter(y=>y.isLink).map(y=>({...y,from:b+y.start+1,to:b+y.end+1})).filter(y=>r.schema.marks.code?!r.doc.rangeHasMark(y.from,y.to,r.schema.marks.code):!0).filter(y=>t.validate(y.value)).filter(y=>t.shouldAutoLink(y.value)).forEach(y=>{Xc(y.from,y.to,r.doc).some(x=>x.mark.type===t.type)||i.addMark(y.from,y.to,t.type.create({href:y.href}))})}}),!!i.steps.length)return i}})}function sT(t){return new Ke({key:new Ze("handleClickLink"),props:{handleClick:(e,n,r)=>{var o,s;if(r.button!==0||!e.editable)return!1;let i=!1;if(t.enableClickSelection&&(i=t.editor.commands.extendMarkRange(t.type.name)),t.openOnClick){let a=null;if(r.target instanceof HTMLAnchorElement)a=r.target;else{let u=r.target;const f=[];for(;u.nodeName!=="DIV";)f.push(u),u=u.parentNode;a=f.find(p=>p.nodeName==="A")}if(!a)return i;const l=wb(e.state,t.type.name),d=(o=a==null?void 0:a.href)!=null?o:l.href,c=(s=a==null?void 0:a.target)!=null?s:l.target;a&&d&&(window.open(d,c),i=!0)}return i}}})}function iT(t){return new Ke({key:new Ze("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{shouldAutoLink:o}=t,{state:s}=e,{selection:i}=s,{empty:a}=i;if(a)return!1;let l="";r.content.forEach(c=>{l+=c.textContent});const d=fy(l,{defaultProtocol:t.defaultProtocol}).find(c=>c.isLink&&c.value===l);return!l||!d||o!==void 0&&!o(d.value)?!1:t.editor.commands.setMark(t.type,{href:d.href})}}})}function Gr(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const o=typeof r=="string"?r:r.scheme;o&&n.push(o)}),!t||t.replace(nT,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var py=dn.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){uy(t);return}uy(t.scheme,t.optionalSlashes)})},onDestroy(){Z7()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Gr(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>{const e=/^[a-z][a-z0-9+.-]*:\/\//i.test(t),n=/^[a-z][a-z0-9+.-]*:/i.test(t);if(e||n&&!t.includes("@"))return!0;const o=(t.includes("@")?t.split("@").pop():t).split(/[/?#:]/)[0];return!(/^\d{1,3}(\.\d{1,3}){3}$/.test(o)||!/\./.test(o))}}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Gr(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Gr(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",De(this.options.HTMLAttributes,t),0]:["a",De(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const r=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${r})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Gr(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Gr(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[gr({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,o=fy(t).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:i=>!!Gr(i,n),protocols:n,defaultProtocol:r}));o.length&&o.forEach(s=>{this.options.shouldAutoLink(s.value)&&e.push({text:s.value,data:{href:s.href},index:s.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(oT({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:o=>!!Gr(o,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),t.push(sT({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(iT({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),aT=py,lT=Object.defineProperty,dT=(t,e)=>{for(var n in e)lT(t,n,{get:e[n],enumerable:!0})},cT="listItem",hy="textStyle",my=/^\s*([-+*])\s$/,gy=ht.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",De(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(cT,this.editor.getAttributes(hy)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=jo({find:my,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=jo({find:my,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(hy),editor:this.editor})),[t]}}),by=ht.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",De(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(o=>o.type==="paragraph"))n=e.parseChildren(t.tokens);else{const o=t.tokens[0];if(o&&o.type==="text"&&o.tokens&&o.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(o.tokens)}],t.tokens.length>1){const i=t.tokens.slice(1),a=e.parseChildren(i);n.push(...a)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>iu(t,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),uT={};dT(uT,{findListItemPos:()=>Hs,getNextListDepth:()=>ju,handleBackspace:()=>Ru,handleDelete:()=>_u,hasListBefore:()=>yy,hasListItemAfter:()=>fT,hasListItemBefore:()=>vy,listItemHasSubList:()=>xy,nextListIsDeeper:()=>$y,nextListIsHigher:()=>wy});var Hs=(t,e)=>{const{$from:n}=e.selection,r=dt(t,e.schema);let o=null,s=n.depth,i=n.pos,a=null;for(;s>0&&a===null;)o=n.node(s),o.type===r?a=s:(s-=1,i-=1);return a===null?null:{$pos:e.doc.resolve(i),depth:a}},ju=(t,e)=>{const n=Hs(t,e);if(!n)return!1;const[,r]=pE(e,t,n.$pos.pos+4);return r},yy=(t,e,n)=>{const{$anchor:r}=t.selection,o=Math.max(0,r.pos-2),s=t.doc.resolve(o).node();return!(!s||!n.includes(s.type.name))},vy=(t,e)=>{var n;const{$anchor:r}=e.selection,o=e.doc.resolve(r.pos-2);return!(o.index()===0||((n=o.nodeBefore)==null?void 0:n.type.name)!==t)},xy=(t,e,n)=>{if(!n)return!1;const r=dt(t,e.schema);let o=!1;return n.descendants(s=>{s.type===r&&(o=!0)}),o},Ru=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!mr(t.state,e)&&yy(t.state,e,n)){const{$anchor:a}=t.state.selection,l=t.state.doc.resolve(a.before()-1),d=[];l.node().descendants((f,p)=>{f.type.name===e&&d.push({node:f,pos:p})});const c=d.at(-1);if(!c)return!1;const u=t.state.doc.resolve(l.start()+c.pos+1);return t.chain().cut({from:a.start()-1,to:a.end()+1},u.end()).joinForward().run()}if(!mr(t.state,e)||!bE(t.state))return!1;const r=Hs(e,t.state);if(!r)return!1;const s=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),i=xy(e,t.state,s);return vy(e,t.state)&&!i?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},$y=(t,e)=>{const n=ju(t,e),r=Hs(t,e);return!r||!n?!1:n>r.depth},wy=(t,e)=>{const n=ju(t,e),r=Hs(t,e);return!r||!n?!1:n<r.depth},_u=(t,e)=>{if(!mr(t.state,e)||!gE(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:o}=n;return!n.empty&&r.sameParent(o)?!1:$y(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():wy(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},fT=(t,e)=>{var n;const{$anchor:r}=e.selection,o=e.doc.resolve(r.pos-r.parentOffset-2);return!(o.index()===o.parent.childCount-1||((n=o.nodeAfter)==null?void 0:n.type.name)!==t)},ky=je.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&_u(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&_u(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&Ru(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&Ru(t,n,r)&&(e=!0)}),e}}}}),Sy=/^(\s*)(\d+)\.\s+(.*)$/,pT=/^\s/;function hT(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n],s=o.match(Sy);if(!s)break;const[,i,a,l]=s,d=i.length;let c=l,u=n+1;const f=[o];for(;u<t.length;){const p=t[u];if(p.match(Sy))break;if(p.trim()==="")f.push(p),c+=`
`,u+=1;else if(p.match(pT))f.push(p),c+=`
${p.slice(d+2)}`,u+=1;else break}e.push({indent:d,number:parseInt(a,10),content:c.trim(),raw:f.join(`
`)}),r=u,n=u}return[e,r]}function Ey(t,e,n){var r;const o=[];let s=0;for(;s<t.length;){const i=t[s];if(i.indent===e){const a=i.content.split(`
`),l=((r=a[0])==null?void 0:r.trim())||"",d=[];l&&d.push({type:"paragraph",raw:l,tokens:n.inlineTokens(l)});const c=a.slice(1).join(`
`).trim();if(c){const p=n.blockTokens(c);d.push(...p)}let u=s+1;const f=[];for(;u<t.length&&t[u].indent>e;)f.push(t[u]),u+=1;if(f.length>0){const p=Math.min(...f.map(b=>b.indent)),h=Ey(f,p,n);d.push({type:"list",ordered:!0,start:f[0].number,items:h,raw:f.map(b=>b.raw).join(`
`)})}o.push({type:"list_item",raw:i.raw,tokens:d}),s=u}else s+=1}return o}function mT(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(o=>{if(o.type==="paragraph"||o.type==="list"||o.type==="blockquote"||o.type==="code")r.push(...e.parseChildren([o]));else if(o.type==="text"&&o.tokens){const s=e.parseChildren([o]);r.push({type:"paragraph",content:s})}else{const s=e.parseChildren([o]);s.length>0&&r.push(...s)}}),{type:"listItem",content:r}})}var gT="listItem",Cy="textStyle",Ty=/^(\d+)\.\s$/,Ny=ht.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",De(this.options.HTMLAttributes,n),0]:["ol",De(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,r=t.items?mT(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e==null?void 0:e.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var r;const o=t.split(`
`),[s,i]=hT(o);if(s.length===0)return;const a=Ey(s,0,n);return a.length===0?void 0:{type:"list",ordered:!0,start:((r=s[0])==null?void 0:r.number)||1,items:a,raw:o.slice(0,i).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(gT,this.editor.getAttributes(Cy)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=jo({find:Ty,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=jo({find:Ty,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Cy)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),bT=/^\s*(\[([( |x])?\])\s$/,My=ht.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",De(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const r=e.parseChildren(t.nestedTokens);n.push(...r)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const o=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return iu(t,e,o)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const o=document.createElement("li"),s=document.createElement("label"),i=document.createElement("span"),a=document.createElement("input"),l=document.createElement("div"),d=u=>{var f,p;a.ariaLabel=((p=(f=this.options.a11y)==null?void 0:f.checkboxLabel)==null?void 0:p.call(f,u,a.checked))||`Task item checkbox for ${u.textContent||"empty task item"}`};d(t),s.contentEditable="false",a.type="checkbox",a.addEventListener("mousedown",u=>u.preventDefault()),a.addEventListener("change",u=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){a.checked=!a.checked;return}const{checked:f}=u.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:p})=>{const h=n();if(typeof h!="number")return!1;const b=p.doc.nodeAt(h);return p.setNodeMarkup(h,void 0,{...b==null?void 0:b.attrs,checked:f}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,f)||(a.checked=!a.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([u,f])=>{o.setAttribute(u,f)}),o.dataset.checked=t.attrs.checked,a.checked=t.attrs.checked,s.append(a,i),o.append(s,l),Object.entries(e).forEach(([u,f])=>{o.setAttribute(u,f)});let c=new Set(Object.keys(e));return{dom:o,contentDOM:l,update:u=>{if(u.type!==this.type)return!1;o.dataset.checked=u.attrs.checked,a.checked=u.attrs.checked,d(u);const f=r.extensionManager.attributes,p=As(u,f),h=new Set(Object.keys(p)),b=this.options.HTMLAttributes;return c.forEach(g=>{h.has(g)||(g in b?o.setAttribute(g,b[g]):o.removeAttribute(g))}),Object.entries(p).forEach(([g,y])=>{y==null?g in b?o.setAttribute(g,b[g]):o.removeAttribute(g):o.setAttribute(g,y)}),c=h,!0}}}},addInputRules(){return[jo({find:bT,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),Ay=ht.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",De(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const r=s=>{const i=su(s,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:a=>({indentLevel:a[1].length,mainContent:a[4],checked:a[3].toLowerCase()==="x"}),createToken:(a,l)=>({type:"taskItem",raw:"",mainContent:a.mainContent,indentLevel:a.indentLevel,checked:a.checked,text:a.mainContent,tokens:n.inlineTokens(a.mainContent),nestedTokens:l}),customNestedParser:r},n);return i?[{type:"taskList",raw:i.raw,items:i.items}]:n.blockTokens(s)},o=su(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:s=>({indentLevel:s[1].length,mainContent:s[4],checked:s[3].toLowerCase()==="x"}),createToken:(s,i)=>({type:"taskItem",raw:"",mainContent:s.mainContent,indentLevel:s.indentLevel,checked:s.checked,text:s.mainContent,tokens:n.inlineTokens(s.mainContent),nestedTokens:i}),customNestedParser:r},n);if(o)return{type:"taskList",raw:o.raw,items:o.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});je.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(gy.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(by.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(ky.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(Ny.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(My.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(Ay.configure(this.options.taskList)),t}});var yT=ht.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",De(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),vT=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,xT=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,$T=dn.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",De(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Vr({find:vT,type:this.type})]},addPasteRules(){return[gr({find:xT,type:this.type})]}}),wT=ht.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),Py=dn.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",De(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const o=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!o)return;const s=o[2].trim();return{type:"underline",raw:o[0],text:s,tokens:n.inlineTokens(s)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),kT=Py;function ST(t={}){return new Ke({view(e){return new ET(e,t)}})}class ET{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(o=>{let s=i=>{this[o](i)};return e.dom.addEventListener(o,s),{name:o,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,o=this.editorView.dom,s=o.getBoundingClientRect(),i=s.width/o.offsetWidth,a=s.height/o.offsetHeight;if(n){let u=e.nodeBefore,f=e.nodeAfter;if(u||f){let p=this.editorView.nodeDOM(this.cursorPos-(u?u.nodeSize:0));if(p){let h=p.getBoundingClientRect(),b=u?h.bottom:h.top;u&&f&&(b=(b+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let g=this.width/2*a;r={left:h.left,right:h.right,top:b-g,bottom:b+g}}}}if(!r){let u=this.editorView.coordsAtPos(this.cursorPos),f=this.width/2*i;r={left:u.left-f,right:u.left+f,top:u.top,bottom:u.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let d,c;if(!l||l==document.body&&getComputedStyle(l).position=="static")d=-pageXOffset,c=-pageYOffset;else{let u=l.getBoundingClientRect(),f=u.width/l.offsetWidth,p=u.height/l.offsetHeight;d=u.left-l.scrollLeft*f,c=u.top-l.scrollTop*p}this.element.style.left=(r.left-d)/i+"px",this.element.style.top=(r.top-c)/a+"px",this.element.style.width=(r.right-r.left)/i+"px",this.element.style.height=(r.bottom-r.top)/a+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),o=r&&r.type.spec.disableDropCursor,s=typeof o=="function"?o(this.editorView,n,e):o;if(n&&!s){let i=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=m0(this.editorView.state.doc,i,this.editorView.dragging.slice);a!=null&&(i=a)}this.setCursor(i),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class et extends be{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return et.valid(r)?new et(r):be.near(r)}content(){return te.empty}eq(e){return e instanceof et&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new et(e.resolve(n.pos))}getBookmark(){return new Fu(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!CT(e)||!TT(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let o=n.contentMatchAt(e.index()).defaultType;return o&&o.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&et.valid(e))return e;let o=e.pos,s=null;for(let i=e.depth;;i--){let a=e.node(i);if(n>0?e.indexAfter(i)<a.childCount:e.index(i)>0){s=a.child(n>0?e.indexAfter(i):e.index(i)-1);break}else if(i==0)return null;o+=n;let l=e.doc.resolve(o);if(et.valid(l))return l}for(;;){let i=n>0?s.firstChild:s.lastChild;if(!i){if(s.isAtom&&!s.isText&&!pe.isSelectable(s)){e=e.doc.resolve(o+s.nodeSize*n),r=!1;continue e}break}s=i,o+=n;let a=e.doc.resolve(o);if(et.valid(a))return a}return null}}}et.prototype.visible=!1,et.findFrom=et.findGapCursorFrom,be.jsonID("gapcursor",et);class Fu{constructor(e){this.pos=e}map(e){return new Fu(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return et.valid(n)?new et(n):be.near(n)}}function Oy(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function CT(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(n-1);;o=o.lastChild){if(o.childCount==0&&!o.inlineContent||Oy(o.type))return!0;if(o.inlineContent)return!1}}return!0}function TT(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(n);;o=o.firstChild){if(o.childCount==0&&!o.inlineContent||Oy(o.type))return!0;if(o.inlineContent)return!1}}return!0}function NT(){return new Ke({props:{decorations:OT,createSelectionBetween(t,e,n){return e.pos==n.pos&&et.valid(n)?new et(n):null},handleClick:AT,handleKeyDown:MT,handleDOMEvents:{beforeinput:PT}}})}const MT=Wc({ArrowLeft:rl("horiz",-1),ArrowRight:rl("horiz",1),ArrowUp:rl("vert",-1),ArrowDown:rl("vert",1)});function rl(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,o,s){let i=r.selection,a=e>0?i.$to:i.$from,l=i.empty;if(i instanceof me){if(!s.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let d=et.findGapCursorFrom(a,e,l);return d?(o&&o(r.tr.setSelection(new et(d))),!0):!1}}function AT(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!et.valid(r))return!1;let o=t.posAtCoords({left:n.clientX,top:n.clientY});return o&&o.inside>-1&&pe.isSelectable(t.state.doc.nodeAt(o.inside))?!1:(t.dispatch(t.state.tr.setSelection(new et(r))),!0)}function PT(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof et))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let o=K.empty;for(let i=r.length-1;i>=0;i--)o=K.from(r[i].createAndFill(null,o));let s=t.state.tr.replace(n.pos,n.pos,new te(o,0,0));return s.setSelection(me.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function OT(t){if(!(t.selection instanceof et))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",We.create(t.doc,[xt.widget(t.selection.head,e,{key:"gapcursor"})])}var ol=200,$t=function(){};$t.prototype.append=function(e){return e.length?(e=$t.from(e),!this.length&&e||e.length<ol&&this.leafAppend(e)||this.length<ol&&e.leafPrepend(this)||this.appendInner(e)):this},$t.prototype.prepend=function(e){return e.length?$t.from(e).append(this):this},$t.prototype.appendInner=function(e){return new IT(this,e)},$t.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?$t.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))},$t.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},$t.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)},$t.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var o=[];return this.forEach(function(s,i){return o.push(e(s,i))},n,r),o},$t.from=function(e){return e instanceof $t?e:e&&e.length?new Iy(e):$t.empty};var Iy=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(o,s){return o==0&&s==this.length?this:new e(this.values.slice(o,s))},e.prototype.getInner=function(o){return this.values[o]},e.prototype.forEachInner=function(o,s,i,a){for(var l=s;l<i;l++)if(o(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(o,s,i,a){for(var l=s-1;l>=i;l--)if(o(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(o){if(this.length+o.length<=ol)return new e(this.values.concat(o.flatten()))},e.prototype.leafPrepend=function(o){if(this.length+o.length<=ol)return new e(o.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}($t);$t.empty=new Iy([]);var IT=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,o,s,i){var a=this.left.length;if(o<a&&this.left.forEachInner(r,o,Math.min(s,a),i)===!1||s>a&&this.right.forEachInner(r,Math.max(o-a,0),Math.min(this.length,s)-a,i+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,o,s,i){var a=this.left.length;if(o>a&&this.right.forEachInvertedInner(r,o-a,Math.max(s,a)-a,i+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(o,a),s,i)===!1)return!1},e.prototype.sliceInner=function(r,o){if(r==0&&o==this.length)return this;var s=this.left.length;return o<=s?this.left.slice(r,o):r>=s?this.right.slice(r-s,o-s):this.left.slice(r,s).append(this.right.slice(0,o-s))},e.prototype.leafAppend=function(r){var o=this.right.leafAppend(r);if(o)return new e(this.left,o)},e.prototype.leafPrepend=function(r){var o=this.left.leafPrepend(r);if(o)return new e(o,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}($t);const LT=500;class cn{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let o,s;n&&(o=this.remapping(r,this.items.length),s=o.maps.length);let i=e.tr,a,l,d=[],c=[];return this.items.forEach((u,f)=>{if(!u.step){o||(o=this.remapping(r,f+1),s=o.maps.length),s--,c.push(u);return}if(o){c.push(new kn(u.map));let p=u.step.map(o.slice(s)),h;p&&i.maybeStep(p).doc&&(h=i.mapping.maps[i.mapping.maps.length-1],d.push(new kn(h,void 0,void 0,d.length+c.length))),s--,h&&o.appendMap(h,s)}else i.maybeStep(u.step);if(u.selection)return a=o?u.selection.map(o.slice(s)):u.selection,l=new cn(this.items.slice(0,r).append(c.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:i,selection:a}}addTransform(e,n,r,o){let s=[],i=this.eventCount,a=this.items,l=!o&&a.length?a.get(a.length-1):null;for(let c=0;c<e.steps.length;c++){let u=e.steps[c].invert(e.docs[c]),f=new kn(e.mapping.maps[c],u,n),p;(p=l&&l.merge(f))&&(f=p,c?s.pop():a=a.slice(0,a.length-1)),s.push(f),n&&(i++,n=void 0),o||(l=f)}let d=i-r.depth;return d>jT&&(a=DT(a,d),i-=d),new cn(a.append(s),i)}remapping(e,n){let r=new ms;return this.items.forEach((o,s)=>{let i=o.mirrorOffset!=null&&s-o.mirrorOffset>=e?r.maps.length-o.mirrorOffset:void 0;r.appendMap(o.map,i)},e,n),r}addMaps(e){return this.eventCount==0?this:new cn(this.items.append(e.map(n=>new kn(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],o=Math.max(0,this.items.length-n),s=e.mapping,i=e.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},o);let l=n;this.items.forEach(f=>{let p=s.getMirror(--l);if(p==null)return;i=Math.min(i,p);let h=s.maps[p];if(f.step){let b=e.steps[p].invert(e.docs[p]),g=f.selection&&f.selection.map(s.slice(l+1,p));g&&a++,r.push(new kn(h,b,g))}else r.push(new kn(h))},o);let d=[];for(let f=n;f<i;f++)d.push(new kn(s.maps[f]));let c=this.items.slice(0,o).append(d).append(r),u=new cn(c,a);return u.emptyItemCount()>LT&&(u=u.compress(this.items.length-r.length)),u}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,o=[],s=0;return this.items.forEach((i,a)=>{if(a>=e)o.push(i),i.selection&&s++;else if(i.step){let l=i.step.map(n.slice(r)),d=l&&l.getMap();if(r--,d&&n.appendMap(d,r),l){let c=i.selection&&i.selection.map(n.slice(r));c&&s++;let u=new kn(d.invert(),l,c),f,p=o.length-1;(f=o.length&&o[p].merge(u))?o[p]=f:o.push(u)}}else i.map&&r--},this.items.length,0),new cn($t.from(o.reverse()),s)}}cn.empty=new cn($t.empty,0);function DT(t,e){let n;return t.forEach((r,o)=>{if(r.selection&&e--==0)return n=o,!1}),t.slice(n)}class kn{constructor(e,n,r,o){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=o}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new kn(n.getMap().invert(),n,this.selection)}}}class $r{constructor(e,n,r,o,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=o,this.prevComposition=s}}const jT=20;function RT(t,e,n,r){let o=n.getMeta(Kr),s;if(o)return o.historyState;n.getMeta(zT)&&(t=new $r(t.done,t.undone,null,0,-1));let i=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(i&&i.getMeta(Kr))return i.getMeta(Kr).redo?new $r(t.done.addTransform(n,void 0,r,sl(e)),t.undone,Ly(n.mapping.maps),t.prevTime,t.prevComposition):new $r(t.done,t.undone.addTransform(n,void 0,r,sl(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(i&&i.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!i&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!_T(n,t.prevRanges)),d=i?zu(t.prevRanges,n.mapping):Ly(n.mapping.maps);return new $r(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,sl(e)),cn.empty,d,n.time,a??t.prevComposition)}else return(s=n.getMeta("rebased"))?new $r(t.done.rebased(n,s),t.undone.rebased(n,s),zu(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new $r(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),zu(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function _T(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,o)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&o>=e[s]&&(n=!0)}),n}function Ly(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,o,s,i)=>e.push(s,i));return e}function zu(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let o=e.map(t[r],1),s=e.map(t[r+1],-1);o<=s&&n.push(o,s)}return n}function FT(t,e,n){let r=sl(e),o=Kr.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let i=s.selection.resolve(s.transform.doc),a=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),o,r),l=new $r(n?a:s.remaining,n?s.remaining:a,null,0,-1);return s.transform.setSelection(i).setMeta(Kr,{redo:n,historyState:l})}let Bu=!1,Dy=null;function sl(t){let e=t.plugins;if(Dy!=e){Bu=!1,Dy=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Bu=!0;break}}return Bu}const Kr=new Ze("history"),zT=new Ze("closeHistory");function BT(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Ke({key:Kr,state:{init(){return new $r(cn.empty,cn.empty,null,0,-1)},apply(e,n,r){return RT(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,o=r=="historyUndo"?Ry:r=="historyRedo"?_y:null;return!o||!e.editable?!1:(n.preventDefault(),o(e.state,e.dispatch))}}}})}function jy(t,e){return(n,r)=>{let o=Kr.getState(n);if(!o||(t?o.undone:o.done).eventCount==0)return!1;if(r){let s=FT(o,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const Ry=jy(!1,!0),_y=jy(!0,!0);je.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new Ke({key:new Ze("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const o=this.options.limit;if(o==null||o===0){t=!0;return}const s=this.storage.characters({node:r.doc});if(s>o){const i=s-o,a=0,l=i;console.warn(`[CharacterCount] Initial content exceeded limit of ${o} characters. Content was automatically trimmed.`);const d=r.tr.deleteRange(a,l);return t=!0,d}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const o=this.storage.characters({node:n.doc}),s=this.storage.characters({node:e.doc});if(s<=r||o>r&&s>r&&s<=o)return!0;if(o>r&&s>r&&s>o||!e.getMeta("paste"))return!1;const a=e.selection.$head.pos,l=s-r,d=a-l,c=a;return e.deleteRange(d,c),!(this.storage.characters({node:e.doc})>r)}})]}});var HT=je.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[ST(this.options)]}});je.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Ke({key:new Ze("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:o}=e,s=[];if(!n||!r)return We.create(t,[]);let i=0;this.options.mode==="deepest"&&t.descendants((l,d)=>{if(l.isText)return;if(!(o>=d&&o<=d+l.nodeSize-1))return!1;i+=1});let a=0;return t.descendants((l,d)=>{if(l.isText||!(o>=d&&o<=d+l.nodeSize-1))return!1;if(a+=1,this.options.mode==="deepest"&&i-a>0||this.options.mode==="shallowest"&&a>1)return this.options.mode==="deepest";s.push(xt.node(d,d+l.nodeSize,{class:this.options.className}))}),We.create(t,s)}}})]}});var VT=je.create({name:"gapCursor",addProseMirrorPlugins(){return[NT()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Oe(ue(t,"allowGapCursor",n)))!=null?e:null}}}),WT=je.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Ke({key:new Ze("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,o=[];if(!n)return null;const s=this.editor.isEmpty;return t.descendants((i,a)=>{const l=r>=a&&r<=a+i.nodeSize,d=!i.isLeaf&&ga(i);if((l||!this.options.showOnlyCurrent)&&d){const c=[this.options.emptyNodeClass];s&&c.push(this.options.emptyEditorClass);const u=xt.node(a,a+i.nodeSize,{class:c.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:i,pos:a,hasAnchor:l}):this.options.placeholder});o.push(u)}return this.options.includeChildren}),We.create(t,o)}}})]}});je.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Ke({key:new Ze("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||Cb(n.selection)||t.view.dragging?null:We.create(n.doc,[xt.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function Fy({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||(e==null?void 0:e.type)===t}var UT=je.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new Ze(this.name),n=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,o])=>o).filter(o=>(this.options.notAfter||[]).concat(n).includes(o.name));return[new Ke({key:e,appendTransaction:(o,s,i)=>{const{doc:a,tr:l,schema:d}=i,c=e.getState(i),u=a.content.size,f=d.nodes[n];if(c)return l.insert(u,f.create())},state:{init:(o,s)=>{const i=s.tr.doc.lastChild;return!Fy({node:i,types:r})},apply:(o,s)=>{if(!o.docChanged||o.getMeta("__uniqueIDTransaction"))return s;const i=o.doc.lastChild;return!Fy({node:i,types:r})}}})]}}),GT=je.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>Ry(t,e),redo:()=>({state:t,dispatch:e})=>_y(t,e)}},addProseMirrorPlugins(){return[BT(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),KT=je.create({name:"starterKit",addExtensions(){var t,e,n,r;const o=[];return this.options.bold!==!1&&o.push($7.configure(this.options.bold)),this.options.blockquote!==!1&&o.push(g7.configure(this.options.blockquote)),this.options.bulletList!==!1&&o.push(gy.configure(this.options.bulletList)),this.options.code!==!1&&o.push(S7.configure(this.options.code)),this.options.codeBlock!==!1&&o.push(T7.configure(this.options.codeBlock)),this.options.document!==!1&&o.push(N7.configure(this.options.document)),this.options.dropcursor!==!1&&o.push(HT.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&o.push(VT.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&o.push(M7.configure(this.options.hardBreak)),this.options.heading!==!1&&o.push(A7.configure(this.options.heading)),this.options.undoRedo!==!1&&o.push(GT.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&o.push(P7.configure(this.options.horizontalRule)),this.options.italic!==!1&&o.push(j7.configure(this.options.italic)),this.options.listItem!==!1&&o.push(by.configure(this.options.listItem)),this.options.listKeymap!==!1&&o.push(ky.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&o.push(py.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&o.push(Ny.configure(this.options.orderedList)),this.options.paragraph!==!1&&o.push(yT.configure(this.options.paragraph)),this.options.strike!==!1&&o.push($T.configure(this.options.strike)),this.options.text!==!1&&o.push(wT.configure(this.options.text)),this.options.underline!==!1&&o.push(Py.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&o.push(UT.configure((r=this.options)==null?void 0:r.trailingNode)),o}}),qT=KT,YT=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,JT=ht.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",De(this.options.HTMLAttributes,t)]},parseMarkdown:(t,e)=>e.createNode("image",{src:t.href,title:t.title,alt:t.text}),renderMarkdown:t=>{var e,n,r,o,s,i;const a=(n=(e=t.attrs)==null?void 0:e.src)!=null?n:"",l=(o=(r=t.attrs)==null?void 0:r.alt)!=null?o:"",d=(i=(s=t.attrs)==null?void 0:s.title)!=null?i:"";return d?`![${l}](${a} "${d}")`:`![${l}](${a})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u")return null;const{directions:t,minWidth:e,minHeight:n,alwaysPreserveAspectRatio:r}=this.options.resize;return({node:o,getPos:s,HTMLAttributes:i,editor:a})=>{const l=document.createElement("img");Object.entries(i).forEach(([u,f])=>{if(f!=null)switch(u){case"width":case"height":break;default:l.setAttribute(u,f);break}}),l.src=i.src;const d=new rC({element:l,editor:a,node:o,getPos:s,onResize:(u,f)=>{l.style.width=`${u}px`,l.style.height=`${f}px`},onCommit:(u,f)=>{const p=s();p!==void 0&&this.editor.chain().setNodeSelection(p).updateAttributes(this.name,{width:u,height:f}).run()},onUpdate:(u,f,p)=>u.type===o.type,options:{directions:t,min:{width:e,height:n},preserveAspectRatio:r===!0}}),c=d.dom;return c.style.visibility="hidden",c.style.pointerEvents="none",l.onload=()=>{c.style.visibility="",c.style.pointerEvents=""},d}},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[Bb({find:YT,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),XT=JT,ZT=je.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).some(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).some(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),QT=ZT,eN=20,zy=(t,e=0)=>{const n=[];return!t.children.length||e>eN||Array.from(t.children).forEach(r=>{r.tagName==="SPAN"?n.push(r):r.children.length&&n.push(...zy(r,e+1))}),n},tN=t=>{if(!t.children.length)return;const e=zy(t);e&&e.forEach(n=>{var r,o;const s=n.getAttribute("style"),i=(o=(r=n.parentElement)==null?void 0:r.closest("span"))==null?void 0:o.getAttribute("style");n.setAttribute("style",`${i};${s}`)})},By=dn.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&tN(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",De(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(o=>o.type===this.type).some(o=>Object.values(o.attrs).some(s=>!!s))||t.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),nN=je.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(o=>o.trim()).filter(Boolean);for(let o=r.length-1;o>=0;o-=1){const s=r[o].split(":");if(s.length>=2){const i=s[0].trim().toLowerCase(),a=s.slice(1).join(":").trim();if(i==="background-color")return a.replace(/['"]+/g,"")}}}return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),Hy=je.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(o=>o.trim()).filter(Boolean);for(let o=r.length-1;o>=0;o-=1){const s=r[o].split(":");if(s.length>=2){const i=s[0].trim().toLowerCase(),a=s.slice(1).join(":").trim();if(i==="color")return a.replace(/['"]+/g,"")}}}return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),rN=je.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),oN=je.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),sN=je.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});je.create({name:"textStyleKit",addExtensions(){const t=[];return this.options.backgroundColor!==!1&&t.push(nN.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(Hy.configure(this.options.color)),this.options.fontFamily!==!1&&t.push(rN.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push(oN.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(sN.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(By.configure(this.options.textStyle)),t}});var iN=Hy;let Hu,Vu;if(typeof WeakMap<"u"){let t=new WeakMap;Hu=e=>t.get(e),Vu=(e,n)=>(t.set(e,n),n)}else{const t=[];let n=0;Hu=r=>{for(let o=0;o<t.length;o+=2)if(t[o]==r)return t[o+1]},Vu=(r,o)=>(n==10&&(n=0),t[n++]=r,t[n++]=o)}var tt=class{constructor(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const r=e%this.width,o=e/this.width|0;let s=r+1,i=o+1;for(let a=1;s<this.width&&this.map[e+a]==n;a++)s++;for(let a=1;i<this.height&&this.map[e+this.width*a]==n;a++)i++;return{left:r,top:o,right:s,bottom:i}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:r,right:o,top:s,bottom:i}=this.findCell(t);return e=="horiz"?(n<0?r==0:o==this.width)?null:this.map[s*this.width+(n<0?r-1:o)]:(n<0?s==0:i==this.height)?null:this.map[r+this.width*(n<0?s-1:i)]}rectBetween(t,e){const{left:n,right:r,top:o,bottom:s}=this.findCell(t),{left:i,right:a,top:l,bottom:d}=this.findCell(e);return{left:Math.min(n,i),top:Math.min(o,l),right:Math.max(r,a),bottom:Math.max(s,d)}}cellsInRect(t){const e=[],n={};for(let r=t.top;r<t.bottom;r++)for(let o=t.left;o<t.right;o++){const s=r*this.width+o,i=this.map[s];n[i]||(n[i]=!0,!(o==t.left&&o&&this.map[s-1]==i||r==t.top&&r&&this.map[s-this.width]==i)&&e.push(i))}return e}positionAt(t,e,n){for(let r=0,o=0;;r++){const s=o+n.child(r).nodeSize;if(r==t){let i=e+t*this.width;const a=(t+1)*this.width;for(;i<a&&this.map[i]<o;)i++;return i==a?s-1:this.map[i]}o=s}}static get(t){return Hu(t)||Vu(t,aN(t))}};function aN(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=lN(t),n=t.childCount,r=[];let o=0,s=null;const i=[];for(let d=0,c=e*n;d<c;d++)r[d]=0;for(let d=0,c=0;d<n;d++){const u=t.child(d);c++;for(let h=0;;h++){for(;o<r.length&&r[o]!=0;)o++;if(h==u.childCount)break;const b=u.child(h),{colspan:g,rowspan:y,colwidth:x}=b.attrs;for(let k=0;k<y;k++){if(k+d>=n){(s||(s=[])).push({type:"overlong_rowspan",pos:c,n:y-k});break}const E=o+k*e;for(let S=0;S<g;S++){r[E+S]==0?r[E+S]=c:(s||(s=[])).push({type:"collision",row:d,pos:c,n:g-S});const C=x&&x[S];if(C){const M=(E+S)%e*2,I=i[M];I==null||I!=C&&i[M+1]==1?(i[M]=C,i[M+1]=1):I==C&&i[M+1]++}}}o+=g,c+=b.nodeSize}const f=(d+1)*e;let p=0;for(;o<f;)r[o++]==0&&p++;p&&(s||(s=[])).push({type:"missing",row:d,n:p}),c++}(e===0||n===0)&&(s||(s=[])).push({type:"zero_sized"});const a=new tt(e,n,r,s);let l=!1;for(let d=0;!l&&d<i.length;d+=2)i[d]!=null&&i[d+1]<n&&(l=!0);return l&&dN(a,i,t),a}function lN(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const o=t.child(r);let s=0;if(n)for(let i=0;i<r;i++){const a=t.child(i);for(let l=0;l<a.childCount;l++){const d=a.child(l);i+d.attrs.rowspan>r&&(s+=d.attrs.colspan)}}for(let i=0;i<o.childCount;i++){const a=o.child(i);s+=a.attrs.colspan,a.attrs.rowspan>1&&(n=!0)}e==-1?e=s:e!=s&&(e=Math.max(e,s))}return e}function dN(t,e,n){t.problems||(t.problems=[]);const r={};for(let o=0;o<t.map.length;o++){const s=t.map[o];if(r[s])continue;r[s]=!0;const i=n.nodeAt(s);if(!i)throw new RangeError(`No cell with offset ${s} found`);let a=null;const l=i.attrs;for(let d=0;d<l.colspan;d++){const c=e[(o+d)%t.width*2];c!=null&&(!l.colwidth||l.colwidth[d]!=c)&&((a||(a=cN(l)))[d]=c)}a&&t.problems.unshift({type:"colwidth mismatch",pos:s,colwidth:a})}}function cN(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function Pt(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],o=r.spec.tableRole;o&&(e[o]=r)}}return e}const wr=new Ze("selectingCells");function qr(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function uN(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}function un(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function il(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=qr(e.$head)||fN(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function fN(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function Wu(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function pN(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function Uu(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function Vy(t,e,n){const r=t.node(-1),o=tt.get(r),s=t.start(-1),i=o.nextCell(t.pos-s,e,n);return i==null?null:t.node(0).resolve(s+i)}function Yr(t,e,n=1){const r={...t,colspan:t.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(o=>o>0)||(r.colwidth=null)),r}function Wy(t,e,n=1){const r={...t,colspan:t.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let o=0;o<n;o++)r.colwidth.splice(e,0,0)}return r}function hN(t,e,n){const r=Pt(e.type.schema).header_cell;for(let o=0;o<t.height;o++)if(e.nodeAt(t.map[n+o*t.width]).type!=r)return!1;return!0}var Ue=class Kn extends be{constructor(e,n=e){const r=e.node(-1),o=tt.get(r),s=e.start(-1),i=o.rectBetween(e.pos-s,n.pos-s),a=e.node(0),l=o.cellsInRect(i).filter(c=>c!=n.pos-s);l.unshift(n.pos-s);const d=l.map(c=>{const u=r.nodeAt(c);if(!u)throw new RangeError(`No cell with offset ${c} found`);const f=s+c+1;return new x0(a.resolve(f),a.resolve(f+u.content.size))});super(d[0].$from,d[0].$to,d),this.$anchorCell=e,this.$headCell=n}map(e,n){const r=e.resolve(n.map(this.$anchorCell.pos)),o=e.resolve(n.map(this.$headCell.pos));if(Wu(r)&&Wu(o)&&Uu(r,o)){const s=this.$anchorCell.node(-1)!=r.node(-1);return s&&this.isRowSelection()?Kn.rowSelection(r,o):s&&this.isColSelection()?Kn.colSelection(r,o):new Kn(r,o)}return me.between(r,o)}content(){const e=this.$anchorCell.node(-1),n=tt.get(e),r=this.$anchorCell.start(-1),o=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),s={},i=[];for(let l=o.top;l<o.bottom;l++){const d=[];for(let c=l*n.width+o.left,u=o.left;u<o.right;u++,c++){const f=n.map[c];if(s[f])continue;s[f]=!0;const p=n.findCell(f);let h=e.nodeAt(f);if(!h)throw new RangeError(`No cell with offset ${f} found`);const b=o.left-p.left,g=p.right-o.right;if(b>0||g>0){let y=h.attrs;if(b>0&&(y=Yr(y,0,b)),g>0&&(y=Yr(y,y.colspan-g,g)),p.left<o.left){if(h=h.type.createAndFill(y),!h)throw new RangeError(`Could not create cell with attrs ${JSON.stringify(y)}`)}else h=h.type.create(y,h.content)}if(p.top<o.top||p.bottom>o.bottom){const y={...h.attrs,rowspan:Math.min(p.bottom,o.bottom)-Math.max(p.top,o.top)};p.top<o.top?h=h.type.createAndFill(y):h=h.type.create(y,h.content)}d.push(h)}i.push(e.child(l).copy(K.from(d)))}const a=this.isColSelection()&&this.isRowSelection()?e:i;return new te(K.from(a),1,1)}replace(e,n=te.empty){const r=e.steps.length,o=this.ranges;for(let i=0;i<o.length;i++){const{$from:a,$to:l}=o[i],d=e.mapping.slice(r);e.replace(d.map(a.pos),d.map(l.pos),i?te.empty:n)}const s=be.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);s&&e.setSelection(s)}replaceWith(e,n){this.replace(e,new te(K.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),r=tt.get(n),o=this.$anchorCell.start(-1),s=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-o,this.$headCell.pos-o));for(let i=0;i<s.length;i++)e(n.nodeAt(s[i]),o+s[i])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,o=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,o)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const r=e.node(-1),o=tt.get(r),s=e.start(-1),i=o.findCell(e.pos-s),a=o.findCell(n.pos-s),l=e.node(0);return i.top<=a.top?(i.top>0&&(e=l.resolve(s+o.map[i.left])),a.bottom<o.height&&(n=l.resolve(s+o.map[o.width*(o.height-1)+a.right-1]))):(a.top>0&&(n=l.resolve(s+o.map[a.left])),i.bottom<o.height&&(e=l.resolve(s+o.map[o.width*(o.height-1)+i.right-1]))),new Kn(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=tt.get(e),r=this.$anchorCell.start(-1),o=n.colCount(this.$anchorCell.pos-r),s=n.colCount(this.$headCell.pos-r);if(Math.min(o,s)>0)return!1;const i=o+this.$anchorCell.nodeAfter.attrs.colspan,a=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(i,a)==n.width}eq(e){return e instanceof Kn&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const r=e.node(-1),o=tt.get(r),s=e.start(-1),i=o.findCell(e.pos-s),a=o.findCell(n.pos-s),l=e.node(0);return i.left<=a.left?(i.left>0&&(e=l.resolve(s+o.map[i.top*o.width])),a.right<o.width&&(n=l.resolve(s+o.map[o.width*(a.top+1)-1]))):(a.left>0&&(n=l.resolve(s+o.map[a.top*o.width])),i.right<o.width&&(e=l.resolve(s+o.map[o.width*(i.top+1)-1]))),new Kn(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new Kn(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new Kn(e.resolve(n),e.resolve(r))}getBookmark(){return new mN(this.$anchorCell.pos,this.$headCell.pos)}};Ue.prototype.visible=!1,be.jsonID("cell",Ue);var mN=class av{constructor(e,n){this.anchor=e,this.head=n}map(e){return new av(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&Uu(n,r)?new Ue(n,r):be.near(r,1)}};function gN(t){if(!(t.selection instanceof Ue))return null;const e=[];return t.selection.forEachCell((n,r)=>{e.push(xt.node(r,r+n.nodeSize,{class:"selectedCell"}))}),We.create(t.doc,e)}function bN({$from:t,$to:e}){if(t.pos==e.pos||t.pos<e.pos-6)return!1;let n=t.pos,r=e.pos,o=t.depth;for(;o>=0&&!(t.after(o+1)<t.end(o));o--,n++);for(let s=e.depth;s>=0&&!(e.before(s+1)>e.start(s));s--,r--);return n==r&&/row|table/.test(t.node(o).type.spec.tableRole)}function yN({$from:t,$to:e}){let n,r;for(let o=t.depth;o>0;o--){const s=t.node(o);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){n=s;break}}for(let o=e.depth;o>0;o--){const s=e.node(o);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){r=s;break}}return n!==r&&e.parentOffset===0}function vN(t,e,n){const r=(e||t).selection,o=(e||t).doc;let s,i;if(r instanceof pe&&(i=r.node.type.spec.tableRole)){if(i=="cell"||i=="header_cell")s=Ue.create(o,r.from);else if(i=="row"){const a=o.resolve(r.from+1);s=Ue.rowSelection(a,a)}else if(!n){const a=tt.get(r.node),l=r.from+1,d=l+a.map[a.width*a.height-1];s=Ue.create(o,l+1,d)}}else r instanceof me&&bN(r)?s=me.create(o,r.from):r instanceof me&&yN(r)&&(s=me.create(o,r.$from.start(),r.$from.end()));return s&&(e||(e=t.tr)).setSelection(s),e}const xN=new Ze("fix-tables");function Uy(t,e,n,r){const o=t.childCount,s=e.childCount;e:for(let i=0,a=0;i<s;i++){const l=e.child(i);for(let d=a,c=Math.min(o,i+3);d<c;d++)if(t.child(d)==l){a=d+1,n+=l.nodeSize;continue e}r(l,n),a<o&&t.child(a).sameMarkup(l)?Uy(t.child(a),l,n+1,r):l.nodesBetween(0,l.content.size,r,n+1),n+=l.nodeSize}}function Gy(t,e){let n;const r=(o,s)=>{o.type.spec.tableRole=="table"&&(n=$N(t,o,s,n))};return e?e.doc!=t.doc&&Uy(e.doc,t.doc,0,r):t.doc.descendants(r),n}function $N(t,e,n,r){const o=tt.get(e);if(!o.problems)return r;r||(r=t.tr);const s=[];for(let l=0;l<o.height;l++)s.push(0);for(let l=0;l<o.problems.length;l++){const d=o.problems[l];if(d.type=="collision"){const c=e.nodeAt(d.pos);if(!c)continue;const u=c.attrs;for(let f=0;f<u.rowspan;f++)s[d.row+f]+=d.n;r.setNodeMarkup(r.mapping.map(n+1+d.pos),null,Yr(u,u.colspan-d.n,d.n))}else if(d.type=="missing")s[d.row]+=d.n;else if(d.type=="overlong_rowspan"){const c=e.nodeAt(d.pos);if(!c)continue;r.setNodeMarkup(r.mapping.map(n+1+d.pos),null,{...c.attrs,rowspan:c.attrs.rowspan-d.n})}else if(d.type=="colwidth mismatch"){const c=e.nodeAt(d.pos);if(!c)continue;r.setNodeMarkup(r.mapping.map(n+1+d.pos),null,{...c.attrs,colwidth:d.colwidth})}else if(d.type=="zero_sized"){const c=r.mapping.map(n);r.delete(c,c+e.nodeSize)}}let i,a;for(let l=0;l<s.length;l++)s[l]&&(i==null&&(i=l),a=l);for(let l=0,d=n+1;l<o.height;l++){const c=e.child(l),u=d+c.nodeSize,f=s[l];if(f>0){let p="cell";c.firstChild&&(p=c.firstChild.type.spec.tableRole);const h=[];for(let g=0;g<f;g++){const y=Pt(t.schema)[p].createAndFill();y&&h.push(y)}const b=(l==0||i==l-1)&&a==l?d+1:u-1;r.insert(r.mapping.map(b),h)}d=u}return r.setMeta(xN,{fixTables:!0})}function Sn(t){const e=t.selection,n=il(t),r=n.node(-1),o=n.start(-1),s=tt.get(r);return{...e instanceof Ue?s.rectBetween(e.$anchorCell.pos-o,e.$headCell.pos-o):s.findCell(n.pos-o),tableStart:o,map:s,table:r}}function Ky(t,{map:e,tableStart:n,table:r},o){let s=o>0?-1:0;hN(e,r,o+s)&&(s=o==0||o==e.width?null:0);for(let i=0;i<e.height;i++){const a=i*e.width+o;if(o>0&&o<e.width&&e.map[a-1]==e.map[a]){const l=e.map[a],d=r.nodeAt(l);t.setNodeMarkup(t.mapping.map(n+l),null,Wy(d.attrs,o-e.colCount(l))),i+=d.attrs.rowspan-1}else{const l=s==null?Pt(r.type.schema).cell:r.nodeAt(e.map[a+s]).type,d=e.positionAt(i,o,r);t.insert(t.mapping.map(n+d),l.createAndFill())}}return t}function wN(t,e){if(!un(t))return!1;if(e){const n=Sn(t);e(Ky(t.tr,n,n.left))}return!0}function kN(t,e){if(!un(t))return!1;if(e){const n=Sn(t);e(Ky(t.tr,n,n.right))}return!0}function SN(t,{map:e,table:n,tableStart:r},o){const s=t.mapping.maps.length;for(let i=0;i<e.height;){const a=i*e.width+o,l=e.map[a],d=n.nodeAt(l),c=d.attrs;if(o>0&&e.map[a-1]==l||o<e.width-1&&e.map[a+1]==l)t.setNodeMarkup(t.mapping.slice(s).map(r+l),null,Yr(c,o-e.colCount(l)));else{const u=t.mapping.slice(s).map(r+l);t.delete(u,u+d.nodeSize)}i+=c.rowspan}}function EN(t,e){if(!un(t))return!1;if(e){const n=Sn(t),r=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let o=n.right-1;SN(r,n,o),o!=n.left;o--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw new RangeError("No table found");n.table=s,n.map=tt.get(s)}e(r)}return!0}function CN(t,e,n){var r;const o=Pt(e.type.schema).header_cell;for(let s=0;s<t.width;s++)if(((r=e.nodeAt(t.map[s+n*t.width]))===null||r===void 0?void 0:r.type)!=o)return!1;return!0}function qy(t,{map:e,tableStart:n,table:r},o){let s=n;for(let d=0;d<o;d++)s+=r.child(d).nodeSize;const i=[];let a=o>0?-1:0;CN(e,r,o+a)&&(a=o==0||o==e.height?null:0);for(let d=0,c=e.width*o;d<e.width;d++,c++)if(o>0&&o<e.height&&e.map[c]==e.map[c-e.width]){const u=e.map[c],f=r.nodeAt(u).attrs;t.setNodeMarkup(n+u,null,{...f,rowspan:f.rowspan+1}),d+=f.colspan-1}else{var l;const u=a==null?Pt(r.type.schema).cell:(l=r.nodeAt(e.map[c+a*e.width]))===null||l===void 0?void 0:l.type,f=u==null?void 0:u.createAndFill();f&&i.push(f)}return t.insert(s,Pt(r.type.schema).row.create(null,i)),t}function TN(t,e){if(!un(t))return!1;if(e){const n=Sn(t);e(qy(t.tr,n,n.top))}return!0}function NN(t,e){if(!un(t))return!1;if(e){const n=Sn(t);e(qy(t.tr,n,n.bottom))}return!0}function MN(t,{map:e,table:n,tableStart:r},o){let s=0;for(let d=0;d<o;d++)s+=n.child(d).nodeSize;const i=s+n.child(o).nodeSize,a=t.mapping.maps.length;t.delete(s+r,i+r);const l=new Set;for(let d=0,c=o*e.width;d<e.width;d++,c++){const u=e.map[c];if(!l.has(u)){if(l.add(u),o>0&&u==e.map[c-e.width]){const f=n.nodeAt(u).attrs;t.setNodeMarkup(t.mapping.slice(a).map(u+r),null,{...f,rowspan:f.rowspan-1}),d+=f.colspan-1}else if(o<e.height&&u==e.map[c+e.width]){const f=n.nodeAt(u),p=f.attrs,h=f.type.create({...p,rowspan:f.attrs.rowspan-1},f.content),b=e.positionAt(o+1,d,n);t.insert(t.mapping.slice(a).map(r+b),h),d+=p.colspan-1}}}}function AN(t,e){if(!un(t))return!1;if(e){const n=Sn(t),r=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let o=n.bottom-1;MN(r,n,o),o!=n.top;o--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw new RangeError("No table found");n.table=s,n.map=tt.get(n.table)}e(r)}return!0}function Yy(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function PN({width:t,height:e,map:n},r){let o=r.top*t+r.left,s=o,i=(r.bottom-1)*t+r.left,a=o+(r.right-r.left-1);for(let l=r.top;l<r.bottom;l++){if(r.left>0&&n[s]==n[s-1]||r.right<t&&n[a]==n[a+1])return!0;s+=t,a+=t}for(let l=r.left;l<r.right;l++){if(r.top>0&&n[o]==n[o-t]||r.bottom<e&&n[i]==n[i+t])return!0;o++,i++}return!1}function Jy(t,e){const n=t.selection;if(!(n instanceof Ue)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=Sn(t),{map:o}=r;if(PN(o,r))return!1;if(e){const s=t.tr,i={};let a=K.empty,l,d;for(let c=r.top;c<r.bottom;c++)for(let u=r.left;u<r.right;u++){const f=o.map[c*o.width+u],p=r.table.nodeAt(f);if(!(i[f]||!p))if(i[f]=!0,l==null)l=f,d=p;else{Yy(p)||(a=a.append(p.content));const h=s.mapping.map(f+r.tableStart);s.delete(h,h+p.nodeSize)}}if(l==null||d==null)return!0;if(s.setNodeMarkup(l+r.tableStart,null,{...Wy(d.attrs,d.attrs.colspan,r.right-r.left-d.attrs.colspan),rowspan:r.bottom-r.top}),a.size>0){const c=l+1+d.content.size,u=Yy(d)?l+1:c;s.replaceWith(u+r.tableStart,c+r.tableStart,a)}s.setSelection(new Ue(s.doc.resolve(l+r.tableStart))),e(s)}return!0}function Xy(t,e){const n=Pt(t.schema);return ON(({node:r})=>n[r.type.spec.tableRole])(t,e)}function ON(t){return(e,n)=>{const r=e.selection;let o,s;if(r instanceof Ue){if(r.$anchorCell.pos!=r.$headCell.pos)return!1;o=r.$anchorCell.nodeAfter,s=r.$anchorCell.pos}else{var i;if(o=uN(r.$from),!o)return!1;s=(i=qr(r.$from))===null||i===void 0?void 0:i.pos}if(o==null||s==null||o.attrs.colspan==1&&o.attrs.rowspan==1)return!1;if(n){let a=o.attrs;const l=[],d=a.colwidth;a.rowspan>1&&(a={...a,rowspan:1}),a.colspan>1&&(a={...a,colspan:1});const c=Sn(e),u=e.tr;for(let p=0;p<c.right-c.left;p++)l.push(d?{...a,colwidth:d&&d[p]?[d[p]]:null}:a);let f;for(let p=c.top;p<c.bottom;p++){let h=c.map.positionAt(p,c.left,c.table);p==c.top&&(h+=o.nodeSize);for(let b=c.left,g=0;b<c.right;b++,g++)b==c.left&&p==c.top||u.insert(f=u.mapping.map(h+c.tableStart,1),t({node:o,row:p,col:b}).createAndFill(l[g]))}u.setNodeMarkup(s,t({node:o,row:c.top,col:c.left}),l[0]),r instanceof Ue&&u.setSelection(new Ue(u.doc.resolve(r.$anchorCell.pos),f?u.doc.resolve(f):void 0)),n(u)}return!0}}function IN(t,e){return function(n,r){if(!un(n))return!1;const o=il(n);if(o.nodeAfter.attrs[t]===e)return!1;if(r){const s=n.tr;n.selection instanceof Ue?n.selection.forEachCell((i,a)=>{i.attrs[t]!==e&&s.setNodeMarkup(a,null,{...i.attrs,[t]:e})}):s.setNodeMarkup(o.pos,null,{...o.nodeAfter.attrs,[t]:e}),r(s)}return!0}}function LN(t){return function(e,n){if(!un(e))return!1;if(n){const r=Pt(e.schema),o=Sn(e),s=e.tr,i=o.map.cellsInRect(t=="column"?{left:o.left,top:0,right:o.right,bottom:o.map.height}:t=="row"?{left:0,top:o.top,right:o.map.width,bottom:o.bottom}:o),a=i.map(l=>o.table.nodeAt(l));for(let l=0;l<i.length;l++)a[l].type==r.header_cell&&s.setNodeMarkup(o.tableStart+i[l],r.cell,a[l].attrs);if(s.steps.length===0)for(let l=0;l<i.length;l++)s.setNodeMarkup(o.tableStart+i[l],r.header_cell,a[l].attrs);n(s)}return!0}}function Zy(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let o=0;o<r.length;o++){const s=e.table.nodeAt(r[o]);if(s&&s.type!==n.header_cell)return!1}return!0}function Vs(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?LN(t):function(n,r){if(!un(n))return!1;if(r){const o=Pt(n.schema),s=Sn(n),i=n.tr,a=Zy("row",s,o),l=Zy("column",s,o),d=(t==="column"?a:t==="row"&&l)?1:0,c=t=="column"?{left:0,top:d,right:1,bottom:s.map.height}:t=="row"?{left:d,top:0,right:s.map.width,bottom:1}:s,u=t=="column"?l?o.cell:o.header_cell:t=="row"?a?o.cell:o.header_cell:o.cell;s.map.cellsInRect(c).forEach(f=>{const p=f+s.tableStart,h=i.doc.nodeAt(p);h&&i.setNodeMarkup(p,u,h.attrs)}),r(i)}return!0}}Vs("row",{useDeprecatedLogic:!0}),Vs("column",{useDeprecatedLogic:!0});const DN=Vs("cell",{useDeprecatedLogic:!0});function jN(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let r=t.index(-1)-1,o=t.before();r>=0;r--){const s=t.node(-1).child(r),i=s.lastChild;if(i)return o-1-i.nodeSize;o-=s.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let r=t.indexAfter(-1),o=t.after();r<n.childCount;r++){const s=n.child(r);if(s.childCount)return o+1;o+=s.nodeSize}}return null}function Qy(t){return function(e,n){if(!un(e))return!1;const r=jN(il(e),t);if(r==null)return!1;if(n){const o=e.doc.resolve(r);n(e.tr.setSelection(me.between(o,pN(o))).scrollIntoView())}return!0}}function RN(t,e){const n=t.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function al(t,e){const n=t.selection;if(!(n instanceof Ue))return!1;if(e){const r=t.tr,o=Pt(t.schema).cell.createAndFill().content;n.forEachCell((s,i)=>{s.content.eq(o)||r.replace(r.mapping.map(i+1),r.mapping.map(i+s.nodeSize-1),new te(o,0,0))}),r.docChanged&&e(r)}return!0}function _N(t){if(t.size===0)return null;let{content:e,openStart:n,openEnd:r}=t;for(;e.childCount==1&&(n>0&&r>0||e.child(0).type.spec.tableRole=="table");)n--,r--,e=e.child(0).content;const o=e.child(0),s=o.type.spec.tableRole,i=o.type.schema,a=[];if(s=="row")for(let l=0;l<e.childCount;l++){let d=e.child(l).content;const c=l?0:Math.max(0,n-1),u=l<e.childCount-1?0:Math.max(0,r-1);(c||u)&&(d=Gu(Pt(i).row,new te(d,c,u)).content),a.push(d)}else if(s=="cell"||s=="header_cell")a.push(n||r?Gu(Pt(i).row,new te(e,n,r)).content:e);else return null;return FN(i,a)}function FN(t,e){const n=[];for(let o=0;o<e.length;o++){const s=e[o];for(let i=s.childCount-1;i>=0;i--){const{rowspan:a,colspan:l}=s.child(i).attrs;for(let d=o;d<o+a;d++)n[d]=(n[d]||0)+l}}let r=0;for(let o=0;o<n.length;o++)r=Math.max(r,n[o]);for(let o=0;o<n.length;o++)if(o>=e.length&&e.push(K.empty),n[o]<r){const s=Pt(t).cell.createAndFill(),i=[];for(let a=n[o];a<r;a++)i.push(s);e[o]=e[o].append(K.from(i))}return{height:e.length,width:r,rows:e}}function Gu(t,e){const n=t.createAndFill();return new lc(n).replace(0,n.content.size,e).doc}function zN({width:t,height:e,rows:n},r,o){if(t!=r){const s=[],i=[];for(let a=0;a<n.length;a++){const l=n[a],d=[];for(let c=s[a]||0,u=0;c<r;u++){let f=l.child(u%l.childCount);c+f.attrs.colspan>r&&(f=f.type.createChecked(Yr(f.attrs,f.attrs.colspan,c+f.attrs.colspan-r),f.content)),d.push(f),c+=f.attrs.colspan;for(let p=1;p<f.attrs.rowspan;p++)s[a+p]=(s[a+p]||0)+f.attrs.colspan}i.push(K.from(d))}n=i,t=r}if(e!=o){const s=[];for(let i=0,a=0;i<o;i++,a++){const l=[],d=n[a%e];for(let c=0;c<d.childCount;c++){let u=d.child(c);i+u.attrs.rowspan>o&&(u=u.type.create({...u.attrs,rowspan:Math.max(1,o-u.attrs.rowspan)},u.content)),l.push(u)}s.push(K.from(l))}n=s,e=o}return{width:t,height:e,rows:n}}function BN(t,e,n,r,o,s,i){const a=t.doc.type.schema,l=Pt(a);let d,c;if(o>e.width)for(let u=0,f=0;u<e.height;u++){const p=n.child(u);f+=p.nodeSize;const h=[];let b;p.lastChild==null||p.lastChild.type==l.cell?b=d||(d=l.cell.createAndFill()):b=c||(c=l.header_cell.createAndFill());for(let g=e.width;g<o;g++)h.push(b);t.insert(t.mapping.slice(i).map(f-1+r),h)}if(s>e.height){const u=[];for(let h=0,b=(e.height-1)*e.width;h<Math.max(e.width,o);h++){const g=h>=e.width?!1:n.nodeAt(e.map[b+h]).type==l.header_cell;u.push(g?c||(c=l.header_cell.createAndFill()):d||(d=l.cell.createAndFill()))}const f=l.row.create(null,K.from(u)),p=[];for(let h=e.height;h<s;h++)p.push(f);t.insert(t.mapping.slice(i).map(r+n.nodeSize-2),p)}return!!(d||c)}function e2(t,e,n,r,o,s,i,a){if(i==0||i==e.height)return!1;let l=!1;for(let d=o;d<s;d++){const c=i*e.width+d,u=e.map[c];if(e.map[c-e.width]==u){l=!0;const f=n.nodeAt(u),{top:p,left:h}=e.findCell(u);t.setNodeMarkup(t.mapping.slice(a).map(u+r),null,{...f.attrs,rowspan:i-p}),t.insert(t.mapping.slice(a).map(e.positionAt(i,h,n)),f.type.createAndFill({...f.attrs,rowspan:p+f.attrs.rowspan-i})),d+=f.attrs.colspan-1}}return l}function t2(t,e,n,r,o,s,i,a){if(i==0||i==e.width)return!1;let l=!1;for(let d=o;d<s;d++){const c=d*e.width+i,u=e.map[c];if(e.map[c-1]==u){l=!0;const f=n.nodeAt(u),p=e.colCount(u),h=t.mapping.slice(a).map(u+r);t.setNodeMarkup(h,null,Yr(f.attrs,i-p,f.attrs.colspan-(i-p))),t.insert(h+f.nodeSize,f.type.createAndFill(Yr(f.attrs,0,i-p))),d+=f.attrs.rowspan-1}}return l}function n2(t,e,n,r,o){let s=n?t.doc.nodeAt(n-1):t.doc;if(!s)throw new Error("No table found");let i=tt.get(s);const{top:a,left:l}=r,d=l+o.width,c=a+o.height,u=t.tr;let f=0;function p(){if(s=n?u.doc.nodeAt(n-1):u.doc,!s)throw new Error("No table found");i=tt.get(s),f=u.mapping.maps.length}BN(u,i,s,n,d,c,f)&&p(),e2(u,i,s,n,l,d,a,f)&&p(),e2(u,i,s,n,l,d,c,f)&&p(),t2(u,i,s,n,a,c,l,f)&&p(),t2(u,i,s,n,a,c,d,f)&&p();for(let h=a;h<c;h++){const b=i.positionAt(h,l,s),g=i.positionAt(h,d,s);u.replace(u.mapping.slice(f).map(b+n),u.mapping.slice(f).map(g+n),new te(o.rows[h-a],0,0))}p(),u.setSelection(new Ue(u.doc.resolve(n+i.positionAt(a,l,s)),u.doc.resolve(n+i.positionAt(c-1,d-1,s)))),e(u)}const HN=Wc({ArrowLeft:dl("horiz",-1),ArrowRight:dl("horiz",1),ArrowUp:dl("vert",-1),ArrowDown:dl("vert",1),"Shift-ArrowLeft":cl("horiz",-1),"Shift-ArrowRight":cl("horiz",1),"Shift-ArrowUp":cl("vert",-1),"Shift-ArrowDown":cl("vert",1),Backspace:al,"Mod-Backspace":al,Delete:al,"Mod-Delete":al});function ll(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function dl(t,e){return(n,r,o)=>{if(!o)return!1;const s=n.selection;if(s instanceof Ue)return ll(n,r,be.near(s.$headCell,e));if(t!="horiz"&&!s.empty)return!1;const i=r2(o,t,e);if(i==null)return!1;if(t=="horiz")return ll(n,r,be.near(n.doc.resolve(s.head+e),e));{const a=n.doc.resolve(i),l=Vy(a,t,e);let d;return l?d=be.near(l,1):e<0?d=be.near(n.doc.resolve(a.before(-1)),-1):d=be.near(n.doc.resolve(a.after(-1)),1),ll(n,r,d)}}}function cl(t,e){return(n,r,o)=>{if(!o)return!1;const s=n.selection;let i;if(s instanceof Ue)i=s;else{const l=r2(o,t,e);if(l==null)return!1;i=new Ue(n.doc.resolve(l))}const a=Vy(i.$headCell,t,e);return a?ll(n,r,new Ue(i.$anchorCell,a)):!1}}function VN(t,e){const n=t.state.doc,r=qr(n.resolve(e));return r?(t.dispatch(t.state.tr.setSelection(new Ue(r))),!0):!1}function WN(t,e,n){if(!un(t.state))return!1;let r=_N(n);const o=t.state.selection;if(o instanceof Ue){r||(r={width:1,height:1,rows:[K.from(Gu(Pt(t.state.schema).cell,n))]});const s=o.$anchorCell.node(-1),i=o.$anchorCell.start(-1),a=tt.get(s).rectBetween(o.$anchorCell.pos-i,o.$headCell.pos-i);return r=zN(r,a.right-a.left,a.bottom-a.top),n2(t.state,t.dispatch,i,a,r),!0}else if(r){const s=il(t.state),i=s.start(-1);return n2(t.state,t.dispatch,i,tt.get(s.node(-1)).findCell(s.pos-i),r),!0}else return!1}function UN(t,e){var n;if(e.button!=0||e.ctrlKey||e.metaKey)return;const r=o2(t,e.target);let o;if(e.shiftKey&&t.state.selection instanceof Ue)s(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&(o=qr(t.state.selection.$anchor))!=null&&((n=Ku(t,e))===null||n===void 0?void 0:n.pos)!=o.pos)s(o,e),e.preventDefault();else if(!r)return;function s(l,d){let c=Ku(t,d);const u=wr.getState(t.state)==null;if(!c||!Uu(l,c))if(u)c=l;else return;const f=new Ue(l,c);if(u||!t.state.selection.eq(f)){const p=t.state.tr.setSelection(f);u&&p.setMeta(wr,l.pos),t.dispatch(p)}}function i(){t.root.removeEventListener("mouseup",i),t.root.removeEventListener("dragstart",i),t.root.removeEventListener("mousemove",a),wr.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(wr,-1))}function a(l){const d=l,c=wr.getState(t.state);let u;if(c!=null)u=t.state.doc.resolve(c);else if(o2(t,d.target)!=r&&(u=Ku(t,e),!u))return i();u&&s(u,d)}t.root.addEventListener("mouseup",i),t.root.addEventListener("dragstart",i),t.root.addEventListener("mousemove",a)}function r2(t,e,n){if(!(t.state.selection instanceof me))return null;const{$head:r}=t.state.selection;for(let o=r.depth-1;o>=0;o--){const s=r.node(o);if((n<0?r.index(o):r.indexAfter(o))!=(n<0?0:s.childCount))return null;if(s.type.spec.tableRole=="cell"||s.type.spec.tableRole=="header_cell"){const i=r.before(o),a=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(a)?i:null}}return null}function o2(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function Ku(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});if(!n)return null;let{inside:r,pos:o}=n;return r>=0&&qr(t.state.doc.resolve(r))||qr(t.state.doc.resolve(o))}var GN=class{constructor(e,n){this.node=e,this.defaultCellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${n}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),qu(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,qu(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function qu(t,e,n,r,o,s){let i=0,a=!0,l=e.firstChild;const d=t.firstChild;if(d){for(let u=0,f=0;u<d.childCount;u++){const{colspan:p,colwidth:h}=d.child(u).attrs;for(let b=0;b<p;b++,f++){const g=o==f?s:h&&h[b],y=g?g+"px":"";if(i+=g||r,g||(a=!1),l)l.style.width!=y&&(l.style.width=y),l=l.nextSibling;else{const x=document.createElement("col");x.style.width=y,e.appendChild(x)}}}for(;l;){var c;const u=l.nextSibling;(c=l.parentNode)===null||c===void 0||c.removeChild(l),l=u}a?(n.style.width=i+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=i+"px")}}const Kt=new Ze("tableColumnResizing");function KN({handleWidth:t=5,cellMinWidth:e=25,defaultCellMinWidth:n=100,View:r=GN,lastColumnResizable:o=!0}={}){const s=new Ke({key:Kt,state:{init(i,a){var l;const d=(l=s.spec)===null||l===void 0||(l=l.props)===null||l===void 0?void 0:l.nodeViews,c=Pt(a.schema).table.name;return r&&d&&(d[c]=(u,f)=>new r(u,n,f)),new qN(-1,!1)},apply(i,a){return a.apply(i)}},props:{attributes:i=>{const a=Kt.getState(i);return a&&a.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(i,a)=>{YN(i,a,t,o)},mouseleave:i=>{JN(i)},mousedown:(i,a)=>{XN(i,a,e,n)}},decorations:i=>{const a=Kt.getState(i);if(a&&a.activeHandle>-1)return nM(i,a.activeHandle)},nodeViews:{}}});return s}var qN=class yl{constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){const n=this,r=e.getMeta(Kt);if(r&&r.setHandle!=null)return new yl(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new yl(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&e.docChanged){let o=e.mapping.map(n.activeHandle,-1);return Wu(e.doc.resolve(o))||(o=-1),new yl(o,n.dragging)}return n}};function YN(t,e,n,r){if(!t.editable)return;const o=Kt.getState(t.state);if(o&&!o.dragging){const s=QN(e.target);let i=-1;if(s){const{left:a,right:l}=s.getBoundingClientRect();e.clientX-a<=n?i=s2(t,e,"left",n):l-e.clientX<=n&&(i=s2(t,e,"right",n))}if(i!=o.activeHandle){if(!r&&i!==-1){const a=t.state.doc.resolve(i),l=a.node(-1),d=tt.get(l),c=a.start(-1);if(d.colCount(a.pos-c)+a.nodeAfter.attrs.colspan-1==d.width-1)return}a2(t,i)}}}function JN(t){if(!t.editable)return;const e=Kt.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&a2(t,-1)}function XN(t,e,n,r){var o;if(!t.editable)return!1;const s=(o=t.dom.ownerDocument.defaultView)!==null&&o!==void 0?o:window,i=Kt.getState(t.state);if(!i||i.activeHandle==-1||i.dragging)return!1;const a=t.state.doc.nodeAt(i.activeHandle),l=ZN(t,i.activeHandle,a.attrs);t.dispatch(t.state.tr.setMeta(Kt,{setDragging:{startX:e.clientX,startWidth:l}}));function d(u){s.removeEventListener("mouseup",d),s.removeEventListener("mousemove",c);const f=Kt.getState(t.state);f!=null&&f.dragging&&(eM(t,f.activeHandle,i2(f.dragging,u,n)),t.dispatch(t.state.tr.setMeta(Kt,{setDragging:null})))}function c(u){if(!u.which)return d(u);const f=Kt.getState(t.state);if(f&&f.dragging){const p=i2(f.dragging,u,n);l2(t,f.activeHandle,p,r)}}return l2(t,i.activeHandle,l,r),s.addEventListener("mouseup",d),s.addEventListener("mousemove",c),e.preventDefault(),!0}function ZN(t,e,{colspan:n,colwidth:r}){const o=r&&r[r.length-1];if(o)return o;const s=t.domAtPos(e);let i=s.node.childNodes[s.offset].offsetWidth,a=n;if(r)for(let l=0;l<n;l++)r[l]&&(i-=r[l],a--);return i/a}function QN(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function s2(t,e,n,r){const o=n=="right"?-r:r,s=t.posAtCoords({left:e.clientX+o,top:e.clientY});if(!s)return-1;const{pos:i}=s,a=qr(t.state.doc.resolve(i));if(!a)return-1;if(n=="right")return a.pos;const l=tt.get(a.node(-1)),d=a.start(-1),c=l.map.indexOf(a.pos-d);return c%l.width==0?-1:d+l.map[c-1]}function i2(t,e,n){const r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function a2(t,e){t.dispatch(t.state.tr.setMeta(Kt,{setHandle:e}))}function eM(t,e,n){const r=t.state.doc.resolve(e),o=r.node(-1),s=tt.get(o),i=r.start(-1),a=s.colCount(r.pos-i)+r.nodeAfter.attrs.colspan-1,l=t.state.tr;for(let d=0;d<s.height;d++){const c=d*s.width+a;if(d&&s.map[c]==s.map[c-s.width])continue;const u=s.map[c],f=o.nodeAt(u).attrs,p=f.colspan==1?0:a-s.colCount(u);if(f.colwidth&&f.colwidth[p]==n)continue;const h=f.colwidth?f.colwidth.slice():tM(f.colspan);h[p]=n,l.setNodeMarkup(i+u,null,{...f,colwidth:h})}l.docChanged&&t.dispatch(l)}function l2(t,e,n,r){const o=t.state.doc.resolve(e),s=o.node(-1),i=o.start(-1),a=tt.get(s).colCount(o.pos-i)+o.nodeAfter.attrs.colspan-1;let l=t.domAtPos(o.start(-1)).node;for(;l&&l.nodeName!="TABLE";)l=l.parentNode;l&&qu(s,l.firstChild,l,r,a,n)}function tM(t){return Array(t).fill(0)}function nM(t,e){const n=[],r=t.doc.resolve(e),o=r.node(-1);if(!o)return We.empty;const s=tt.get(o),i=r.start(-1),a=s.colCount(r.pos-i)+r.nodeAfter.attrs.colspan-1;for(let d=0;d<s.height;d++){const c=a+d*s.width;if((a==s.width-1||s.map[c]!=s.map[c+1])&&(d==0||s.map[c]!=s.map[c-s.width])){var l;const u=s.map[c],f=i+u+o.nodeAt(u).nodeSize-1,p=document.createElement("div");p.className="column-resize-handle",!((l=Kt.getState(t))===null||l===void 0)&&l.dragging&&n.push(xt.node(i+u,i+u+o.nodeAt(u).nodeSize,{class:"column-resize-dragging"})),n.push(xt.widget(f,p))}}return We.create(t.doc,n)}function rM({allowTableNodeSelection:t=!1}={}){return new Ke({key:wr,state:{init(){return null},apply(e,n){const r=e.getMeta(wr);if(r!=null)return r==-1?null:r;if(n==null||!e.docChanged)return n;const{deleted:o,pos:s}=e.mapping.mapResult(n);return o?null:s}},props:{decorations:gN,handleDOMEvents:{mousedown:UN},createSelectionBetween(e){return wr.getState(e.state)!=null?e.state.selection:null},handleTripleClick:VN,handleKeyDown:HN,handlePaste:WN},appendTransaction(e,n,r){return vN(r,Gy(r,n),t)}})}var d2=ht.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{var e,n;const r=t.getAttribute("colwidth"),o=r?r.split(",").map(s=>parseInt(s,10)):null;if(!o){const s=(e=t.closest("table"))==null?void 0:e.querySelectorAll("colgroup > col"),i=Array.from(((n=t.parentElement)==null?void 0:n.children)||[]).indexOf(t);if(i&&i>-1&&s&&s[i]){const a=s[i].getAttribute("width");return a?[parseInt(a,10)]:null}}return o}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",De(this.options.HTMLAttributes,t),0]}}),c2=ht.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",De(this.options.HTMLAttributes,t),0]}}),u2=ht.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",De(this.options.HTMLAttributes,t),0]}});function Yu(t,e){return e?["width",`${Math.max(e,t)}px`]:["min-width",`${t}px`]}function f2(t,e,n,r,o,s){var i;let a=0,l=!0,d=e.firstChild;const c=t.firstChild;if(c!==null)for(let f=0,p=0;f<c.childCount;f+=1){const{colspan:h,colwidth:b}=c.child(f).attrs;for(let g=0;g<h;g+=1,p+=1){const y=o===p?s:b&&b[g],x=y?`${y}px`:"";if(a+=y||r,y||(l=!1),d){if(d.style.width!==x){const[k,E]=Yu(r,y);d.style.setProperty(k,E)}d=d.nextSibling}else{const k=document.createElement("col"),[E,S]=Yu(r,y);k.style.setProperty(E,S),e.appendChild(k)}}}for(;d;){const f=d.nextSibling;(i=d.parentNode)==null||i.removeChild(d),d=f}const u=t.attrs.style&&typeof t.attrs.style=="string"&&/\bwidth\s*:/i.test(t.attrs.style);l&&!u?(n.style.width=`${a}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${a}px`)}var oM=class{constructor(t,e){this.node=t,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),t.attrs.style&&(this.table.style.cssText=t.attrs.style),this.colgroup=this.table.appendChild(document.createElement("colgroup")),f2(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!==this.node.type?!1:(this.node=t,f2(t,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(t){const e=t.target,n=this.dom.contains(e),r=this.contentDOM.contains(e);return!!(n&&!r&&(t.type==="attributes"||t.type==="childList"||t.type==="characterData"))}};function sM(t,e,n,r){let o=0,s=!0;const i=[],a=t.firstChild;if(!a)return{};for(let u=0,f=0;u<a.childCount;u+=1){const{colspan:p,colwidth:h}=a.child(u).attrs;for(let b=0;b<p;b+=1,f+=1){const g=n===f?r:h&&h[b];o+=g||e,g||(s=!1);const[y,x]=Yu(e,g);i.push(["col",{style:`${y}: ${x}`}])}}const l=s?`${o}px`:"",d=s?"":`${o}px`;return{colgroup:["colgroup",{},...i],tableWidth:l,tableMinWidth:d}}function p2(t,e){return t.createAndFill()}function iM(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach(n=>{const r=t.nodes[n];r.spec.tableRole&&(e[r.spec.tableRole]=r)}),t.cached.tableNodeTypes=e,e}function aM(t,e,n,r,o){const s=iM(t),i=[],a=[];for(let d=0;d<n;d+=1){const c=p2(s.cell);if(c&&a.push(c),r){const u=p2(s.header_cell);u&&i.push(u)}}const l=[];for(let d=0;d<e;d+=1)l.push(s.row.createChecked(null,r&&d===0?i:a));return s.table.createChecked(null,l)}function lM(t){return t instanceof Ue}var ul=({editor:t})=>{const{selection:e}=t.state;if(!lM(e))return!1;let n=0;const r=pb(e.ranges[0].$from,s=>s.type.name==="table");return r==null||r.node.descendants(s=>{if(s.type.name==="table")return!1;["tableCell","tableHeader"].includes(s.type.name)&&(n+=1)}),n===e.ranges.length?(t.commands.deleteTable(),!0):!1},dM="";function cM(t){return(t||"").replace(/\s+/g," ").trim()}function uM(t,e,n={}){var r;const o=(r=n.cellLineSeparator)!=null?r:dM;if(!t||!t.content||t.content.length===0)return"";const s=[];t.content.forEach(h=>{const b=[];h.content&&h.content.forEach(g=>{let y="";g.content&&Array.isArray(g.content)&&g.content.length>1?y=g.content.map(S=>e.renderChildren(S)).join(o):y=g.content?e.renderChildren(g.content):"";const x=cM(y),k=g.type==="tableHeader";b.push({text:x,isHeader:k})}),s.push(b)});const i=s.reduce((h,b)=>Math.max(h,b.length),0);if(i===0)return"";const a=new Array(i).fill(0);s.forEach(h=>{var b;for(let g=0;g<i;g+=1){const x=(((b=h[g])==null?void 0:b.text)||"").length;x>a[g]&&(a[g]=x),a[g]<3&&(a[g]=3)}});const l=(h,b)=>h+" ".repeat(Math.max(0,b-h.length)),d=s[0],c=d.some(h=>h.isHeader);let u=`
`;const f=new Array(i).fill(0).map((h,b)=>c&&d[b]&&d[b].text||"");return u+=`| ${f.map((h,b)=>l(h,a[b])).join(" | ")} |
`,u+=`| ${a.map(h=>"-".repeat(Math.max(3,h))).join(" | ")} |
`,(c?s.slice(1):s).forEach(h=>{u+=`| ${new Array(i).fill(0).map((b,g)=>l(h[g]&&h[g].text||"",a[g])).join(" | ")} |
`}),u}var fM=uM,h2=ht.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,renderWrapper:!1,handleWidth:5,cellMinWidth:25,View:oM,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:t,HTMLAttributes:e}){const{colgroup:n,tableWidth:r,tableMinWidth:o}=sM(t,this.options.cellMinWidth),s=e.style;function i(){return s||(r?`width: ${r}`:`min-width: ${o}`)}const a=["table",De(this.options.HTMLAttributes,e,{style:i()}),n,["tbody",0]];return this.options.renderWrapper?["div",{class:"tableWrapper"},a]:a},parseMarkdown:(t,e)=>{const n=[];if(t.header){const r=[];t.header.forEach(o=>{r.push(e.createNode("tableHeader",{},[{type:"paragraph",content:e.parseInline(o.tokens)}]))}),n.push(e.createNode("tableRow",{},r))}return t.rows&&t.rows.forEach(r=>{const o=[];r.forEach(s=>{o.push(e.createNode("tableCell",{},[{type:"paragraph",content:e.parseInline(s.tokens)}]))}),n.push(e.createNode("tableRow",{},o))}),e.createNode("table",void 0,n)},renderMarkdown:(t,e)=>fM(t,e),addCommands(){return{insertTable:({rows:t=3,cols:e=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:o,editor:s})=>{const i=aM(s.schema,t,e,n);if(o){const a=r.selection.from+1;r.replaceSelectionWith(i).scrollIntoView().setSelection(me.near(r.doc.resolve(a)))}return!0},addColumnBefore:()=>({state:t,dispatch:e})=>wN(t,e),addColumnAfter:()=>({state:t,dispatch:e})=>kN(t,e),deleteColumn:()=>({state:t,dispatch:e})=>EN(t,e),addRowBefore:()=>({state:t,dispatch:e})=>TN(t,e),addRowAfter:()=>({state:t,dispatch:e})=>NN(t,e),deleteRow:()=>({state:t,dispatch:e})=>AN(t,e),deleteTable:()=>({state:t,dispatch:e})=>RN(t,e),mergeCells:()=>({state:t,dispatch:e})=>Jy(t,e),splitCell:()=>({state:t,dispatch:e})=>Xy(t,e),toggleHeaderColumn:()=>({state:t,dispatch:e})=>Vs("column")(t,e),toggleHeaderRow:()=>({state:t,dispatch:e})=>Vs("row")(t,e),toggleHeaderCell:()=>({state:t,dispatch:e})=>DN(t,e),mergeOrSplit:()=>({state:t,dispatch:e})=>Jy(t,e)?!0:Xy(t,e),setCellAttribute:(t,e)=>({state:n,dispatch:r})=>IN(t,e)(n,r),goToNextCell:()=>({state:t,dispatch:e})=>Qy(1)(t,e),goToPreviousCell:()=>({state:t,dispatch:e})=>Qy(-1)(t,e),fixTables:()=>({state:t,dispatch:e})=>(e&&Gy(t),!0),setCellSelection:t=>({tr:e,dispatch:n})=>{if(n){const r=Ue.create(e.doc,t.anchorCell,t.headCell);e.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:ul,"Mod-Backspace":ul,Delete:ul,"Mod-Delete":ul}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[KN({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],rM({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:Oe(ue(t,"tableRole",e))}}});je.create({name:"tableKit",addExtensions(){const t=[];return this.options.table!==!1&&t.push(h2.configure(this.options.table)),this.options.tableCell!==!1&&t.push(d2.configure(this.options.tableCell)),this.options.tableHeader!==!1&&t.push(c2.configure(this.options.tableHeader)),this.options.tableRow!==!1&&t.push(u2.configure(this.options.tableRow)),t}});var pM=u2,hM=d2,mM=c2,gM=WT,bM=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,yM=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,vM=dn.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",De(this.options.HTMLAttributes,t),0]},renderMarkdown:(t,e)=>`==${e.renderChildren(t)}==`,parseMarkdown:(t,e)=>e.applyMark("highlight",e.parseInline(t.tokens||[])),markdownTokenizer:{name:"highlight",level:"inline",start:t=>t.indexOf("=="),tokenize(t,e,n){const o=/^(==)([^=]+)(==)/.exec(t);if(o){const s=o[2].trim(),i=n.inlineTokens(s);return{type:"highlight",raw:o[0],text:s,tokens:i}}}},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[Vr({find:bM,type:this.type})]},addPasteRules(){return[gr({find:yM,type:this.type})]}}),xM=vM,$M=dn.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(t){return t!=="sub"?!1:null}}]},renderHTML({HTMLAttributes:t}){return["sub",De(this.options.HTMLAttributes,t),0]},addCommands(){return{setSubscript:()=>({commands:t})=>t.setMark(this.name),toggleSubscript:()=>({commands:t})=>t.toggleMark(this.name),unsetSubscript:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}}),wM=$M,kM=dn.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(t){return t!=="super"?!1:null}}]},renderHTML({HTMLAttributes:t}){return["sup",De(this.options.HTMLAttributes,t),0]},addCommands(){return{setSuperscript:()=>({commands:t})=>t.setMark(this.name),toggleSuperscript:()=>({commands:t})=>t.toggleMark(this.name),unsetSuperscript:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}}),SM=kM,EM=Ay,CM=My;const Ju="data-html-block",TM=ht.create({name:"htmlBlock",group:"block",atom:!0,selectable:!0,defining:!1,addAttributes(){return{html:{default:"",parseHTML:t=>{var e;return((e=t.innerHTML)==null?void 0:e.trim())??""},renderHTML:()=>({})}}},parseHTML(){return[{tag:`div[${Ju}]`,getAttrs:t=>{var e;return{html:((e=t.innerHTML)==null?void 0:e.trim())??""}}}]},renderHTML({node:t}){const e=t.attrs.html??"";if(typeof document>"u")return["div",{[Ju]:"true","data-placeholder":"HTML block"},0];const n=document.createElement("div");return n.setAttribute(Ju,"true"),n.innerHTML=e,n}}),NM=[{width:1920,height:1080,label:"Full HD (1920x1080)"},{width:1280,height:720,label:"HD (1280x720)"},{width:1024,height:768,label:"Standard (1024x768)"},{width:800,height:600,label:"Medium (800x600)"},{width:640,height:480,label:"Small (640x480)"},{width:400,height:300,label:"Thumbnail (400x300)"}],_o=t=>t.replace(/<p(?:\s+[^>]*)?>\s*(?:<br\s*\/?>)?\s*<\/p>/gi,"<br />"),Ws=t=>{if(!t||typeof t!="string")return"";let e=t;return e=e.replace(/<script[^>]*>[\s\S]*?<\/script>/gi,""),e=e.replace(/<iframe[^>]*>[\s\S]*?<\/iframe>/gi,""),e=e.replace(/<object[^>]*>[\s\S]*?<\/object>/gi,""),e=e.replace(/<embed[^>]*\s*\/?>/gi,""),e=e.replace(/<embed[^>]*>[\s\S]*?<\/embed>/gi,""),e=e.replace(/(\s)(href|src|action|formaction)\s*=\s*["']?\s*javascript:[^"'\s>]*/gi,'$1$2="#"'),e=e.replace(/\s+on\w+\s*=\s*["'][^"']*["']/gi,""),e=e.replace(/\s+on\w+\s*=\s*[^\s>]+/gi,""),e.trim()},MM="inline-flex items-center justify-center gap-2 font-medium transition-all duration-200 ease-in-out bg-primary !text-white hover:bg-primary-600 active:bg-primary-700 shadow-sm hover:shadow-md active:shadow-none rounded-full text-base px-4 py-2 !no-underline hover:!no-underline",AM=({initialContent:t="",onChange:e,outputFormat:n="html",placeholder:r="Start typing...",handleUploadImage:o,editable:s=!0,viewOnly:i=!1,className:a,minHeight:l="400px",maxHeight:d,showPreviewToggle:c=!0})=>{const[u,f]=v.useState(!1),[p,h]=v.useState(!1),[b,g]=v.useState(""),[y,x]=v.useState(""),[k,E]=v.useState(""),[S,C]=v.useState(null),[M,I]=v.useState(!1),[D,z]=v.useState(!1),[$,O]=v.useState(3),[T,A]=v.useState(3),[_,w]=v.useState(!0),[L,j]=v.useState(!1),[B,F]=v.useState(""),[P,V]=v.useState(""),[Y,X]=v.useState(!1),[oe,W]=v.useState("text"),[H,G]=v.useState(!1),[ce,fe]=v.useState(""),[ge,$e]=v.useState(!1),Re=v.useRef(!1),Ne=v.useRef(t),ot=v.useRef(),_e=v.useRef(n),Je=v.useRef(null);v.useEffect(()=>{ot.current=e},[e]),v.useEffect(()=>{_e.current=n||"html"},[n]);const Xe=v.useMemo(()=>[qT.configure({heading:{levels:[1,2,3,4,5,6]},link:!1,underline:!1}),XT.configure({inline:!0,allowBase64:!0}),aT.configure({openOnClick:!1,HTMLAttributes:{class:"text-primary underline"}}),QT.configure({types:["heading","paragraph"]}),iN,By,kT,h2.configure({resizable:!0}),pM,mM.configure({HTMLAttributes:{style:"font-weight: normal;"}}),hM,gM.configure({placeholder:r}),xM.configure({multicolor:!0}),wM,SM,EM,CM.configure({nested:!0}),TM],[r]),q=u7({extensions:Xe,editable:i?!1:s,content:i&&Ws(t||"")||void 0,onUpdate:({editor:R})=>{const ee=ot.current;ee&&(Je.current!==null&&cancelAnimationFrame(Je.current),Je.current=window.requestAnimationFrame(()=>{const ne=_e.current||"html";let he="";switch(ne){case"json":he=JSON.stringify(R.getJSON());break;case"markdown":he=R.getHTML();break;case"html":default:he=R.getHTML();break}ne!=="json"&&(he=_o(he)),ee(he,ne)}))}});v.useEffect(()=>{if(q){if(i){const R=q.getHTML(),ee=_o(R),ne=t?_o(t):"";ee!==ne&&q.commands.setContent(Ws(t||"")||""),Ne.current=t;return}if(!Re.current){if(!t){Re.current=!0,Ne.current=t;return}q.commands.setContent(Ws(t)||""),Re.current=!0,Ne.current=t}}},[q,t,i]),v.useEffect(()=>()=>{Je.current!==null&&cancelAnimationFrame(Je.current)},[]),v.useEffect(()=>{q&&q.setEditable(!i&&s)},[q,s,i]);const Ot=v.useCallback(async()=>{if(!q||!o)return;const R=document.createElement("input");R.type="file",R.accept="image/*",R.onchange=async ee=>{var he;const ne=(he=ee.target.files)==null?void 0:he[0];if(ne){I(!0);try{const Fe=await o(ne);q.chain().focus().setImage({src:Fe}).run()}catch(Fe){console.error("Failed to upload image:",Fe)}finally{I(!1)}}},R.click()},[q,o]),Tt=v.useCallback(()=>{if(!q)return;const R=(S==null?void 0:S.width)||(typeof y=="number"?y:void 0),ee=(S==null?void 0:S.height)||(typeof k=="number"?k:void 0),ne={src:b};R&&(ne.width=R),ee&&(ne.height=ee),q.chain().focus().setImage(ne).run(),h(!1),g(""),x(""),E(""),C(null)},[q,b,y,k,S]),st=v.useCallback(()=>{if(!q||!B)return;const{from:R,to:ee}=q.state.selection,ne=R!==ee,he=oe==="button",Fe=he?` class="${MM}"`:"",ct=It=>`<a href="${B}"${Fe}>${It}</a>`;if(P)ne?q.chain().focus().deleteSelection().insertContent(ct(P)).run():q.chain().focus().insertContent(ct(P)).run();else if(ne)if(he){const It=q.state.doc.textBetween(R,ee);q.chain().focus().deleteSelection().insertContent(ct(It)).run()}else q.chain().focus().setLink({href:B}).run();else q.chain().focus().insertContent(ct(B)).run();j(!1),F(""),V(""),W("text"),X(!1)},[q,B,P,oe]),fn=v.useCallback(()=>{q&&(q.chain().focus().unsetLink().run(),j(!1),F(""),V(""),W("text"),X(!1))},[q]),pn=v.useCallback(()=>{if(!q)return;const R=typeof $=="number"?$:3,ee=typeof T=="number"?T:3;q.chain().focus().insertTable({rows:R,cols:ee,withHeaderRow:_}).run(),z(!1),O(3),A(3),w(!0)},[q,$,T,_]),ae=v.useCallback(R=>{if(q){if(R&&q.isActive("htmlBlock")){const ee=q.getAttributes("htmlBlock").html??"";fe(ee),$e(!0)}else fe(""),$e(!1);G(!0)}},[q]),Me=v.useCallback(()=>{if(!q)return;const R=Ws(ce);ge?q.chain().focus().updateAttributes("htmlBlock",{html:R}).run():q.chain().focus().insertContent({type:"htmlBlock",attrs:{html:R}}).run(),G(!1),fe(""),$e(!1)},[q,ce,ge]),J=({onClick:R,isActive:ee=!1,disabled:ne=!1,icon:he,tooltip:Fe})=>m.jsx("button",{type:"button",title:Fe,onClick:R,disabled:ne||!q,className:U("p-2 rounded-md transition-colors",ee?"bg-primary text-white p-2 rounded-full":"text-gray-700 hover:bg-gray-100",ne&&"opacity-50 cursor-not-allowed"),children:m.jsx(xe,{icon:he,className:"w-5 h-5"})});if(!q)return null;const re=v.useMemo(()=>{if(!(i||u))return"";if(!q)return t?_o(t):"";const R=q.getHTML();return!R.trim()&&t?_o(t):_o(R)},[i,u,q,t]);return m.jsxs("div",{className:U("rounded-lg overflow-hidden",!i&&"border border-gray-200",a),children:[!i&&m.jsx("div",{className:"border-b border-gray-200 bg-gray-50 p-2 flex flex-wrap gap-2",children:m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex gap-1 border-r border-gray-300 pr-1 mr-1",children:[m.jsx(J,{onClick:()=>q.chain().focus().toggleBold().run(),icon:"mdi:format-bold",tooltip:"Bold"}),m.jsx(J,{onClick:()=>q.chain().focus().toggleItalic().run(),icon:"mdi:format-italic",tooltip:"Italic"}),m.jsx(J,{onClick:()=>q.chain().focus().toggleUnderline().run(),icon:"mdi:format-underline",tooltip:"Underline"}),m.jsx(J,{onClick:()=>q.chain().focus().toggleStrike().run(),icon:"mdi:format-strikethrough",tooltip:"Strikethrough"}),m.jsx(J,{onClick:()=>q.chain().focus().toggleCode().run(),icon:"mdi:code-tags",tooltip:"Inline Code"}),m.jsx(J,{onClick:()=>q.chain().focus().toggleHighlight().run(),icon:"mdi:format-color-highlight",tooltip:"Highlight"}),m.jsx(J,{onClick:()=>q.chain().focus().toggleSubscript().run(),icon:"mdi:format-subscript",tooltip:"Subscript"}),m.jsx(J,{onClick:()=>q.chain().focus().toggleSuperscript().run(),icon:"mdi:format-superscript",tooltip:"Superscript"})]}),m.jsxs("div",{className:"flex gap-1 border-r border-gray-300 pr-1 mr-1",children:[m.jsx(J,{onClick:()=>q.chain().focus().toggleHeading({level:1}).run(),icon:"mdi:format-header-1",tooltip:"Heading 1"}),m.jsx(J,{onClick:()=>q.chain().focus().toggleHeading({level:2}).run(),icon:"mdi:format-header-2",tooltip:"Heading 2"}),m.jsx(J,{onClick:()=>q.chain().focus().toggleHeading({level:3}).run(),icon:"mdi:format-header-3",tooltip:"Heading 3"})]}),m.jsxs("div",{className:"flex gap-1 border-r border-gray-300 pr-1 mr-1",children:[m.jsx(J,{onClick:()=>q.chain().focus().toggleBulletList().run(),icon:"mdi:format-list-bulleted",tooltip:"Bullet List"}),m.jsx(J,{onClick:()=>q.chain().focus().toggleOrderedList().run(),icon:"mdi:format-list-numbered",tooltip:"Numbered List"}),m.jsx(J,{onClick:()=>q.chain().focus().toggleTaskList().run(),icon:"mdi:format-list-checks",tooltip:"Task List"}),m.jsx(J,{onClick:()=>q.chain().focus().toggleBlockquote().run(),icon:"mdi:format-quote-close",tooltip:"Blockquote"})]}),m.jsxs("div",{className:"flex gap-1 border-r border-gray-300 pr-1 mr-1",children:[m.jsx(J,{onClick:()=>q.chain().focus().setTextAlign("left").run(),icon:"mdi:format-align-left",tooltip:"Align Left"}),m.jsx(J,{onClick:()=>q.chain().focus().setTextAlign("center").run(),icon:"mdi:format-align-center",tooltip:"Align Center"}),m.jsx(J,{onClick:()=>q.chain().focus().setTextAlign("right").run(),icon:"mdi:format-align-right",tooltip:"Align Right"}),m.jsx(J,{onClick:()=>q.chain().focus().setTextAlign("justify").run(),icon:"mdi:format-align-justify",tooltip:"Justify"})]}),m.jsx("div",{className:"flex gap-1 border-r border-gray-300 pr-1 mr-1",children:m.jsx(Um,{content:"Text Color",placement:"top",children:m.jsx("input",{type:"color",onInput:R=>q.chain().focus().setColor(R.target.value).run(),value:q.getAttributes("textStyle").color||"#000000",className:"w-8 h-8 cursor-pointer rounded border border-gray-300"})})}),m.jsxs("div",{className:"flex gap-1 border-r border-gray-300 pr-1 mr-1",children:[m.jsx(J,{onClick:()=>{const{from:R,to:ee}=q.state.selection,ne=q.state.doc.textBetween(R,ee),Fe=q.getAttributes("link").href||"",ct=q.isActive("link");V(ne||""),F(Fe),X(ct),j(!0)},icon:"mdi:link",tooltip:q.isActive("link")?"Edit Link":"Insert Link"}),m.jsx(J,{onClick:()=>h(!0),icon:"mdi:image",tooltip:"Insert Image"}),m.jsx(J,{onClick:()=>{O(3),A(3),w(!0),z(!0)},icon:"mdi:table",tooltip:"Insert Table"}),m.jsx(J,{onClick:()=>q.chain().focus().setHorizontalRule().run(),icon:"mdi:minus",tooltip:"Horizontal Rule"}),m.jsx(J,{onClick:()=>q.chain().focus().toggleCodeBlock().run(),icon:"mdi:code-braces",tooltip:"Code Block"}),m.jsx(J,{onClick:()=>ae(q.isActive("htmlBlock")),icon:"mdi:language-html5",tooltip:q.isActive("htmlBlock")?"Edit HTML Block":"Insert HTML Block"})]}),q.isActive("table")&&m.jsxs("div",{className:"flex gap-1 border-r border-gray-300 pr-1 mr-1",children:[m.jsx(J,{onClick:()=>q.chain().focus().addColumnBefore().run(),icon:"mdi:table-column-plus-before",tooltip:"Add Column Before"}),m.jsx(J,{onClick:()=>q.chain().focus().addColumnAfter().run(),icon:"mdi:table-column-plus-after",tooltip:"Add Column After"}),m.jsx(J,{onClick:()=>q.chain().focus().deleteColumn().run(),icon:"mdi:table-column-remove",tooltip:"Delete Column"}),m.jsx(J,{onClick:()=>q.chain().focus().addRowBefore().run(),icon:"mdi:table-row-plus-before",tooltip:"Add Row Before"}),m.jsx(J,{onClick:()=>q.chain().focus().addRowAfter().run(),icon:"mdi:table-row-plus-after",tooltip:"Add Row After"}),m.jsx(J,{onClick:()=>q.chain().focus().deleteRow().run(),icon:"mdi:table-row-remove",tooltip:"Delete Row"}),m.jsx(J,{onClick:()=>q.chain().focus().deleteTable().run(),icon:"mdi:table-remove",tooltip:"Delete Table"})]}),m.jsxs("div",{className:"flex gap-1 border-r border-gray-300 pr-1 mr-1",children:[m.jsx(J,{onClick:()=>q.chain().focus().undo().run(),disabled:!q.can().undo(),icon:"mdi:undo",tooltip:"Undo"}),m.jsx(J,{onClick:()=>q.chain().focus().redo().run(),disabled:!q.can().redo(),icon:"mdi:redo",tooltip:"Redo"})]}),c&&m.jsx("div",{className:"flex gap-1 ml-auto",children:m.jsx(Ae,{leftIcon:u?"mdi:pencil":"mdi:eye",variant:"ghost",onClick:()=>f(!u)})})]})}),m.jsx("div",{className:"bg-white flex flex-col",style:{minHeight:l,...d?{maxHeight:d,overflowY:"auto"}:{}},children:i||u?m.jsx("div",{className:"p-4 ProseMirror max-w-none flex-1",dangerouslySetInnerHTML:{__html:re}}):m.jsx(s7,{editor:q,className:"p-4 h-full flex-1 [&_.ProseMirror]:h-full [&_.ProseMirror]:outline-none [&_.ProseMirror]:min-h-full",onClick:()=>q==null?void 0:q.commands.focus()})}),!i&&m.jsx("div",{className:"border-t border-gray-200 bg-gray-50 px-4 py-2",children:m.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Powered by"," ",m.jsx("span",{className:"font-semibold",children:"Tixia Design System"})]})}),m.jsxs(ro,{isOpen:p,onClose:()=>h(!1),size:"md",children:[m.jsx(oo,{children:"Insert Image"}),m.jsx(so,{children:m.jsxs("div",{className:"space-y-4",children:[o&&m.jsxs("div",{className:"mt-4",children:[m.jsx(Ae,{onClick:Ot,disabled:M,variant:"outline",fullWidth:!0,children:M?"Uploading...":"Upload Image"}),m.jsx("p",{className:"text-sm text-gray-500 mt-2 text-center",children:"or"})]}),m.jsx(mn,{label:"Image URL",value:b,onChange:R=>g(R.target.value),placeholder:"https://example.com/image.jpg",fullWidth:!0}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Common Sizes"}),m.jsx("div",{className:"grid grid-cols-2 gap-2",children:NM.map(R=>m.jsx(Ae,{fullWidth:!0,variant:"outline",type:"button",onClick:()=>{C(R),x(R.width),E(R.height)},className:U("p-2 text-sm border text-left transition-colors",(S==null?void 0:S.label)===R.label?"border-primary bg-primary-50":"border-gray-200 hover:border-gray-300"),children:R.label},R.label))})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx(mn,{label:"Width (px)",type:"number",value:y,fullWidth:!0,onChange:R=>{x(R.target.value?parseInt(R.target.value):""),C(null)},placeholder:"Auto"}),m.jsx(mn,{label:"Height (px)",type:"number",fullWidth:!0,value:k,onChange:R=>{E(R.target.value?parseInt(R.target.value):""),C(null)},placeholder:"Auto"})]})]})}),m.jsxs(io,{children:[m.jsx(Ae,{variant:"ghost",onClick:()=>h(!1),children:"Cancel"}),m.jsx(Ae,{onClick:Tt,disabled:!b||M,children:"Insert Image"})]})]}),m.jsxs(ro,{isOpen:L,onClose:()=>{j(!1),W("text")},size:"md",children:[m.jsx(oo,{children:Y?"Edit Link":"Insert Link"}),m.jsx(so,{children:m.jsxs("div",{className:"space-y-4 mt-4",children:[m.jsx(mn,{label:"URL",value:B,onChange:R=>F(R.target.value),placeholder:"https://example.com",fullWidth:!0,required:!0}),m.jsx(mn,{label:"Link Text (optional)",value:P,onChange:R=>V(R.target.value),placeholder:"Leave empty to use selected text or URL",fullWidth:!0,helperText:"If empty, will use selected text or the URL itself"}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display as"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(Ae,{type:"button",onClick:()=>W("text"),fullWidth:!0,rounded:"full",variant:oe==="text"?"primary":"outline",children:"Text link"}),m.jsx(Ae,{type:"button",fullWidth:!0,rounded:"full",variant:oe==="button"?"primary":"outline",onClick:()=>W("button"),children:"Button link"})]}),m.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:"Button link uses primary style with full rounded corners."})]})]})}),m.jsx(io,{children:m.jsxs("div",{className:"flex justify-between w-full gap-2",children:[Y&&m.jsx(Ae,{variant:"danger",onClick:fn,children:"Remove Link"}),m.jsxs("div",{className:"flex gap-2 ml-auto",children:[m.jsx(Ae,{variant:"ghost",onClick:()=>{j(!1),W("text")},children:"Cancel"}),m.jsx(Ae,{onClick:st,disabled:!B,children:Y?"Update Link":"Insert Link"})]})]})})]}),m.jsxs(ro,{isOpen:D,onClose:()=>z(!1),size:"sm",children:[m.jsx(oo,{children:"Insert Table"}),m.jsx(so,{children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx(mn,{label:"Rows",type:"number",value:$,onChange:R=>{const ee=R.target.value?parseInt(R.target.value):"";O(ee)},min:1,max:20,fullWidth:!0}),m.jsx(mn,{label:"Columns",type:"number",value:T,onChange:R=>{const ee=R.target.value?parseInt(R.target.value):"";A(ee)},min:1,max:20,fullWidth:!0})]}),m.jsx(no,{label:"Include header row",checked:_,onChange:R=>w(R.target.checked)})]})}),m.jsxs(io,{children:[m.jsx(Ae,{variant:"ghost",onClick:()=>z(!1),children:"Cancel"}),m.jsx(Ae,{onClick:pn,disabled:!$||!T||typeof $=="number"&&($<1||$>20)||typeof T=="number"&&(T<1||T>20),children:"Insert Table"})]})]}),m.jsxs(ro,{isOpen:H,onClose:()=>{G(!1),fe(""),$e(!1)},size:"lg",children:[m.jsx(oo,{children:ge?"Edit HTML Block":"Insert HTML Block"}),m.jsxs(so,{children:[m.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Paste or edit raw HTML. It will be stored as a protected block and not reinterpreted by the editor. Scripts, iframes, and event handlers are stripped on save."}),m.jsx("textarea",{value:ce,onChange:R=>fe(R.target.value),placeholder:'<div style="display:flex; gap:16px">...</div>',className:"w-full min-h-[200px] p-3 font-mono text-sm border border-gray-200 rounded-md outline-none focus:ring-2 focus:ring-primary focus:border-transparent resize-y",spellCheck:!1,"data-testid":"wysiwyg-html-block-source"})]}),m.jsxs(io,{children:[m.jsx(Ae,{variant:"ghost",onClick:()=>{G(!1),fe(""),$e(!1)},children:"Cancel"}),m.jsx(Ae,{onClick:Me,children:ge?"Update Block":"Insert Block"})]})]})]})},PM=(t,e)=>t.initialContent===e.initialContent&&t.outputFormat===e.outputFormat&&t.placeholder===e.placeholder&&t.editable===e.editable&&t.viewOnly===e.viewOnly&&t.className===e.className&&t.minHeight===e.minHeight&&t.maxHeight===e.maxHeight&&t.showPreviewToggle===e.showPreviewToggle,OM=v.memo(AM,PM),Us=/^[a-z0-9]+(-[a-z0-9]+)*$/,fl=(t,e,n,r="")=>{const o=t.split(":");if(t.slice(0,1)==="@"){if(o.length<2||o.length>3)return null;r=o.shift().slice(1)}if(o.length>3||!o.length)return null;if(o.length>1){const a=o.pop(),l=o.pop(),d={provider:o.length>0?o[0]:r,prefix:l,name:a};return e&&!pl(d)?null:d}const s=o[0],i=s.split("-");if(i.length>1){const a={provider:r,prefix:i.shift(),name:i.join("-")};return e&&!pl(a)?null:a}if(n&&r===""){const a={provider:r,prefix:"",name:s};return e&&!pl(a,n)?null:a}return null},pl=(t,e)=>t?!!((t.provider===""||t.provider.match(Us))&&(e&&t.prefix===""||t.prefix.match(Us))&&t.name.match(Us)):!1,m2=Object.freeze({left:0,top:0,width:16,height:16}),hl=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Xu=Object.freeze({...m2,...hl}),Zu=Object.freeze({...Xu,body:"",hidden:!1});function IM(t,e){const n={};!t.hFlip!=!e.hFlip&&(n.hFlip=!0),!t.vFlip!=!e.vFlip&&(n.vFlip=!0);const r=((t.rotate||0)+(e.rotate||0))%4;return r&&(n.rotate=r),n}function g2(t,e){const n=IM(t,e);for(const r in Zu)r in hl?r in t&&!(r in n)&&(n[r]=hl[r]):r in e?n[r]=e[r]:r in t&&(n[r]=t[r]);return n}function LM(t,e){const n=t.icons,r=t.aliases||Object.create(null),o=Object.create(null);function s(i){if(n[i])return o[i]=[];if(!(i in o)){o[i]=null;const a=r[i]&&r[i].parent,l=a&&s(a);l&&(o[i]=[a].concat(l))}return o[i]}return Object.keys(n).concat(Object.keys(r)).forEach(s),o}function DM(t,e,n){const r=t.icons,o=t.aliases||Object.create(null);let s={};function i(a){s=g2(r[a]||o[a],s)}return i(e),n.forEach(i),g2(t,s)}function b2(t,e){const n=[];if(typeof t!="object"||typeof t.icons!="object")return n;t.not_found instanceof Array&&t.not_found.forEach(o=>{e(o,null),n.push(o)});const r=LM(t);for(const o in r){const s=r[o];s&&(e(o,DM(t,o,s)),n.push(o))}return n}const jM={provider:"",aliases:{},not_found:{},...m2};function Qu(t,e){for(const n in e)if(n in t&&typeof t[n]!=typeof e[n])return!1;return!0}function y2(t){if(typeof t!="object"||t===null)return null;const e=t;if(typeof e.prefix!="string"||!t.icons||typeof t.icons!="object"||!Qu(t,jM))return null;const n=e.icons;for(const o in n){const s=n[o];if(!o.match(Us)||typeof s.body!="string"||!Qu(s,Zu))return null}const r=e.aliases||Object.create(null);for(const o in r){const s=r[o],i=s.parent;if(!o.match(Us)||typeof i!="string"||!n[i]&&!r[i]||!Qu(s,Zu))return null}return e}const v2=Object.create(null);function RM(t,e){return{provider:t,prefix:e,icons:Object.create(null),missing:new Set}}function Jr(t,e){const n=v2[t]||(v2[t]=Object.create(null));return n[e]||(n[e]=RM(t,e))}function ef(t,e){return y2(e)?b2(e,(n,r)=>{r?t.icons[n]=r:t.missing.add(n)}):[]}function _M(t,e,n){try{if(typeof n.body=="string")return t.icons[e]={...n},!0}catch{}return!1}let Gs=!1;function x2(t){return typeof t=="boolean"&&(Gs=t),Gs}function FM(t){const e=typeof t=="string"?fl(t,!0,Gs):t;if(e){const n=Jr(e.provider,e.prefix),r=e.name;return n.icons[r]||(n.missing.has(r)?null:void 0)}}function $2(t,e){const n=fl(t,!0,Gs);if(!n)return!1;const r=Jr(n.provider,n.prefix);return _M(r,n.name,e)}function w2(t,e){if(typeof t!="object")return!1;if(typeof e!="string"&&(e=t.provider||""),Gs&&!e&&!t.prefix){let o=!1;return y2(t)&&(t.prefix="",b2(t,(s,i)=>{i&&$2(s,i)&&(o=!0)})),o}const n=t.prefix;if(!pl({provider:e,prefix:n,name:"a"}))return!1;const r=Jr(e,n);return!!ef(r,t)}const k2=Object.freeze({width:null,height:null}),S2=Object.freeze({...k2,...hl}),zM=/(-?[0-9.]*[0-9]+[0-9.]*)/g,BM=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function tf(t,e,n){if(e===1)return t;if(n=n||100,typeof t=="number")return Math.ceil(t*e*n)/n;if(typeof t!="string")return t;const r=t.split(zM);if(r===null||!r.length)return t;const o=[];let s=r.shift(),i=BM.test(s);for(;;){if(i){const a=parseFloat(s);isNaN(a)?o.push(s):o.push(Math.ceil(a*e*n)/n)}else o.push(s);if(s=r.shift(),s===void 0)return o.join("");i=!i}}const HM=t=>t==="unset"||t==="undefined"||t==="none";function E2(t,e){const n={...Xu,...t},r={...S2,...e},o={left:n.left,top:n.top,width:n.width,height:n.height};let s=n.body;[n,r].forEach(h=>{const b=[],g=h.hFlip,y=h.vFlip;let x=h.rotate;g?y?x+=2:(b.push("translate("+(o.width+o.left).toString()+" "+(0-o.top).toString()+")"),b.push("scale(-1 1)"),o.top=o.left=0):y&&(b.push("translate("+(0-o.left).toString()+" "+(o.height+o.top).toString()+")"),b.push("scale(1 -1)"),o.top=o.left=0);let k;switch(x<0&&(x-=Math.floor(x/4)*4),x=x%4,x){case 1:k=o.height/2+o.top,b.unshift("rotate(90 "+k.toString()+" "+k.toString()+")");break;case 2:b.unshift("rotate(180 "+(o.width/2+o.left).toString()+" "+(o.height/2+o.top).toString()+")");break;case 3:k=o.width/2+o.left,b.unshift("rotate(-90 "+k.toString()+" "+k.toString()+")");break}x%2===1&&(o.left!==o.top&&(k=o.left,o.left=o.top,o.top=k),o.width!==o.height&&(k=o.width,o.width=o.height,o.height=k)),b.length&&(s='<g transform="'+b.join(" ")+'">'+s+"</g>")});const i=r.width,a=r.height,l=o.width,d=o.height;let c,u;i===null?(u=a===null?"1em":a==="auto"?d:a,c=tf(u,l/d)):(c=i==="auto"?l:i,u=a===null?tf(c,d/l):a==="auto"?d:a);const f={},p=(h,b)=>{HM(b)||(f[h]=b.toString())};return p("width",c),p("height",u),f.viewBox=o.left.toString()+" "+o.top.toString()+" "+l.toString()+" "+d.toString(),{attributes:f,body:s}}const VM=/\sid="(\S+)"/g,WM="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let UM=0;function C2(t,e=WM){const n=[];let r;for(;r=VM.exec(t);)n.push(r[1]);if(!n.length)return t;const o="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(s=>{const i=typeof e=="function"?e(s):e+(UM++).toString(),a=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+a+')([")]|\\.[a-z])',"g"),"$1"+i+o+"$3")}),t=t.replace(new RegExp(o,"g"),""),t}const nf=Object.create(null);function GM(t,e){nf[t]=e}function rf(t){return nf[t]||nf[""]}function of(t){let e;if(typeof t.resources=="string")e=[t.resources];else if(e=t.resources,!(e instanceof Array)||!e.length)return null;return{resources:e,path:t.path||"/",maxURL:t.maxURL||500,rotate:t.rotate||750,timeout:t.timeout||5e3,random:t.random===!0,index:t.index||0,dataAfterTimeout:t.dataAfterTimeout!==!1}}const sf=Object.create(null),Ks=["https://api.simplesvg.com","https://api.unisvg.com"],ml=[];for(;Ks.length>0;)Ks.length===1||Math.random()>.5?ml.push(Ks.shift()):ml.push(Ks.pop());sf[""]=of({resources:["https://api.iconify.design"].concat(ml)});function T2(t,e){const n=of(e);return n===null?!1:(sf[t]=n,!0)}function af(t){return sf[t]}let N2=(()=>{let t;try{if(t=fetch,typeof t=="function")return t}catch{}})();function KM(t,e){const n=af(t);if(!n)return 0;let r;if(!n.maxURL)r=0;else{let o=0;n.resources.forEach(i=>{o=Math.max(o,i.length)});const s=e+".json?icons=";r=n.maxURL-o-n.path.length-s.length}return r}function qM(t){return t===404}const YM=(t,e,n)=>{const r=[],o=KM(t,e),s="icons";let i={type:s,provider:t,prefix:e,icons:[]},a=0;return n.forEach((l,d)=>{a+=l.length+1,a>=o&&d>0&&(r.push(i),i={type:s,provider:t,prefix:e,icons:[]},a=l.length),i.icons.push(l)}),r.push(i),r};function JM(t){if(typeof t=="string"){const e=af(t);if(e)return e.path}return"/"}const XM={prepare:YM,send:(t,e,n)=>{if(!N2){n("abort",424);return}let r=JM(e.provider);switch(e.type){case"icons":{const s=e.prefix,a=e.icons.join(","),l=new URLSearchParams({icons:a});r+=s+".json?"+l.toString();break}case"custom":{const s=e.uri;r+=s.slice(0,1)==="/"?s.slice(1):s;break}default:n("abort",400);return}let o=503;N2(t+r).then(s=>{const i=s.status;if(i!==200){setTimeout(()=>{n(qM(i)?"abort":"next",i)});return}return o=501,s.json()}).then(s=>{if(typeof s!="object"||s===null){setTimeout(()=>{s===404?n("abort",s):n("next",o)});return}setTimeout(()=>{n("success",s)})}).catch(()=>{n("next",o)})}};function ZM(t){const e={loaded:[],missing:[],pending:[]},n=Object.create(null);t.sort((o,s)=>o.provider!==s.provider?o.provider.localeCompare(s.provider):o.prefix!==s.prefix?o.prefix.localeCompare(s.prefix):o.name.localeCompare(s.name));let r={provider:"",prefix:"",name:""};return t.forEach(o=>{if(r.name===o.name&&r.prefix===o.prefix&&r.provider===o.provider)return;r=o;const s=o.provider,i=o.prefix,a=o.name,l=n[s]||(n[s]=Object.create(null)),d=l[i]||(l[i]=Jr(s,i));let c;a in d.icons?c=e.loaded:i===""||d.missing.has(a)?c=e.missing:c=e.pending;const u={provider:s,prefix:i,name:a};c.push(u)}),e}function M2(t,e){t.forEach(n=>{const r=n.loaderCallbacks;r&&(n.loaderCallbacks=r.filter(o=>o.id!==e))})}function QM(t){t.pendingCallbacksFlag||(t.pendingCallbacksFlag=!0,setTimeout(()=>{t.pendingCallbacksFlag=!1;const e=t.loaderCallbacks?t.loaderCallbacks.slice(0):[];if(!e.length)return;let n=!1;const r=t.provider,o=t.prefix;e.forEach(s=>{const i=s.icons,a=i.pending.length;i.pending=i.pending.filter(l=>{if(l.prefix!==o)return!0;const d=l.name;if(t.icons[d])i.loaded.push({provider:r,prefix:o,name:d});else if(t.missing.has(d))i.missing.push({provider:r,prefix:o,name:d});else return n=!0,!0;return!1}),i.pending.length!==a&&(n||M2([t],s.id),s.callback(i.loaded.slice(0),i.missing.slice(0),i.pending.slice(0),s.abort))})}))}let eA=0;function tA(t,e,n){const r=eA++,o=M2.bind(null,n,r);if(!e.pending.length)return o;const s={id:r,icons:e,callback:t,abort:o};return n.forEach(i=>{(i.loaderCallbacks||(i.loaderCallbacks=[])).push(s)}),o}function nA(t,e=!0,n=!1){const r=[];return t.forEach(o=>{const s=typeof o=="string"?fl(o,e,n):o;s&&r.push(s)}),r}var rA={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function oA(t,e,n,r){const o=t.resources.length,s=t.random?Math.floor(Math.random()*o):t.index;let i;if(t.random){let C=t.resources.slice(0);for(i=[];C.length>1;){const M=Math.floor(Math.random()*C.length);i.push(C[M]),C=C.slice(0,M).concat(C.slice(M+1))}i=i.concat(C)}else i=t.resources.slice(s).concat(t.resources.slice(0,s));const a=Date.now();let l="pending",d=0,c,u=null,f=[],p=[];typeof r=="function"&&p.push(r);function h(){u&&(clearTimeout(u),u=null)}function b(){l==="pending"&&(l="aborted"),h(),f.forEach(C=>{C.status==="pending"&&(C.status="aborted")}),f=[]}function g(C,M){M&&(p=[]),typeof C=="function"&&p.push(C)}function y(){return{startTime:a,payload:e,status:l,queriesSent:d,queriesPending:f.length,subscribe:g,abort:b}}function x(){l="failed",p.forEach(C=>{C(void 0,c)})}function k(){f.forEach(C=>{C.status==="pending"&&(C.status="aborted")}),f=[]}function E(C,M,I){const D=M!=="success";switch(f=f.filter(z=>z!==C),l){case"pending":break;case"failed":if(D||!t.dataAfterTimeout)return;break;default:return}if(M==="abort"){c=I,x();return}if(D){c=I,f.length||(i.length?S():x());return}if(h(),k(),!t.random){const z=t.resources.indexOf(C.resource);z!==-1&&z!==t.index&&(t.index=z)}l="completed",p.forEach(z=>{z(I)})}function S(){if(l!=="pending")return;h();const C=i.shift();if(C===void 0){if(f.length){u=setTimeout(()=>{h(),l==="pending"&&(k(),x())},t.timeout);return}x();return}const M={status:"pending",resource:C,callback:(I,D)=>{E(M,I,D)}};f.push(M),d++,u=setTimeout(S,t.rotate),n(C,e,M.callback)}return setTimeout(S),y}function A2(t){const e={...rA,...t};let n=[];function r(){n=n.filter(a=>a().status==="pending")}function o(a,l,d){const c=oA(e,a,l,(u,f)=>{r(),d&&d(u,f)});return n.push(c),c}function s(a){return n.find(l=>a(l))||null}return{query:o,find:s,setIndex:a=>{e.index=a},getIndex:()=>e.index,cleanup:r}}function P2(){}const lf=Object.create(null);function sA(t){if(!lf[t]){const e=af(t);if(!e)return;const n=A2(e),r={config:e,redundancy:n};lf[t]=r}return lf[t]}function iA(t,e,n){let r,o;if(typeof t=="string"){const s=rf(t);if(!s)return n(void 0,424),P2;o=s.send;const i=sA(t);i&&(r=i.redundancy)}else{const s=of(t);if(s){r=A2(s);const i=t.resources?t.resources[0]:"",a=rf(i);a&&(o=a.send)}}return!r||!o?(n(void 0,424),P2):r.query(e,o,n)().abort}const O2="iconify2",qs="iconify",I2=qs+"-count",L2=qs+"-version",D2=36e5,aA=168;function df(t,e){try{return t.getItem(e)}catch{}}function cf(t,e,n){try{return t.setItem(e,n),!0}catch{}}function j2(t,e){try{t.removeItem(e)}catch{}}function uf(t,e){return cf(t,I2,e.toString())}function ff(t){return parseInt(df(t,I2))||0}const gl={local:!0,session:!0},R2={local:new Set,session:new Set};let pf=!1;function lA(t){pf=t}let bl=typeof window>"u"?{}:window;function _2(t){const e=t+"Storage";try{if(bl&&bl[e]&&typeof bl[e].length=="number")return bl[e]}catch{}gl[t]=!1}function F2(t,e){const n=_2(t);if(!n)return;const r=df(n,L2);if(r!==O2){if(r){const a=ff(n);for(let l=0;l<a;l++)j2(n,qs+l.toString())}cf(n,L2,O2),uf(n,0);return}const o=Math.floor(Date.now()/D2)-aA,s=a=>{const l=qs+a.toString(),d=df(n,l);if(typeof d=="string"){try{const c=JSON.parse(d);if(typeof c=="object"&&typeof c.cached=="number"&&c.cached>o&&typeof c.provider=="string"&&typeof c.data=="object"&&typeof c.data.prefix=="string"&&e(c,a))return!0}catch{}j2(n,l)}};let i=ff(n);for(let a=i-1;a>=0;a--)s(a)||(a===i-1?(i--,uf(n,i)):R2[t].add(a))}function z2(){if(!pf){lA(!0);for(const t in gl)F2(t,e=>{const n=e.data,r=e.provider,o=n.prefix,s=Jr(r,o);if(!ef(s,n).length)return!1;const i=n.lastModified||-1;return s.lastModifiedCached=s.lastModifiedCached?Math.min(s.lastModifiedCached,i):i,!0})}}function dA(t,e){const n=t.lastModifiedCached;if(n&&n>=e)return n===e;if(t.lastModifiedCached=e,n)for(const r in gl)F2(r,o=>{const s=o.data;return o.provider!==t.provider||s.prefix!==t.prefix||s.lastModified===e});return!0}function cA(t,e){pf||z2();function n(r){let o;if(!gl[r]||!(o=_2(r)))return;const s=R2[r];let i;if(s.size)s.delete(i=Array.from(s).shift());else if(i=ff(o),!uf(o,i+1))return;const a={cached:Math.floor(Date.now()/D2),provider:t.provider,data:e};return cf(o,qs+i.toString(),JSON.stringify(a))}e.lastModified&&!dA(t,e.lastModified)||Object.keys(e.icons).length&&(e.not_found&&(e=Object.assign({},e),delete e.not_found),n("local")||n("session"))}function B2(){}function uA(t){t.iconsLoaderFlag||(t.iconsLoaderFlag=!0,setTimeout(()=>{t.iconsLoaderFlag=!1,QM(t)}))}function fA(t,e){t.iconsToLoad?t.iconsToLoad=t.iconsToLoad.concat(e).sort():t.iconsToLoad=e,t.iconsQueueFlag||(t.iconsQueueFlag=!0,setTimeout(()=>{t.iconsQueueFlag=!1;const{provider:n,prefix:r}=t,o=t.iconsToLoad;delete t.iconsToLoad;let s;if(!o||!(s=rf(n)))return;s.prepare(n,r,o).forEach(a=>{iA(n,a,l=>{if(typeof l!="object")a.icons.forEach(d=>{t.missing.add(d)});else try{const d=ef(t,l);if(!d.length)return;const c=t.pendingIcons;c&&d.forEach(u=>{c.delete(u)}),cA(t,l)}catch(d){console.error(d)}uA(t)})})}))}const H2=(t,e)=>{const n=nA(t,!0,x2()),r=ZM(n);if(!r.pending.length){let l=!0;return e&&setTimeout(()=>{l&&e(r.loaded,r.missing,r.pending,B2)}),()=>{l=!1}}const o=Object.create(null),s=[];let i,a;return r.pending.forEach(l=>{const{provider:d,prefix:c}=l;if(c===a&&d===i)return;i=d,a=c,s.push(Jr(d,c));const u=o[d]||(o[d]=Object.create(null));u[c]||(u[c]=[])}),r.pending.forEach(l=>{const{provider:d,prefix:c,name:u}=l,f=Jr(d,c),p=f.pendingIcons||(f.pendingIcons=new Set);p.has(u)||(p.add(u),o[d][c].push(u))}),s.forEach(l=>{const{provider:d,prefix:c}=l;o[d][c].length&&fA(l,o[d][c])}),e?tA(e,r,s):B2};function pA(t,e){const n={...t};for(const r in e){const o=e[r],s=typeof o;r in k2?(o===null||o&&(s==="string"||s==="number"))&&(n[r]=o):s===typeof n[r]&&(n[r]=r==="rotate"?o%4:o)}return n}const hA=/[\s,]+/;function mA(t,e){e.split(hA).forEach(n=>{switch(n.trim()){case"horizontal":t.hFlip=!0;break;case"vertical":t.vFlip=!0;break}})}function gA(t,e=0){const n=t.replace(/^-?[0-9.]*/,"");function r(o){for(;o<0;)o+=4;return o%4}if(n===""){const o=parseInt(t);return isNaN(o)?0:r(o)}else if(n!==t){let o=0;switch(n){case"%":o=25;break;case"deg":o=90}if(o){let s=parseFloat(t.slice(0,t.length-n.length));return isNaN(s)?0:(s=s/o,s%1===0?r(s):0)}}return e}function bA(t,e){let n=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in e)n+=" "+r+'="'+e[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+t+"</svg>"}function yA(t){return t.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function vA(t){return"data:image/svg+xml,"+yA(t)}function xA(t){return'url("'+vA(t)+'")'}let Ys;function $A(){try{Ys=window.trustedTypes.createPolicy("iconify",{createHTML:t=>t})}catch{Ys=null}}function wA(t){return Ys===void 0&&$A(),Ys?Ys.createHTML(t):t}const V2={...S2,inline:!1},kA={xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},SA={display:"inline-block"},hf={backgroundColor:"currentColor"},W2={backgroundColor:"transparent"},U2={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},G2={WebkitMask:hf,mask:hf,background:W2};for(const t in G2){const e=G2[t];for(const n in U2)e[t+n]=U2[n]}const EA={...V2,inline:!0};function K2(t){return t+(t.match(/^[-0-9.]+$/)?"px":"")}const CA=(t,e,n,r)=>{const o=n?EA:V2,s=pA(o,e),i=e.mode||"svg",a={},l=e.style||{},d={...i==="svg"?kA:{},ref:r};for(let y in e){const x=e[y];if(x!==void 0)switch(y){case"icon":case"style":case"children":case"onLoad":case"mode":case"_ref":case"_inline":break;case"inline":case"hFlip":case"vFlip":s[y]=x===!0||x==="true"||x===1;break;case"flip":typeof x=="string"&&mA(s,x);break;case"color":a.color=x;break;case"rotate":typeof x=="string"?s[y]=gA(x):typeof x=="number"&&(s[y]=x);break;case"ariaHidden":case"aria-hidden":x!==!0&&x!=="true"&&delete d["aria-hidden"];break;default:o[y]===void 0&&(d[y]=x)}}const c=E2(t,s),u=c.attributes;if(s.inline&&(a.verticalAlign="-0.125em"),i==="svg"){d.style={...a,...l},Object.assign(d,u);let y=0,x=e.id;return typeof x=="string"&&(x=x.replace(/-/g,"_")),d.dangerouslySetInnerHTML={__html:wA(C2(c.body,x?()=>x+"ID"+y++:"iconifyReact"))},v.createElement("svg",d)}const{body:f,width:p,height:h}=t,b=i==="mask"||(i==="bg"?!1:f.indexOf("currentColor")!==-1),g=bA(f,{...u,width:p+"",height:h+""});return d.style={...a,"--svg":xA(g),width:K2(u.width),height:K2(u.height),...SA,...b?hf:W2,...l},v.createElement("span",d)};if(x2(!0),GM("",XM),typeof document<"u"&&typeof window<"u"){z2();const t=window;if(t.IconifyPreload!==void 0){const e=t.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(r=>{try{(typeof r!="object"||r===null||r instanceof Array||typeof r.icons!="object"||typeof r.prefix!="string"||!w2(r))&&console.error(n)}catch{console.error(n)}})}if(t.IconifyProviders!==void 0){const e=t.IconifyProviders;if(typeof e=="object"&&e!==null)for(let n in e){const r="IconifyProviders["+n+"] is invalid.";try{const o=e[n];if(typeof o!="object"||!o||o.resources===void 0)continue;T2(n,o)||console.error(r)}catch{console.error(r)}}}}class q2 extends v.Component{constructor(e){super(e),this.state={icon:null}}_abortLoading(){this._loading&&(this._loading.abort(),this._loading=null)}_setData(e){this.state.icon!==e&&this.setState({icon:e})}_checkIcon(e){const n=this.state,r=this.props.icon;if(typeof r=="object"&&r!==null&&typeof r.body=="string"){this._icon="",this._abortLoading(),(e||n.icon===null)&&this._setData({data:r});return}let o;if(typeof r!="string"||(o=fl(r,!1,!0))===null){this._abortLoading(),this._setData(null);return}const s=FM(o);if(!s){(!this._loading||this._loading.name!==r)&&(this._abortLoading(),this._icon="",this._setData(null),s!==null&&(this._loading={name:r,abort:H2([o],this._checkIcon.bind(this,!1))}));return}if(this._icon!==r||n.icon===null){this._abortLoading(),this._icon=r;const i=["iconify"];o.prefix!==""&&i.push("iconify--"+o.prefix),o.provider!==""&&i.push("iconify--"+o.provider),this._setData({data:s,classes:i}),this.props.onLoad&&this.props.onLoad(r)}}componentDidMount(){this._checkIcon(!1)}componentDidUpdate(e){e.icon!==this.props.icon&&this._checkIcon(!0)}componentWillUnmount(){this._abortLoading()}render(){const e=this.props,n=this.state.icon;if(n===null)return e.children?e.children:v.createElement("span",{});let r=e;return n.classes&&(r={...e,className:(typeof e.className=="string"?e.className+" ":"")+n.classes.join(" ")}),CA({...Xu,...n.data},r,e._inline,e._ref)}}const TA=v.forwardRef(function(e,n){const r={...e,_ref:n,_inline:!1};return v.createElement(q2,r)});v.forwardRef(function(e,n){const r={...e,_ref:n,_inline:!0};return v.createElement(q2,r)});const NA=Object.freeze(Object.defineProperty({__proto__:null,Icon:TA,addAPIProvider:T2,addCollection:w2,addIcon:$2,buildIcon:E2,calculateSize:tf,loadIcons:H2,replaceIDs:C2},Symbol.toStringTag,{value:"Module"}));var MA=Rt.domAnimation;const mf=Object.freeze(Object.defineProperty({__proto__:null,default:MA},Symbol.toStringTag,{value:"Module"}));se.Accordion=Uv,se.AnimatedList=a9,se.AutoComplete=Rf,se.Avatar=Gv,se.Badge=Kv,se.BadgeNotif=Q5,se.Breadcrumbs=wg,se.Button=Ae,se.Card=Sl,se.CheckBoxGroup=zf,se.Checkbox=no,se.Chip=Xv,se.DatePicker=Vf,se.Dialog=ro,se.DialogActions=io,se.DialogBody=so,se.DialogHeader=Cl,se.DialogTitle=oo,se.Divider=Uf,se.ErrorWrapper=Z5,se.FileUpload=Kf,se.Icon=xe,se.Input=mn,se.InputOTP=Mg,se.Loader=n9,se.NegativeCase=s9,se.Notification=ax,se.Pagination=qf,se.PhoneInput=Kd,se.PhoneInputDemo=z5,se.Popover=H5,se.PrimitiveDatePicker=Js,se.Progress=Gm,se.Radio=Ml,se.RadioGroup=Yf,se.Select=Nl,se.SelectItem=Ko,se.Skeleton=Xf,se.Slider=Zf,se.StarRating=fx,se.StatusIndicator=mx,se.Stepper=yx,se.Switch=tp,se.Table=U5,se.Tabs=vx,se.Text=ao,se.Textarea=np,se.TimePicker=op,se.Toast=qd,se.ToastProvider=q5,se.Toggle=ip,se.Tooltip=Um,se.WysiwygEditor=OM,se.buttonVariants=_f,se.cardVariants=Ff,se.cn=U,se.inputOTPVariants=Ng,se.sanitizeHtml=Ws,se.toggleVariants=sp,se.useToast=Y5,Object.defineProperty(se,Symbol.toStringTag,{value:"Module"})});
